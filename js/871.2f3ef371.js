"use strict";(self["webpackChunkuerm_ehr"]=self["webpackChunkuerm_ehr"]||[]).push([[871],{8946:(e,t,a)=>{a.r(t),a.d(t,{default:()=>fe});a(5363);var o=a(3673),i=a(8880),l=a(2323);const n=(0,o._)("span",{class:"text-weight-bold"},"UERM",-1),s=(0,o._)("span",{class:"text-weight-light"},"Electronic Health Records",-1),r=(0,o.Uk)("UERM - EHR"),c=(0,o.Uk)(" HELP "),d=(0,o.Uk)(" GENERAL MEDICAL NOTES "),m={class:"text-white text-uppercase text-overline"},u={class:"row wrap justify-between items-start content-start q-px-md"},h={class:"text-uppercase"},p={class:"q-ml-md q-px-md q-pb-md"},f={key:0},g={key:0},w={key:0},b={key:1},N=(0,o._)("br",null,null,-1),_=(0,o._)("div",{class:"q-pt-md text-h5 text-overline"}," PLEASE SELECT A CLINICAL NOTE ",-1);function y(e,t,a,y,v,C){const I=(0,o.up)("q-btn"),S=(0,o.up)("q-toolbar-title"),x=(0,o.up)("q-space"),q=(0,o.up)("q-icon"),W=(0,o.up)("q-input"),Z=(0,o.up)("AccountInfo"),k=(0,o.up)("q-btn-dropdown"),E=(0,o.up)("q-toolbar"),Q=(0,o.up)("q-header"),D=(0,o.up)("q-item-label"),L=(0,o.up)("q-item-section"),O=(0,o.up)("q-item"),M=(0,o.up)("q-separator"),P=(0,o.up)("q-list"),T=(0,o.up)("q-scroll-area"),G=(0,o.up)("q-drawer"),$=(0,o.up)("q-card-section"),R=(0,o.up)("clinical-note-hierarchy"),U=(0,o.up)("GeneralNoteEntry"),V=(0,o.up)("q-spinner-ball"),A=(0,o.up)("q-inner-loading"),z=(0,o.up)("q-splitter"),H=(0,o.up)("q-card"),j=(0,o.up)("q-dialog"),B=(0,o.up)("router-view"),K=(0,o.up)("q-page-container"),F=(0,o.up)("q-layout"),J=(0,o.Q2)("ripple");return(0,o.wg)(),(0,o.j4)(F,{view:"hHh Lpr lfF"},{default:(0,o.w5)((()=>[(0,o.Wm)(Q,{class:"bg-blue-10"},{default:(0,o.w5)((()=>[(0,o.Wm)(E,null,{default:(0,o.w5)((()=>[(0,o.Wm)(I,{flat:"",onClick:t[0]||(t[0]=t=>e.bools.isDrawerOpen=!e.bools.isDrawerOpen),round:"",dense:"",class:"orientation-portrait",icon:"menu"}),(0,o.Wm)(S,{class:"q-gutter-x-sm"},{default:(0,o.w5)((()=>[n,s])),_:1}),(0,o.Wm)(x),(0,o.Wm)(W,{label:"Patient Search",dark:"",dense:"",filled:"","stack-label":"",color:"white",modelValue:e.form.patientName,"onUpdate:modelValue":t[1]||(t[1]=t=>e.form.patientName=t),onKeyup:e.searchPatient,class:"orientation-landscape"},{append:(0,o.w5)((()=>[(0,o.Wm)(q,{name:"fas fa-search"})])),_:1},8,["modelValue","onKeyup"]),(0,o.Wm)(I,{onClick:(0,i.iM)(e.showPatientSearch,["prevent"]),class:"orientation-portrait",icon:"fas fa-search",flat:"",round:""},null,8,["onClick"]),(0,o.Wm)(k,{class:"q-ml-sm",rounded:"",flat:"",icon:"fas fa-user"},{default:(0,o.w5)((()=>[(0,o.Wm)(Z)])),_:1})])),_:1})])),_:1}),(0,o.Wm)(G,{modelValue:e.bools.isDrawerOpen,"onUpdate:modelValue":t[2]||(t[2]=t=>e.bools.isDrawerOpen=t),"show-if-above":"",mini:e.bools.isMiniState,onMouseover:t[3]||(t[3]=t=>e.bools.isMiniState=!1),onMouseout:t[4]||(t[4]=t=>e.bools.isMiniState=!0),width:200,breakpoint:500,bordered:"",class:"bg-white"},{default:(0,o.w5)((()=>[(0,o.Wm)(T,{class:"fit"},{default:(0,o.w5)((()=>[(0,o.Wm)(P,{class:"blue-10"},{default:(0,o.w5)((()=>[(0,o.Wm)(O,{class:"lt-sm bg-blue-10"},{default:(0,o.w5)((()=>[(0,o.Wm)(L,{class:"text-center text-white text-h5 text-weight-bold"},{default:(0,o.w5)((()=>[(0,o.Wm)(D,null,{default:(0,o.w5)((()=>[r])),_:1})])),_:1})])),_:1}),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(this.mainNavigation,((e,t)=>(0,o.wy)(((0,o.wg)(),(0,o.j4)(O,{clickable:"",key:t,to:e.route.replace("role",this.role)},{default:(0,o.w5)((()=>[(0,o.Wm)(L,{avatar:""},{default:(0,o.w5)((()=>[(0,o.Wm)(q,{name:e.icon,class:"bg-blue-10 uerm-rounded q-pa-sm text-white",size:"md"},null,8,["name"])])),_:2},1024),(0,o.Wm)(L,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(e.name),1)])),_:2},1024)])),_:2},1032,["to"])),[[J]]))),128)),(0,o.Wm)(M),(0,o.wy)(((0,o.wg)(),(0,o.j4)(O,{clickable:"",to:"/helpdesk"},{default:(0,o.w5)((()=>[(0,o.Wm)(L,{avatar:""},{default:(0,o.w5)((()=>[(0,o.Wm)(q,{name:"fa fa-question-circle",class:"bg-blue-10 uerm-rounded q-pa-sm text-white",size:"md"})])),_:1}),(0,o.Wm)(L,null,{default:(0,o.w5)((()=>[c])),_:1})])),_:1})),[[J]])])),_:1})])),_:1})])),_:1},8,["modelValue","mini"]),(0,o.Wm)(G,{side:"right",modelValue:this.bools.isRightDrawerOpen,"onUpdate:modelValue":t[5]||(t[5]=e=>this.bools.isRightDrawerOpen=e),width:250,class:"bg-blue-grey-2",bordered:""},{default:(0,o.w5)((()=>[(0,o._)("div",null,[(0,o.Wm)(P,{bordered:"",separator:"",dark:""},{default:(0,o.w5)((()=>[(0,o.Wm)(O,{class:"q-pa-none text-body1 text-black text-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(L,{class:"text-weight-medium"},{default:(0,o.w5)((()=>[d])),_:1})])),_:1}),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.generalNotes,((t,a)=>(0,o.wy)(((0,o.wg)(),(0,o.j4)(O,{clickable:"",onClick:a=>e.openGeneralDataDialog(t),key:a,class:"bg-blue-10 q-pa-sm"},{default:(0,o.w5)((()=>[(0,o.Wm)(L,{avatar:""},{default:(0,o.w5)((()=>[(0,o.Wm)(q,{name:t.icon,class:"uerm-rounded text-white",size:"sm",style:{"min-width":"40px !important"}},null,8,["name"])])),_:2},1024),(0,o.Wm)(L,null,{default:(0,o.w5)((()=>[(0,o._)("div",m,(0,l.zw)(t.name),1)])),_:2},1024)])),_:2},1032,["onClick"])),[[J]]))),128))])),_:1})])])),_:1},8,["modelValue"]),(0,o.Wm)(j,{modelValue:e.bools.isGeneralInfoOpen,"onUpdate:modelValue":t[11]||(t[11]=t=>e.bools.isGeneralInfoOpen=t),persistent:""},{default:(0,o.w5)((()=>[(0,o.Wm)(H,{class:"q-ma-md",style:{height:"100vh","max-width":"100vw"},square:""},{default:(0,o.w5)((()=>[(0,o.Wm)($,{class:"text-h5 text-weight-light bg-blue-10 text-white"},{default:(0,o.w5)((()=>[(0,o._)("div",u,[(0,o._)("div",h,(0,l.zw)(`${e.caseInfo.lastname}, ${e.caseInfo.firstname} ${e.caseInfo.middlename}`)+" - "+(0,l.zw)(this.clinicalNoteInfo.clinicalCategoryName),1),(0,o.Wm)(I,{color:"negative",label:"Close",onClick:t[6]||(t[6]=(0,i.iM)((t=>e.bools.isGeneralInfoOpen=!1),["prevent"])),icon:"fas fa-times"})])])),_:1}),(0,o.Wm)(T,{class:"q-pa-md",style:{height:"87.5vh",width:"93vw"}},{default:(0,o.w5)((()=>[(0,o.Wm)(z,{modelValue:e.generalSplitter,"onUpdate:modelValue":t[10]||(t[10]=t=>e.generalSplitter=t)},(0,o.Nv)({before:(0,o.w5)((()=>[(0,o._)("div",null,[(0,o.Wm)(R,{clinicalNoteTree:this.clinicalNoteTree,clinicalEncounters:this.clinicalEncounters,noteMode:this.bools.noteMode,onOpenEntryNotes:e.setEntryNotes,onSetUpdateNote:e.setUpdateNote},null,8,["clinicalNoteTree","clinicalEncounters","noteMode","onOpenEntryNotes","onSetUpdateNote"])])])),_:2},[this.bools.noteMode?{name:"after",fn:(0,o.w5)((()=>[(0,o._)("div",p,[(0,o._)("div",{style:{height:"80vh"},class:(0,l.C_)([[this.bools.noteMode?"":"flex flex-center"],"text-center"])},[this.bools.noteMode?((0,o.wg)(),(0,o.iD)("div",f,[this.bools.generalNoteLoading?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",g,[null!==this.clinicalNoteInfo.format?((0,o.wg)(),(0,o.iD)("div",w,[e.bools.generalEntryLoading?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(U,{key:0,clinicalNoteInfo:this.clinicalNoteInfo,editNoteInfo:this.editNoteInfo,onCheckGeneralNotes:t[7]||(t[7]=t=>e.fetchGeneralNotes()),onSetClinicalNoteFormat:t[8]||(t[8]=t=>e.setClinicalNotes(this.clinicalNoteInfo)),onGoBackToSelection:t[9]||(t[9]=t=>e.setInit())},null,8,["clinicalNoteInfo","editNoteInfo"]))])):(0,o.kq)("",!0)])),(0,o.Wm)(A,{showing:e.bools.generalNoteLoading},{default:(0,o.w5)((()=>[(0,o.Wm)(V,{size:"50px",color:"primary"})])),_:1},8,["showing"])])):((0,o.wg)(),(0,o.iD)("div",b,[(0,o.Wm)(q,{name:"fa fa-exclamation-circle",size:"xl"}),N,_]))],2)])]))}:{name:"after",fn:(0,o.w5)((()=>[]))}]),1032,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(K,{class:"bg-grey-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(B)])),_:1})])),_:1})}a(6801);const v={style:{width:"600px","max-width":"50vw"}},C=(0,o._)("div",{class:"row q-gutter-lg justify-end"},[(0,o._)("div",{class:"col-12 col-sm-auto column items-end"},[(0,o._)("div",{class:"col text-blue-grey-3 text-weight-medium text-xs"}," USERNAME: "),(0,o._)("div",{class:"col"},"Jommar Ilagan")]),(0,o._)("div",{class:"col-12 col-sm-auto column items-end"},[(0,o._)("div",{class:"col text-blue-grey-3 text-weight-medium text-xs"}," DEPARTMENT: "),(0,o._)("div",{class:"col"},"Information Technology")]),(0,o._)("div",{class:"col-12 col-sm-auto column items-end"},[(0,o._)("div",{class:"col text-blue-grey-3 text-weight-medium text-xs"}," POSITION: "),(0,o._)("div",{class:"col"},"Programmer")])],-1);function I(e,t){const a=(0,o.up)("q-card-section"),i=(0,o.up)("q-card");return(0,o.wg)(),(0,o.iD)("div",v,[(0,o.Wm)(i,{flat:"",dark:"",square:""},{default:(0,o.w5)((()=>[(0,o.Wm)(a,null,{default:(0,o.w5)((()=>[C])),_:1})])),_:1})])}var S=a(4260),x=a(151),q=a(5589),W=a(7518),Z=a.n(W);const k={},E=(0,S.Z)(k,[["render",I]]),Q=E;Z()(k,"components",{QCard:x.Z,QCardSection:q.Z});var D=a(3617);const L=(0,o.aZ)({name:"PatientList",data(){return{}},computed:{...(0,D.Se)("patients",["searchList"]),...(0,D.Se)("bools",["isPatientSearching"])},methods:{async encryptStr(e){const t=await this.$store.dispatch("helpers/encrypt",e);return t.encrypted},async viewPatientRecord(e){const t=await this.encryptStr(e);this.$emit("selectPatient"),this.$router.push(`/patient-dashboard/${t}`)}}});var O=a(6122),M=a(7011),P=a(3414),T=a(2035),G=a(8870),$=a(6375),R=a(2165);Z()(L,"components",{QCircularProgress:O.Z,QList:M.Z,QItem:P.Z,QItemSection:T.Z,QTooltip:G.Z,QBtnGroup:$.Z,QBtn:R.Z});a(3972);var U=a(4241),V=a(8008);const A=(0,o.aZ)({components:{AccountInfo:Q,GeneralNoteEntry:U.Z,ClinicalNoteHierarchy:V.Z},name:"AppLayout",data(){return{search:"",bools:{isDrawerOpen:!1,isMiniState:!0,isSearchOpen:!1,isRightDrawerOpen:!1,isGeneralInfoOpen:!1,isGeneralInfoOpen:!1,generalNoteLoading:!1},clinicalNoteInfo:{currentTitle:null,title:null,name:null,format:null,clinicalNoteCode:null,clinicalCategoryCode:null,clinicalCategoryName:null,clinicalNotes:[]},form:{patientName:""},generalSplitter:70}},computed:{...(0,D.Se)({mainNavigation:"helpers/mainNavigation",role:"user/role",generalNotes:"clinicalNotes/generalNotes",encounterCases:"encounters/encounterCases",clinicalEncounters:"encounters/clinicalEncounters",clinicalNotes:"clinicalNotes/clinicalNotes"}),caseInfo(){return 0==this.encounterCases.length?{}:this.encounterCases.map((e=>({caseno:e.case_no,patientno:e.patient_no,lastname:e.last_name,firstname:e.first_name,middlename:e.middle_name,gender:e.sex,birthdate:e.birthDate,category:e.patient_category,room:e.room,unit:e.room_unit,ward:e.ward,admitted:new Date(e.datetime_admitted).toDateString(),discharged:e.datetime_discharged?new Date(e.datetime_discharged).toDateString():"",chiefComplaint:e.chief_complaint})))[0]}},watch:{generalSplitter(e){90===e&&(this.generalSplitter=100)},"$route.name":{async handler(e){this.bools.isRightDrawerOpen="emr"===e},deep:!0}},mounted(){this.checkPlatform()},methods:{async openGeneralDataDialog(e){this.generalSplitter=100,this.bools.isGeneralInfoOpen=!0,this.bools.generalNoteLoading=!0,this.clinicalNoteInfo.clinicalCategoryCode=e.code,this.clinicalNoteInfo.clinicalCategoryName=e.name;var t=this.generalNotes.filter((t=>t.code===e.code));this.clinicalNoteTree=t,setTimeout((async()=>{this.clinicalNotesLists=e.children,this.fetchGeneralNotes()}),500)},async fetchGeneralNotes(){let e="";e={patientNo:this.encounterCases[0].patientID,clinicalCategoryCode:this.clinicalNoteInfo.clinicalCategoryCode,checking:!0,byCategoryCode:!0},await this.$store.dispatch("encounters/getClinicalEncounters",e),this.clinicalEncounterLists=this.clinicalEncounters,this.bools.generalNoteLoading=!1},setEntryNotes(e){this.bools.generalNoteLoading=!0,this.bools.noteMode=!0,this.generalSplitter=70,this.setClinicalNotes(e),setTimeout((async()=>{this.bools.generalNoteLoading=!1}),500)},setUpdateNote(e){this.generalSplitter=70,this.bools.noteMode=!0,this.bools.enableEntry=!0;const t={clinical_note_code:e.clinical_note_code,clinical_note:e.clinical_note_name,result_format:JSON.parse(e.result_format),clinical_encounter_id:parseInt(e.clinical_encounter_id)};this.setPatientNotes(t)},setPatientNotes(e){this.bools.generalEntryLoading=!0,this.bools.generalNoteLoading=!0,setTimeout((()=>{this.editNoteInfo=e;const t={name:e.clinical_note,code:e.clinical_note_code,template_format:e.result_format,title:e.clinical_note};this.setClinicalNoteInfo(t,!1),this.bools.generalEntryLoading=!1,this.bools.generalNoteLoading=!1}),500)},async setClinicalNotes(e){void 0!==e.clinicalNoteCode&&(this.editNoteInfo=[]);const t=void 0===e.clinical_note_code?e.clinicalNoteCode:e.clinical_note_code;var a=this.clinicalNotes.filter((e=>e.code===t));this.setClinicalNoteInfo(a[0],!0),this.fetchGeneralNotes()},async setClinicalNoteInfo(e,t){if(this.clinicalNoteInfo.name=e.name,this.clinicalNoteInfo.clinicalNoteCode=e.code,this.clinicalNoteInfo.format=e.template_format,t){let t=void 0===e.template_format.title?null:e.template_format.title;this.clinicalNoteInfo.title=null===t?e.name:t}else{var a=this.clinicalNotes.filter((t=>t.code===e.code));let t=void 0===a[0].template_format.title?null:a[0].template_format.title;this.clinicalNoteInfo.title=null===t?a[0].name:t}},setInit(){console.log("herer"),this.bools.enableEntry=!1,this.bools.generalNoteLoading=!0,this.editNoteInfo=[],this.bools.noteMode=!1,this.generalSplitter=100,this.fetchGeneralNotes()},closeRightDialog(){this.bools.isSearchOpen=!1,this.form.patientName=""},showPatientSearch(){this.bools.isSearchOpen=!this.bools.isSearchOpen},async searchPatient(){this.form.patientName.trim().length<5||(this.$store.commit("bools/isPatientSearching",!0),await this.$store.dispatch("patients/search",this.form.patientName),this.$store.commit("bools/isPatientSearching",!1))},checkPlatform(){"nurses"!==this.$route.name&&"doctors"!==this.$route.name||this.role!==this.$route.name&&this.$router.push({name:this.role,params:{routes:this.$route.params.routes}}),"emr"===this.$route.name?this.bools.isRightDrawerOpen=!0:this.bools.isRightDrawerOpen=!1}}});var z=a(9214),H=a(3812),j=a(9570),B=a(3747),K=a(2025),F=a(9721),J=a(811),Y=a(9367),X=a(2226),ee=a(5869),te=a(5096),ae=a(4842),oe=a(4554),ie=a(2901),le=a(7704),ne=a(2350),se=a(6778),re=a(218),ce=a(6941),de=a(1070),me=a(2652),ue=a(677),he=a(6489);const pe=(0,S.Z)(A,[["render",y]]),fe=pe;Z()(A,"components",{QLayout:z.Z,QHeader:H.Z,QToolbar:j.Z,QBtn:R.Z,QToolbarTitle:B.Z,QSpace:K.Z,QBadge:F.Z,QMenu:J.Z,QList:M.Z,QCard:x.Z,QCardActions:Y.Z,QBtnDropdown:X.Z,QSeparator:ee.Z,QAvatar:te.Z,QInput:ae.Z,QIcon:oe.Z,QDrawer:ie.Z,QScrollArea:le.Z,QItem:P.Z,QItemSection:T.Z,QItemLabel:ne.Z,QDialog:se.Z,QCardSection:q.Z,QSplitter:re.Z,QInnerLoading:ce.Z,QSpinnerBall:de.Z,QPageContainer:me.Z}),Z()(A,"directives",{ClosePopup:ue.Z,Ripple:he.Z})}}]);