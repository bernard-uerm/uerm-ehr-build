(()=>{var e={4001:(e,t,n)=>{"use strict";n(5363),n(71);var a=n(8880),o=n(9592),i=n(3673);function r(e,t,n,a,o,r){const c=(0,i.up)("router-view");return(0,i.wg)(),(0,i.j4)(c)}const c=(0,i.aZ)({name:"App"});var l=n(4260);const s=(0,l.Z)(c,[["render",r]]),u=s;var p=n(7679),h=n(7083),d=n(9582);const m=[{path:"/",component:()=>Promise.all([n.e(736),n.e(64),n.e(39)]).then(n.bind(n,1385)),children:[{name:"dashboard",path:"",component:()=>Promise.all([n.e(736),n.e(441)]).then(n.bind(n,1441))}]},{path:"/admin",component:()=>Promise.all([n.e(736),n.e(341)]).then(n.bind(n,2341)),children:[{name:"ClinicalNoteCategories",path:"categories",component:()=>Promise.all([n.e(736),n.e(64),n.e(598)]).then(n.bind(n,598)),children:[{name:"CategorySections",path:"sections/:sectionID",component:()=>Promise.all([n.e(736),n.e(64)]).then(n.bind(n,6322))}]},{name:"ClinicalNotes",path:"clinical-notes/:categoryCode",component:()=>Promise.all([n.e(736),n.e(64),n.e(429)]).then(n.bind(n,3429))},{name:"Template",path:"template",component:()=>Promise.all([n.e(736),n.e(64),n.e(583)]).then(n.bind(n,3583)),children:[{name:"NewTemplate",path:"new",component:()=>Promise.all([n.e(736),n.e(64)]).then(n.bind(n,3756))},{name:"EditTemplate",path:"edit/:id",component:()=>Promise.all([n.e(736),n.e(64)]).then(n.bind(n,4635))}]}]},{path:"/patient-dashboard",component:()=>Promise.all([n.e(736),n.e(64),n.e(39)]).then(n.bind(n,1385)),children:[{path:":patientno",component:()=>Promise.all([n.e(736),n.e(64),n.e(59)]).then(n.bind(n,59))}]},{path:"/patient-record",component:()=>Promise.all([n.e(736),n.e(64),n.e(39)]).then(n.bind(n,1385)),children:[{path:"imaging/:patientno",component:()=>Promise.all([n.e(736),n.e(64),n.e(513)]).then(n.bind(n,3513))},{path:"laboratories/:patientno",component:()=>Promise.all([n.e(736),n.e(64),n.e(548)]).then(n.bind(n,7548))},{path:"consultation/:patientno",component:()=>Promise.all([n.e(736),n.e(386)]).then(n.bind(n,5386))}]},{path:"/doctors",component:()=>Promise.all([n.e(736),n.e(64),n.e(39)]).then(n.bind(n,1385)),children:[{name:"doctors",path:"/doctors/:routes",component:()=>Promise.all([n.e(736),n.e(64),n.e(526)]).then(n.bind(n,7585))}]},{path:"/nurses",component:()=>Promise.all([n.e(736),n.e(64),n.e(39)]).then(n.bind(n,1385)),children:[{name:"nurses",path:"/nurses/:routes",component:()=>Promise.all([n.e(736),n.e(64),n.e(430)]).then(n.bind(n,4543))}]},{path:"/emr",component:()=>Promise.all([n.e(736),n.e(64),n.e(39)]).then(n.bind(n,1385)),children:[{name:"emr",path:"/emr/case/:caseNo",component:()=>Promise.all([n.e(736),n.e(64),n.e(214)]).then(n.bind(n,3766))},{name:"emr-checked",path:"/emr/case/:caseNo/checked",component:()=>Promise.all([n.e(736),n.e(64),n.e(214)]).then(n.bind(n,3766))},{name:"emr-test",path:"/emr/emr-test",component:()=>Promise.all([n.e(736),n.e(689)]).then(n.bind(n,2230))}]},{path:"/chat",component:()=>Promise.all([n.e(736),n.e(337)]).then(n.bind(n,3337)),children:[{name:"Chat",path:"/",component:()=>Promise.all([n.e(736),n.e(64),n.e(214)]).then(n.bind(n,3766))}]},{path:"/:catchAll(.*)*",component:()=>Promise.all([n.e(736),n.e(614)]).then(n.bind(n,5614))}],f=m,y=(0,h.BC)((function(){const e=d.r5,t=(0,d.p7)({scrollBehavior:()=>({left:0,top:0}),routes:f,history:e("/vue/ehr/")});return t}));async function g(e,t){const a="function"===typeof p["default"]?await(0,p["default"])({}):p["default"],{storeKey:i}=await Promise.resolve().then(n.bind(n,7679)),r="function"===typeof y?await y({store:a}):y;a.$router=r;const c=e(u);return c.use(o.Z,t),{app:c,store:a,storeKey:i,router:r}}var C=n(4434),N=n(5151);const T={config:{notify:{},dialog:{}},plugins:{Notify:C.Z,Dialog:N.Z}},b="/vue/ehr/",v=/\/\//,w=e=>(b+e).replace(v,"/");async function S({app:e,router:t,store:n,storeKey:a},o){let i=!1;const r=e=>{try{return w(t.resolve(e).href)}catch(n){}return Object(e)===e?null:e},c=e=>{if(i=!0,"string"===typeof e&&/^https?:\/\//.test(e))return void(window.location.href=e);const t=r(e);null!==t&&(window.location.href=t,window.location.reload())},l=window.location.href.replace(window.location.origin,"");for(let u=0;!1===i&&u<o.length;u++)try{await o[u]({app:e,router:t,store:n,ssrContext:null,redirect:c,urlPath:l,publicPath:b})}catch(s){return s&&s.url?void c(s.url):void console.error("[Quasar] boot error:",s)}!0!==i&&(e.use(t),e.use(n,a),e.mount("#q-app"))}g(a.ri,T).then((e=>Promise.all([Promise.resolve().then(n.bind(n,5474)),Promise.resolve().then(n.bind(n,1723))]).then((t=>{const n=t.map((e=>e.default)).filter((e=>"function"===typeof e));S(e,n)}))))},1723:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(8727);const o=({app:e})=>{const t={clientId:"629822413811-81471o9stmhgc1o1lru3dhg39lg5t0df.apps.googleusercontent.com",scope:"email",prompt:"select_account"};e.use(a.Z,t)}},5474:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c,api:()=>r});var a=n(7083),o=n(52),i=n.n(o);const r=i().create({baseURL:"https://api.example.com"}),c=(0,a.xr)((({app:e})=>{e.config.globalProperties.$axios=i(),e.config.globalProperties.$api=r}))},7261:()=>{},7679:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>dn});var a={};n.r(a),n.d(a,{buildBreadcrumbs:()=>A,buildHashTable:()=>x,buildURL:()=>B,clinicalNoteFilter:()=>I,clinicalNoteTreeValues:()=>J,clone:()=>k,colorEMR:()=>P,drawerRight:()=>E,infiniteScroll:()=>_,initValuesFields:()=>F,isEmpty:()=>G,loadTree:()=>R,mainNavigation:()=>w,patientEncounterInfoTab:()=>D,removedFields:()=>$,showClinicalNoteDetails:()=>j,templateFields:()=>O,userRole:()=>S});var o={};n.r(o),n.d(o,{loadTree:()=>X,openRightDrawer:()=>V,setClinicalNoteFilter:()=>Q,setClinicalNoteTreeValues:()=>z,setColorEMR:()=>q,setInfiniteScroll:()=>L,setInitValuesFields:()=>H,setPatientEncounterInfoTab:()=>M,setRemovedField:()=>Y,setShowClinicalNoteDetails:()=>U,setTemplateFields:()=>W,toggleSelectedTitle:()=>K,toggleStatusField:()=>Z});var i={};n.r(i),n.d(i,{decrypt:()=>ie,encrypt:()=>oe,formatDate:()=>se,getQnapAuth:()=>re,loadTree:()=>de,openRightDrawer:()=>ee,searchIcd10:()=>le,setClinicalNoteFilter:()=>pe,setClinicalNoteTreeValues:()=>he,setColorEMR:()=>te,setInfiniteScroll:()=>ce,setInitValuesFields:()=>ue,setPatientEncounterInfoTab:()=>ne,showClinicalNoteDetails:()=>ae});var r={};n.r(r),n.d(r,{admissionEncounterNotes:()=>Fe,clinicalCategoryList:()=>Se,clinicalCategoryNotes:()=>ve,clinicalInputTypes:()=>we,clinicalNoteCategories:()=>ge,clinicalNoteCategoryTree:()=>ye,clinicalNoteDetailValues:()=>be,clinicalNoteDetails:()=>Te,clinicalNoteTemplateFormat:()=>Pe,clinicalNotes:()=>Ce,clinicalNotesGrouped:()=>Ee,clinicalTemplate:()=>De,clinical_notes_dict:()=>Ne,currentClinicalNote:()=>je,generalNotes:()=>Oe,templateDetails:()=>_e,visitEncounterNotes:()=>$e});var c={};n.r(c),n.d(c,{setAdmissionEncounterNotes:()=>Ye,setClinicalCategoryNotes:()=>ke,setClinicalInputTypes:()=>Ve,setClinicalNoteCategories:()=>Ge,setClinicalNoteCategoryTree:()=>Re,setClinicalNoteDetailValues:()=>Be,setClinicalNoteDetails:()=>Ae,setClinicalNoteTemplateDetails:()=>Ue,setClinicalNoteTemplateFormat:()=>qe,setClinicalNotes:()=>xe,setClinicalTemplate:()=>Me,setGeneralDataNotes:()=>Le,setVisitEncounterNotes:()=>We});var l={};n.r(l),n.d(l,{fetchClinicalCategories:()=>Ke,fetchClinicalCategoryNotes:()=>Qe,fetchClinicalInputTypes:()=>tt,fetchClinicalNoteCategoryTree:()=>He,fetchClinicalNoteDetailValues:()=>et,fetchClinicalNoteDetails:()=>Xe,fetchClinicalNotes:()=>ze,fetchTemplates:()=>st,getTemplateById:()=>ut,saveClinicalNoteCategories:()=>ot,saveClinicalNoteFields:()=>ct,saveClinicalNoteTemplate:()=>rt,saveClinicalNoteTemplateFields:()=>lt,saveClinicalNotes:()=>nt,updateClinicalNoteCategories:()=>it,updateClinicalNoteTemplates:()=>pt,updateClinicalNotes:()=>at});var s={};n.r(s),n.d(s,{active:()=>Nt,patientDepts:()=>gt,patients:()=>mt,patientsGrouped:()=>yt,pxType:()=>ft,searchList:()=>Ct});var u={};n.r(u),n.d(u,{populatePatientSearch:()=>bt,populatePatients:()=>Tt});var p={};n.r(p),n.d(p,{getActiveStat:()=>jt,getBasicInfo:()=>wt,getOPDPatients:()=>_t,getPatientsByDr:()=>Dt,history:()=>St,imagingResults:()=>Et,laboratoryResults:()=>Pt,search:()=>vt});var h={};n.r(h),n.d(h,{accountType:()=>It,credentials:()=>Jt,role:()=>Ft});var d={};n.r(d),n.d(d,{changeAccount:()=>Rt});var m={};n.r(m),n.d(m,{isPatientSearching:()=>Bt});var f={};n.r(f),n.d(f,{isPatientSearching:()=>kt});var y={};n.r(y),n.d(y,{clinicalEncounterDetails:()=>Wt,clinicalEncounters:()=>Lt,clinicalEncountersPage:()=>Yt,clinicalEncountersRows:()=>Zt,encounterCases:()=>Ut,patientGeneralNotes:()=>Ht});var g={};n.r(g),n.d(g,{setClinicalEncounterDetails:()=>Qt,setClinicalEncounters:()=>zt,setEncounterCases:()=>Kt,setPatientGeneralNotes:()=>Xt});var C={};n.r(C),n.d(C,{addPatientClinicalEncounter:()=>rn,fetchGeneralNotes:()=>pn,getCases:()=>en,getClinicalEncounterDetails:()=>nn,getClinicalEncounters:()=>tn,saveClinicalEncounter:()=>an,saveClinicalEncounterDetails:()=>on,savePatientGeneralNotes:()=>un,updateClinicalEncounter:()=>ln,updateClinicalEncounterDetails:()=>sn,updatePatientClinicalEncounter:()=>cn});var N=n(7083),T=n(3617);const b=e=>!!(null===e||void 0===e||""===e||Array.isArray(e)&&0===e.length||"object"===typeof e&&0===Object.keys(e).length);function v(){return{role:"nurses",drawerRight:!0,colorEMR:"primary",patientEncounterInfoTab:"otherInfo",showClinicalNoteDetails:!1,currentCNDDetails:null,clinicalNoteTitle:null,currentCNTab:null,userRole:"nurses",infiniteScroll:!0,templateFields:[],removedFields:[],initValuesFields:!1,clinicalNoteFilter:"",clinicalNoteTreeValues:[],loadTree:!1,mainNavigation:[{name:"HOME",icon:"fa fa-hospital",route:"/"},{name:"TOOLS",icon:"fa fa-tools",route:"/role/tools"},{name:"ANALYTICS",icon:"fa fa-chart-line",route:"/role/analytics"}],isEmpty:b,buildHashTable:function(e,t="key"){if(null==e||!Array.isArray(e))throw"`arr` argument is required and should be an array.";const n={};return e.forEach((e=>n[e[t]]={...e})),n},buildBreadcrumbs:function(e,t,n="parent_key"){var a;if(b(e)||b(t))throw"Incomplete arguments.";if("object"!==typeof e||Array.isArray(e))throw"`node` argument should be an object.";if("object"!==typeof t||Array.isArray(t))throw"`hash_table` argument should be an object.";let o=[],i=null!==(a=t[e[n]])&&void 0!==a?a:null;while(i)o.unshift(i.name),i=i[n]&&t[i[n]]?t[i[n]]:null;return o},buildURL:function(e,t,n){return`${e}${"/"===e.charAt(e.length-1)?"":"/"}${t}${"?"===t.charAt(t.length-1)?"":"?"}${Object.entries(n).map((e=>`${e[0]}=${e[1]}`)).join("&")}`},clone:function(e){return e.map((e=>({...e})))}}}function w(e){return e.mainNavigation}function S(e){return e.userRole}function E(e){return e.drawerRight}function P(e){return e.colorEMR}function D(e){return e.patientEncounterInfoTab}function j(e){return e.showClinicalNoteDetails}function _(e){return e.infiniteScroll}function O(e){return e.templateFields}function $(e){return e.removedFields}function F(e){return e.initValuesFields}function I(e){return e.clinicalNoteFilter}function J(e){return e.clinicalNoteTreeValues}function R(e){return e.loadTree}function G(e){return e.isEmpty}function x(e){return e.buildHashTable}function A(e){return e.buildBreadcrumbs}function B(e){return e.buildURL}function k(e){return e.clone}n(71);function V(e,t){e.drawerRight=t}function q(e,t){e.colorEMR=t}function M(e,t){e.patientEncounterInfoTab=t}function U(e,t){e.showClinicalNoteDetails=t}function L(e,t){e.infiniteScroll=t}function W(e,t){for(var n of t)n.status="old",n.active=n.active?1:0;e.templateFields=t}function Y(e,t){for(var n of t)n.active=0;e.removedFields=t}function Z(e,t){for(const[n,a]of e.templateFields.entries())t.index===n&&(a.active=t.status)}function H(e,t){e.initValuesFields=t}function K(e,t){for(var n of e.templateFields)t.selectedTitle&&t.code===n.code?n.selectedTitle=!0:n.selectedTitle=!1}function Q(e,t){e.clinicalNoteFilter=t}function z(e,t){e.clinicalNoteTreeValues=t}function X(e,t){e.loadTree=t}n(2100),n(246),n(5363);function ee(e,t){e.commit("openRightDrawer",t)}function te(e,t){e.commit("setColorEMR",t)}function ne(e,t){e.commit("setPatientEncounterInfoTab",t)}function ae(e,t){e.commit("setShowClinicalNoteDetails",t.show),e.commit("setCurrentCNDDetails",t.code)}async function oe(e,t){const n="https://api.uerm.edu.ph/auth/encrypt?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6",a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({string:t.toString()})}).then((e=>e.json()));return a}async function ie(e,t){const n="https://api.uerm.edu.ph/auth/decrypt?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6",a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({string:t.toString()})}).then((e=>e.json()));return a}async function re(e,t){const n="https://api.uerm.edu.ph/auth/qnap?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6",a=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));return a}async function ce(e,t){e.commit("setInfiniteScroll",t)}async function le(e,t){const n=`https://api.uerm.edu.ph/ehr/search-icd-10/${t.search}/${t.type}?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6`,a=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));for(var o of a)o.label=o.code,o.value=o.description;return a}function se(e,t){var n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];const a=t.date.replace(/T/," ").replace(/Z/," ").substr("0","16"),o=new Date(a),i=new Intl.DateTimeFormat("en",{year:"numeric"}).format(o),r=new Intl.DateTimeFormat("en",{month:"long"}).format(o),c=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(o);let l=o.getMinutes(),s=o.getHours();l<10&&(l="0"+l);let u="AM";s>12&&(s-=12,u="PM");const p=`${s}:${l} ${u}`;let h=n[o.getDay()],d="";return t.withDayName?(d=`${h.toUpperCase()}, ${r.toUpperCase()} ${c}, ${i} ${p} `,d):(d=`${r.toUpperCase()} ${c}, ${i} ${p} `,d)}function ue(e,t){e.commit("setInitValuesFields",t)}function pe(e,t){e.commit("setClinicalNoteFilter",t)}function he(e,t){e.commit("setClinicalNoteTreeValues",t)}function de(e,t){e.commit("loadTree",t)}const me={namespaced:!0,getters:a,mutations:o,actions:i,state:v};function fe(){return{clinicalNoteCategoryTree:[],tmpClinicalRecord:[],tmpClinicalNote:[],clinicalNoteCategories:[],clinicalNotes:[],clinicalNoteDetails:[],clinicalNoteDetailValues:[],clinicalInputTypes:[],clinicalCategoryNotes:[],clinicalNoteTemplateFormat:[],clinicalTemplate:[],currentClinicalNote:null,templateDetails:[],generalNotes:[],visitEncounterNotes:[],admissionEncounterNotes:[],clinical_notes_dict:{}}}function ye(e){return e.clinicalNoteCategoryTree}function ge(e){return e.clinicalNoteCategories}function Ce(e){return e.clinicalNotes}function Ne(e){return e.clinical_notes_dict}function Te(e){return e.clinicalNoteDetails}function be(e){return e.clinicalNoteDetailValues}function ve(e){return e.clinicalCategoryNotes}function we(e){return e.clinicalInputTypes}function Se(e){let t=e.clinicalNoteCategories.map((e=>({label:e.name,value:e.code})));return t=[...new Set(t)],t}function Ee(e){let t=e.clinicalNotes.map((e=>({code:e.code,name:e.name,label:e.name,value:e.code})));return t=[...new Set(t)],{categories:t,notes:e.clinicalNotes}}function Pe(e){return e.clinicalNoteTemplateFormat}function De(e){return e.clinicalTemplate}function je(e){return e.currentClinicalNote}function _e(e){return e.templateDetails}function Oe(e){return e.generalNotes}function $e(e){return e.visitEncounterNotes}function Fe(e){return e.admissionEncounterNotes}const Ie=v().buildHashTable,Je=v().buildBreadcrumbs;function Re(e,t){e.clinicalNoteCategoryTree=t}function Ge(e,t){e.clinicalNoteCategories=t}function xe(e,t){const n=Ie(t,"code");for(const a of t)a["breadcrumbs"]=[...Je(a,n,"parent_clinical_note_code")];e.currentClinicalNote=t[0].code,e.clinicalNotes=t,e.clinical_notes_dict=n}function Ae(e,t){e.clinicalNoteDetails=t}function Be(e,t){e.clinicalNoteDetailValues=t}function ke(e,t){e.clinicalCategoryNotes=t}function Ve(e,t){e.clinicalInputTypes=t}function qe(e,t){e.clinicalNoteTemplateFormat=t}function Me(e,t){e.clinicalTemplate=t}function Ue(e,t){e.templateDetails=t}function Le(e,t){e.generalNotes=t}function We(e,t){e.visitEncounterNotes=t}function Ye(e,t){e.admissionEncounterNotes=t}const Ze=v().buildURL;async function He(e){let t="https://api.uerm.edu.ph/health-records/clinical-note-category-tree",n=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}});if(n=await n.json(),n.length>0){for(const e of n)e.icon=""===e.icon?null:e.icon,e.icon=null===e.icon?"fa fa-first-aid":e.icon;const t=n.filter((e=>"0"===e.categorical_type)),a=n.filter((e=>"1"===e.categorical_type)),o=n.filter((e=>"2"===e.categorical_type));e.commit("setGeneralDataNotes",t),e.commit("setVisitEncounterNotes",a),e.commit("setAdmissionEncounterNotes",o),e.commit("setClinicalNoteCategoryTree",n)}return n}async function Ke(e,t){let n="";n=t?t.clinicalCategoryCode?`https://api.uerm.edu.ph/health-records/clinical-category-notes?categoryCode=${t.clinicalCategoryCode}`:`https://api.uerm.edu.ph/health-records/clinical-note-categories/${t.sectionID}`:"https://api.uerm.edu.ph/health-records/clinical-note-categories";const a=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));if(a.length>0){for(var o of a){const t=await e.dispatch("helpers/formatDate",{withDayName:!0,date:o.datetime_created},{root:!0});o.datetime_created=t;const n=await e.dispatch("helpers/formatDate",{withDayName:!0,date:o.datetime_updated},{root:!0});o.datetime_updated=n,o.filterName=o.clinical_category_name.toUpperCase(),o.label=o.clinical_category_name.toUpperCase(),o.name=o.clinical_category_name,o.id=o.clinical_category_id}e.commit("setClinicalNoteCategories",a)}}async function Qe(e,t){let n="";t?t.sectionID&&(n=`https://api.uerm.edu.ph/health-records/clinical-note-categories/${t.sectionID}`):n="https://api.uerm.edu.ph/health-records/clinical-note-categories/";const a=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));if(a.length>0){var o=[],i=[];for(var r of a){r.filterName=r.clinical_category_name.toUpperCase();const e={label:r.clinical_category_name.toUpperCase(),categorical_type:r.categorical_type,icon:""===r.icon?null:r.icon};o.push(e)}for(var c of(o=o.filter(((e,t,n)=>t===n.findIndex((t=>t.label===e.label)))),o)){var l=a.filter((e=>e.clinical_category_name.toUpperCase()===c.label));for(var s of l)null!==s.clinical_note_name?s.label=s.clinical_note_name.toUpperCase():s.label="";const e={label:c.label,icon:c.icon,categoricalType:c.categorical_type,categoryCode:l[0].clinical_category,children:l};i.push(e)}var u=i.filter((e=>"0"===e.categoricalType));e.commit("setGeneralDataNotes",u);var p=i.filter((e=>"1"===e.categoricalType));e.commit("setVisitEncounterNotes",p);var h=i.filter((e=>"2"===e.categoricalType));e.commit("setAdmissionEncounterNotes",h),e.commit("setClinicalCategoryNotes",i)}else e.commit("setClinicalCategoryNotes",[])}async function ze(e,t){const n=Ze("https://api.uerm.edu.ph/","health-records/clinical-notes",t),a=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));if(a.length>0){for(let t of a){const n=await e.dispatch("helpers/formatDate",{withDayName:!0,date:t.datetime_created},{root:!0});t.datetime_created=n;const a=await e.dispatch("helpers/formatDate",{withDayName:!0,date:t.datetime_updated},{root:!0});t.datetime_updated=a,t.filterName=t.name.toUpperCase(),null!==t.template_format&&(t.template_format=JSON.parse(t.template_format))}return e.commit("setClinicalNotes",a),a}e.commit("setClinicalNotes",[])}async function Xe(e,t){const n=await fetch(`https://api.uerm.edu.ph/health-records/clinical-note-details?clinicalNoteCode=${t}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));if(n.length>0){var a=[];for(var o of n){console.log(o);const e={type:o.input_type.toLowerCase(),label:o.clinical_field,required:o.clinical_field_required,requiredMessage:o.clinical_field_required_message,options:o.options,code:o.clinical_field_code};a.push(e)}e.commit("setClinicalNoteTemplateDetails",a),e.commit("setClinicalNoteDetails",n)}else e.commit("setClinicalNoteDetails",[])}async function et(e,t){const n=await fetch(`https://api.uerm.edu.ph/health-records/clinical-note-detail-values?clinicalFieldCode=${t}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));n.length>0?e.commit("setClinicalNoteDetailValues",n):e.commit("setClinicalNoteDetailValues",[])}async function tt(e,t){const n=await fetch(`https://api.uerm.edu.ph/health-records/clinical-input-types?clinicalFieldCode=${t}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));if(n.length>0){for(var a of n)a.type=name.toLowerCase();e.commit("setClinicalInputTypes",n)}else e.commit("setClinicalInputTypes",[])}async function nt(e,t){try{const e=await fetch("https://api.uerm.edu.ph/health-records/save-clinical-notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json()));return e[0].ERR?{message:e[0].MSG,error:e[0].ERR}:{success:e[0].MSG}}catch(n){return console.log(n),{error:n}}}async function at(e,t){try{const e=await fetch("https://api.uerm.edu.ph/health-records/update-clinical-notes",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json()));return console.log(e),e[0].ERR?{message:e[0].MSG,error:e[0].ERR}:{success:e[0].MSG}}catch(n){return console.log(n),{error:n}}}async function ot(e,t){try{const e=await fetch("https://api.uerm.edu.ph/health-records/clinical-note-categories",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json()));return e.length>0?{success:1,response:e}:e}catch(n){return console.log(n),{error:n}}}async function it(e,t){try{console.log(`https://api.uerm.edu.ph/health-records/clinical-note-categories/${t.id}`);const e=await fetch(`https://api.uerm.edu.ph/health-records/clinical-note-categories/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json()));return e}catch(n){return console.log(n),{error:n}}}async function rt(e,t){try{const e=await fetch("https://api.uerm.edu.ph/health-records/save-clinical-note-template",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json()));return e.length>0?e:{error:e}}catch(n){return console.log(n),{error:n}}}async function ct(e,t){try{const e=await fetch("https://api.uerm.edu.ph/health-records/save-clinical-note-fields",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json()));return console.log(e),e.length>0?e:{error:e}}catch(n){return console.log(n),{error:n}}}async function lt(e,t){try{const e=await fetch("https://api.uerm.edu.ph/health-records/clinical-note-templates",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json()));return console.log(e),e.length>0?e:{error:e}}catch(n){return console.log(n),{error:n}}}async function st(e,t){let n="";n=t?`https://api.uerm.edu.ph/ehr/clinical-note-templates?clinicalNoteCode=${t}`:"https://api.uerm.edu.ph/ehr/clinical-note-templates?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6",console.log(n,"url");const a=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));return a.length>0?(console.log(a,"respoisne"),e.commit("setClinicalTemplate",a)):e.commit("setClinicalTemplate",[]),a}async function ut(e,t){const n="https://api.uerm.edu.ph/ehr/template?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6";console.log(n);const a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})}).then((e=>e.json()));return console.log(a),a}async function pt(e,t){try{console.log(t);const e=await fetch("https://api.uerm.edu.ph/health-records/clinical-note-templates",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json()));return console.log(e),e}catch(n){return console.log(n),{error:n}}}const ht={namespaced:!0,getters:r,mutations:c,actions:l,state:fe};function dt(){return{px:[],pxSearch:[],pxType:null,showDrPatients:!1,drCode:"476",activePatientsByDr:[]}}function mt(e){return e.px}function ft(e){return e.pxType}function yt(e){const t={},n=e.showDrPatients?e.px.filter((t=>t.drCode==e.drCode)):e.px;let a=[];a=n.map((e=>e.caseDept)),a=[...new Set(a)];for(let o of a)t[o]=[];for(let o of n)t[o.caseDept].push({...o,patientName:`${o.lastname}, ${o.firstname} ${o.middlename}`,birthDate:new Date(o.birthDate).toISOString().split("T")[0]});return t}function gt(e){let t=[],n=[];const a=e.showDrPatients?e.px.filter((t=>t.drCode==e.drCode)):e.px;n=a.map((e=>e.caseDept)),n=[...new Set(n)];for(let o of n)t.push({description:o,qty:a.filter((e=>e.caseDept==o)).length});return t}function Ct(e){return e.pxSearch}function Nt(e){return e.activePatientsByDr}function Tt(e,t){e.px=t}function bt(e,t){e.pxSearch=t}async function vt(e,t){const n="https://api.uerm.edu.ph/ehr/search-name?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6",a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({search:t})}).then((e=>e.json()));e.commit("populatePatientSearch",a)}async function wt(e,t){const n="https://api.uerm.edu.ph/ehr/basic-info?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6",a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({patientno:t})}).then((e=>e.json()));return a}async function St(e,t){const n="https://api.uerm.edu.ph/ehr/consultation-history?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6",a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({patientno:t})}).then((e=>e.json()));return a}async function Et(e,t){const n="https://api.uerm.edu.ph/ehr/imaging-results?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6",a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({patientno:t.patientno,fetchAll:t.fetchAll})}).then((e=>e.json()));return a}async function Pt(e,t){const n="https://api.uerm.edu.ph/ehr/lab-results?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6",a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({patientno:t.patientno,fetchAll:t.fetchAll})}).then((e=>e.json()));return a}async function Dt(e,t){const n="https://api.uerm.edu.ph/ehr/active-patients-dr?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6",a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:t})}).then((e=>e.json()));return a}async function jt(e,t){const n="https://api.uerm.edu.ph/ehr/active-cases-stat?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6",a=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));return a}async function _t(e){const t="https://api.uerm.edu.ph/ehr/active-patients-opd?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6",n=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));return n}const Ot={namespaced:!0,getters:s,mutations:u,actions:p,state:dt};function $t(){return{role:"nurses",credentials:{code:"100",accountType:"DR",userID:"1"}}}function Ft(e){return e.role}function It(e){return e.credentials.accountType}function Jt(e){return e.credentials}function Rt(e,t){e.credentials.accountType=t.code,e.role=t.role}var Gt=n(9441);const xt={namespaced:!0,state:$t,getters:h,mutations:d,actions:Gt};function At(){return{isPatientSearching:!1}}function Bt(e){return e.isPatientSearching}function kt(e,t){e.isPatientSearching=t}var Vt=n(7261);const qt={namespaced:!0,state:At,getters:m,mutations:f,actions:Vt};function Mt(){return{encounterCases:[],clinicalEncounters:[],clinicalEncounterDetails:[],clinicalEncountersPage:1,clinicalEncountersRows:5,patientGeneralNotes:[]}}function Ut(e){return e.encounterCases}function Lt(e){return e.clinicalEncounters}function Wt(e){return e.clinicalEncounterDetails}function Yt(e){return e.clinicalEncountersPage}function Zt(e){return e.clinicalEncountersRows}function Ht(e){return e.patientGeneralNotes}function Kt(e,t){e.encounterCases=t}function Qt(e,t){e.clinicalEncounterDetails=t}function zt(e,t){e.clinicalEncounters=t}function Xt(e,t){e.patientGeneralNotes=t}async function en(e,t){var n="";"active"===t.type?n=`https://api.uerm.edu.ph/health-records/encounter-cases?active=1&dateFrom=${t.dateFrom}&dateTo=${t.dateTo}`:"forDischarge"===t.type?n=`https://api.uerm.edu.ph/health-records/encounter-cases?forDischarge=1&dateFrom=${t.dateFrom}&dateTo=${t.dateTo}`:"discharged"===t.type?n=`https://api.uerm.edu.ph/health-records/encounter-cases?discharged=1&dateFrom=${t.dateFrom}&dateTo=${t.dateTo}`:"checking"===t.type&&(n=`https://api.uerm.edu.ph/health-records/encounter-cases?caseNo=${t.caseNo}`);const a=await fetch(`${n}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));if(a.length>0){var o="";for(var i of(o="checking"===t.type?a:a.filter((e=>e.patient_type===t.patientType)),o)){const n=await e.dispatch("helpers/encrypt",i.case_no,{root:!0});i.encryptedCaseNo=n.encrypted;const a=await e.dispatch("helpers/encrypt",i.patient_no,{root:!0});i.encryptedPatientNo=a.encrypted,i.name=`${i.last_name}, ${i.first_name} ${i.middle_name}`,"E"===t.patientType?i.colorIndicator="red":"O"===t.patientType?i.colorIndicator="light-green":"I"===t.patientType&&(i.colorIndicator="light-blue"),i.caseNumber=i.case_no,i.patientID=i.patient_no;const o=i.datetime_admitted.replace(/T/," ").replace(/Z/," ").substr("0","16"),s=new Date(`${o}`),u=new Intl.DateTimeFormat("en",{year:"numeric"}).format(s),p=new Intl.DateTimeFormat("en",{month:"long"}).format(s),h=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(s);var r=s.getMinutes(),c=s.getHours();r<10&&(r="0"+r);var l="AM";c>12&&(c-=12,l="PM");const d=`${c}:${r} ${l}`;i.admission=`${p} ${h}, ${u} ${d}`;const m=i.date_of_birth.replace(/T/," ").replace(/Z/," ").substr("0","16"),f=new Date(`${m}`),y=new Intl.DateTimeFormat("en",{year:"numeric"}).format(f),g=new Intl.DateTimeFormat("en",{month:"long"}).format(f),C=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(f);i.birthDate=`${g} ${C}, ${y}`}e.commit("setEncounterCases",o)}else e.commit("setEncounterCases",[])}async function tn(e,t){let n="";n=t.paginated?`https://api.uerm.edu.ph/health-records/clinical-encounters/?caseNo=${t.caseNo}&patientNo=${t.patientNo}&paginated=${t.paginated}&pageNo=${t.pageNo}&rowsPage=${t.rowsPage}`:t.checking?t.byCategoryCode?`https://api.uerm.edu.ph/health-records/clinical-encounters/?checking=true&byCategorCode=true&patientNo=${t.patientNo}&clinicalCategoryCode=${t.clinicalCategoryCode}`:t.byCategoricalType?`https://api.uerm.edu.ph/health-records/clinical-encounters/?checking=true&byCategoricalType=true&caseNo=${t.caseNo}&categoricalType=${t.categoricalType}`:`https://api.uerm.edu.ph/health-records/clinical-encounters/?checking=true&patientNo=${t.patientNo}&clinicalNoteCode=${t.clinicalNoteCode}`:`https://api.uerm.edu.ph/health-records/clinical-encounters/?caseNo=${t.caseNo}&clinicalNoteCode=${t.clinicalNoteCode}`,console.log(n);const a=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));if(a.length>0){for(var o of a){const t=await e.dispatch("helpers/formatDate",{withDayName:!0,date:o.update_datetime},{root:!0});o.update_datetime=t;const n=await e.dispatch("helpers/formatDate",{withDayName:!0,date:o.save_datetime},{root:!0});o.save_datetime=n,o.result_format=JSON.parse(o.result_format),o.title=o.result_format.title,o.user_name=o.user_name.toUpperCase()}e.commit("setClinicalEncounters",a)}else e.commit("setClinicalEncounters",[]),await e.dispatch("helpers/setInfiniteScroll",!1,{root:!0})}async function nn(e,t){let n=`https://api.uerm.edu.ph/health-records/clinical-encounter-details/?clinicalEncounterID=${t.clinicalEncounterID}`;const a=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));a.length>0&&e.commit("setClinicalEncounterDetails",a),console.log(a,"dsfsfs")}async function an(e,t){let n="https://api.uerm.edu.ph/health-records/save-clinical-encounter";const a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json()));return a}async function on(e,t){let n="https://api.uerm.edu.ph/health-records/save-clinical-encounter-details";const a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json()));return a}async function rn(e,t){let n="https://api.uerm.edu.ph/health-records/clinical-encounters";const a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return await a.json()}async function cn(e,t){var n;let a=`https://api.uerm.edu.ph/health-records/clinical-encounters/${null!==(n=t.id)&&void 0!==n?n:0}`;const o=await fetch(a,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return await o.json()}async function ln(e,t){let n="https://api.uerm.edu.ph/health-records/update-clinical-encounter";const a=await fetch(n,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json()));return a}async function sn(e,t){let n="https://api.uerm.edu.ph/health-records/update-clinical-encounter-details";const a=await fetch(n,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json()));return a}async function un(e,t){let n="https://api.uerm.edu.ph/health-records/patient-general-notes";const a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json()));return void 0!==a.success&&await e.dispatch("helpers/setInitValuesFields",!0,{root:!0}),a}async function pn(e,t){let n=`https://api.uerm.edu.ph/health-records/patient-general-notes/${t.patientNo}`;const a=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));a.length>0&&e.commit("setPatientGeneralNotes",a)}const hn={namespaced:!0,getters:y,mutations:g,actions:C,state:Mt},dn=(0,N.h)((function(){const e=(0,T.MT)({modules:{helpers:me,clinicalNotes:ht,patients:Ot,user:xt,bools:qt,encounters:hn},strict:!1});return e}))},9441:()=>{}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,n),i.exports}n.m=e,(()=>{var e=[];n.O=(t,a,o,i)=>{if(!a){var r=1/0;for(u=0;u<e.length;u++){for(var[a,o,i]=e[u],c=!0,l=0;l<a.length;l++)(!1&i||r>=i)&&Object.keys(n.O).every((e=>n.O[e](a[l])))?a.splice(l--,1):(c=!1,i<r&&(r=i));if(c){e.splice(u--,1);var s=o();void 0!==s&&(t=s)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[a,o,i]}})(),(()=>{n.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return n.d(t,{a:t}),t}})(),(()=>{n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}})(),(()=>{n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,a)=>(n.f[a](e,t),t)),[]))})(),(()=>{n.u=e=>"js/"+(64===e?"chunk-common":e)+"."+{39:"4ccc12ba",59:"70c66b25",64:"f7b90348",214:"c0186798",337:"14f9165e",341:"5083f6fb",386:"f54d41fd",429:"176fa15e",430:"5883b8e5",441:"67daf98a",513:"0d3ffa9f",526:"fd482c0f",548:"2d6ba235",583:"de508c5c",598:"b88eb6b5",614:"d2cb4aee",689:"ae48f5e2"}[e]+".js"})(),(()=>{n.miniCssF=e=>"css/"+({143:"app",736:"vendor"}[e]||e)+"."+{39:"93ca5280",143:"25c9bb49",214:"419b6112",337:"b3823c91",430:"e2d37627",441:"659a2831",526:"e2d37627",736:"759c7fc2"}[e]+".css"})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="uerm-ehr:";n.l=(a,o,i,r)=>{if(e[a])e[a].push(o);else{var c,l;if(void 0!==i)for(var s=document.getElementsByTagName("script"),u=0;u<s.length;u++){var p=s[u];if(p.getAttribute("src")==a||p.getAttribute("data-webpack")==t+i){c=p;break}}c||(l=!0,c=document.createElement("script"),c.charset="utf-8",c.timeout=120,n.nc&&c.setAttribute("nonce",n.nc),c.setAttribute("data-webpack",t+i),c.src=a),e[a]=[o];var h=(t,n)=>{c.onerror=c.onload=null,clearTimeout(d);var o=e[a];if(delete e[a],c.parentNode&&c.parentNode.removeChild(c),o&&o.forEach((e=>e(n))),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=h.bind(null,c.onerror),c.onload=h.bind(null,c.onload),l&&document.head.appendChild(c)}}})(),(()=>{n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{n.p="/vue/ehr/"})(),(()=>{var e=(e,t,n,a)=>{var o=document.createElement("link");o.rel="stylesheet",o.type="text/css";var i=i=>{if(o.onerror=o.onload=null,"load"===i.type)n();else{var r=i&&("load"===i.type?"missing":i.type),c=i&&i.target&&i.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+c+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=r,l.request=c,o.parentNode.removeChild(o),a(l)}};return o.onerror=o.onload=i,o.href=t,document.head.appendChild(o),o},t=(e,t)=>{for(var n=document.getElementsByTagName("link"),a=0;a<n.length;a++){var o=n[a],i=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(i===e||i===t))return o}var r=document.getElementsByTagName("style");for(a=0;a<r.length;a++){o=r[a],i=o.getAttribute("data-href");if(i===e||i===t)return o}},a=a=>new Promise(((o,i)=>{var r=n.miniCssF(a),c=n.p+r;if(t(r,c))return o();e(a,c,o,i)})),o={143:0};n.f.miniCss=(e,t)=>{var n={39:1,214:1,337:1,430:1,441:1,526:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=a(e).then((()=>{o[e]=0}),(t=>{throw delete o[e],t})))}})(),(()=>{var e={143:0};n.f.j=(t,a)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)a.push(o[2]);else{var i=new Promise(((n,a)=>o=e[t]=[n,a]));a.push(o[2]=i);var r=n.p+n.u(t),c=new Error,l=a=>{if(n.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var i=a&&("load"===a.type?"missing":a.type),r=a&&a.target&&a.target.src;c.message="Loading chunk "+t+" failed.\n("+i+": "+r+")",c.name="ChunkLoadError",c.type=i,c.request=r,o[1](c)}};n.l(r,l,"chunk-"+t,t)}},n.O.j=t=>0===e[t];var t=(t,a)=>{var o,i,[r,c,l]=a,s=0;if(r.some((t=>0!==e[t]))){for(o in c)n.o(c,o)&&(n.m[o]=c[o]);if(l)var u=l(n)}for(t&&t(a);s<r.length;s++)i=r[s],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(u)},a=self["webpackChunkuerm_ehr"]=self["webpackChunkuerm_ehr"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=n.O(void 0,[736],(()=>n(4001)));a=n.O(a)})();