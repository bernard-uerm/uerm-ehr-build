"use strict";(self["webpackChunkuerm_ehr"]=self["webpackChunkuerm_ehr"]||[]).push([[583],{3583:(e,t,l)=>{l.r(t),l.d(t,{default:()=>U});var s=l(3673),a=l(8880);const i={key:2},o={class:"fixed-bottom row justify-center q-pb-md"};function r(e,t,l,r,n,u){const p=(0,s.up)("Fields"),d=(0,s.up)("q-dialog"),c=(0,s.up)("NewTemplate"),m=(0,s.up)("EditTemplate"),g=(0,s.up)("Templates"),w=(0,s.up)("q-fab-action"),q=(0,s.up)("q-fab"),b=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(b,{class:"q-px-lg",style:{"padding-bottom":"100px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{persistent:"","full-height":"","full-width":"",modelValue:e.bools.isDialogOpen,"onUpdate:modelValue":t[1]||(t[1]=t=>e.bools.isDialogOpen=t)},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{onCloseDialog:t[0]||(t[0]=t=>e.bools.isDialogOpen=!1),onSetFields:e.setFields,clinicalNoteDialog:!0},null,8,["onSetFields"])])),_:1},8,["modelValue"]),e.isNewTemplate?((0,s.wg)(),(0,s.j4)(c,{key:0,ref:"newTemplate"},null,512)):e.isEditTemplate?((0,s.wg)(),(0,s.j4)(m,{key:1,ref:"newTemplate"},null,512)):((0,s.wg)(),(0,s.iD)("div",i,[(0,s.Wm)(g,{ref:"templates"},null,512)])),(0,s._)("div",o,[(0,s.Wm)(q,{icon:"fas fa-plus",direction:"up",color:"primary",unelevated:""},{default:(0,s.w5)((()=>[e.isNewTemplate?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Wm)(w,{label:"Save Template",icon:"fas fa-save",unelevated:"",color:"positive",square:"",onClick:(0,a.iM)(e.saveTemplate,["prevent"])},null,8,["onClick"]),(0,s.Wm)(w,{color:"teal",label:"Add Field",icon:"fas fa-plus",unelevated:"",onClick:(0,a.iM)(e.showFields,["prevent"]),square:""},null,8,["onClick"])],64)):((0,s.wg)(),(0,s.j4)(w,{key:0,unelevated:"",label:"New Template",icon:"fas fa-plus-circle",color:"blue-3",class:"text-grey-9 bg-white",outline:"",to:"/admin/template/new"}))])),_:1})])])),_:1})}var n=l(7526),u=l(3756),p=l(4635),d=l(2323);const c={key:0,class:"row justify-center"},m={key:1,class:"row"},g=(0,s.Uk)("Edit Template");function w(e,t,l,i,o,r){const n=(0,s.up)("q-circular-progress"),u=(0,s.up)("q-card-section"),p=(0,s.up)("Date"),w=(0,s.up)("Text"),q=(0,s.up)("Number"),b=(0,s.up)("Textarea"),f=(0,s.up)("Select"),h=(0,s.up)("ICD10"),y=(0,s.up)("NumberRange"),T=(0,s.up)("DateRange"),k=(0,s.up)("q-tooltip"),v=(0,s.up)("q-btn"),D=(0,s.up)("q-card-actions"),Z=(0,s.up)("q-card");return(0,s.wg)(),(0,s.iD)("div",null,[e.bools.isLoading?((0,s.wg)(),(0,s.iD)("div",c,[(0,s.Wm)(n,{indeterminate:"",size:"lg",color:"primary"})])):((0,s.wg)(),(0,s.iD)("div",m,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.templates,(t=>((0,s.wg)(),(0,s.j4)(Z,{key:t.id,class:"col-6 q-pa-md",flat:""},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{class:"bg-blue-grey-3"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,d.zw)(`${t.clinicalNote}: ${t.name}`),1)])),_:2},1024),(0,s.Wm)(u,{style:{overflow:"auto",height:"300px"},class:"bg-blue-grey-2"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.getFields(t.format),(e=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"q-py-sm"},["date"==e.type?((0,s.wg)(),(0,s.j4)(p,{key:0,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required},class:"col"},null,8,["opts"])):"text"==e.type?((0,s.wg)(),(0,s.j4)(w,{key:1,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required},class:"col"},null,8,["opts"])):"number"==e.type?((0,s.wg)(),(0,s.j4)(q,{key:2,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required},class:"col"},null,8,["opts"])):"textarea"==e.type?((0,s.wg)(),(0,s.j4)(b,{key:3,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required},class:"col"},null,8,["opts"])):"select"==e.type?((0,s.wg)(),(0,s.j4)(f,{key:4,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required,options:e.options},class:"col"},null,8,["opts"])):"icd10"==e.type?((0,s.wg)(),(0,s.j4)(h,{key:5,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required},class:"col"},null,8,["opts"])):"numberRange"==e.type?((0,s.wg)(),(0,s.j4)(y,{key:6,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required},class:"col"},null,8,["opts"])):"dateRange"==e.type?((0,s.wg)(),(0,s.j4)(T,{key:7,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required},class:"col"},null,8,["opts"])):(0,s.kq)("",!0)])))),128))])),_:2},1024),(0,s.Wm)(D,{align:"right",class:"bg-blue-grey-3"},{default:(0,s.w5)((()=>[(0,s.Wm)(v,{to:`/admin/template/edit/${t.id}`,onClick:(0,a.iM)((l=>e.editTemplate(t.id)),["prevent"]),round:"",icon:"fas fa-edit",flat:"",color:"red"},{default:(0,s.w5)((()=>[(0,s.Wm)(k,null,{default:(0,s.w5)((()=>[g])),_:1})])),_:2},1032,["to","onClick"])])),_:2},1024)])),_:2},1024)))),128))]))])}var q=l(7913),b=l(6077),f=l(7020),h=l(8052),y=l(3329),T=l(4664),k=l(815),v=l(1524);const D=(0,s.aZ)({name:"Templates",data(){return{bools:{isLoading:!1},templates:[]}},components:{Date:q.Z,Text:b.Z,Number:f.Z,Textarea:h.Z,Select:y.Z,ICD10:T.Z,NumberRange:k.Z,DateRange:v.Z},methods:{async getTamplates(){this.bools.isLoading=!0,this.templates=await this.$store.dispatch("clinicalNotes/fetchTemplates"),this.bools.isLoading=!1},async editTemplate(e){const t=await this.$store.dispatch("helpers/encrypt",e);this.$router.push(`/admin/template/edit/${t.encrypted}`)},getFields(e){return JSON.parse(e).fields}},async mounted(){await this.getTamplates()}});var Z=l(4260),M=l(6122),F=l(151),j=l(5589),C=l(9367),N=l(2165),W=l(8870),_=l(7518),x=l.n(_);const $=(0,Z.Z)(D,[["render",w]]),Q=$;x()(D,"components",{QCircularProgress:M.Z,QCard:F.Z,QCardSection:j.Z,QCardActions:C.Z,QBtn:N.Z,QTooltip:W.Z});var S=l(3617);const O=(0,s.aZ)({name:"Template",components:{Fields:n.Z,NewTemplate:u["default"],Templates:Q,EditTemplate:p["default"]},computed:{isNewTemplate(){const e=this.$route.path.split("/");return"new"==e[e.length-1]},isEditTemplate(){const e=this.$route.path.split("/");return"edit"==e[e.length-2]},...(0,S.Se)("helpers",["templateFields"])},data(){return{bools:{isDialogOpen:!1}}},methods:{saveTemplate(){const e=this.$refs.newTemplate.form;e.fields=this.templateFields,console.log(e)},showFields(){this.bools.isDialogOpen=!0},setFields(e){this.$store.commit("helpers/setTemplateFields",e),this.bools.isDialogOpen=!1}}});var R=l(4379),E=l(6778),L=l(9200),A=l(9975);const H=(0,Z.Z)(O,[["render",r]]),U=H;x()(O,"components",{QPage:R.Z,QDialog:E.Z,QFab:L.Z,QFabAction:A.Z})}}]);