"use strict";(self["webpackChunkuerm_ehr"]=self["webpackChunkuerm_ehr"]||[]).push([[941],{7762:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Me});var l=i(3673),o=i(2323);const a={key:0,class:"flex flex-center"},n={key:1},s={key:0},c={key:1,class:"row justify-center"},r=(0,l._)("div",{class:"col-12 text-center text-weight-light text-h5"}," MULTIPLE CASE NUMBER DETECTED, PLEASE SELECT THE APPROPRIATE CASE ",-1),d=[r];function h(e,t,i,r,h,u){const p=(0,l.up)("PatientEncounterInfo"),N=(0,l.up)("MainEMR"),g=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(g,{class:(0,o.C_)({"flex flex-center":e.bools.isMultipleCaseNo})},{default:(0,l.w5)((()=>[this.bools.isLoading?((0,l.wg)(),(0,l.iD)("div",a)):((0,l.wg)(),(0,l.iD)("div",n,[e.bools.isMultipleCaseNo?((0,l.wg)(),(0,l.iD)("div",c,d)):((0,l.wg)(),(0,l.iD)("div",s,[(0,l.Wm)(p,{encounterCases:this.encounterCases,clinicalNoteCategoryTree:this.generalNotes},null,8,["encounterCases","clinicalNoteCategoryTree"]),(0,l.Wm)(N,{clinicalNoteCategories:e.clinicalNoteCategories,clinicalNoteCategoryTree:e.clinicalNoteCategoryTree},null,8,["clinicalNoteCategories","clinicalNoteCategoryTree"])]))]))])),_:1},8,["class"])}var u=i(8880);const p={class:"q-px-lg relative-position"},N={class:"text-weight-light text-h5 row justify-evenly q-gutter-md q-py-md"},g={class:"col-auto column"},m=(0,l._)("div",{class:"text-xs text-weight-medium"},"PATIENT",-1),f={class:"col-2 column"},C=(0,l._)("div",{class:"text-xs text-weight-medium"},"CASE NO",-1),y={class:"text-md"},w={class:"col-auto text-uppercase text-xs text-weight-medium"},b={class:"col text-md text-uppercase"},_={class:"row q-mt-md"},E={class:"col-md-9 q-px-sm"},v={class:"col-md-3 q-px-sm"};function D(e,t,i,a,n,s){const c=(0,l.up)("q-icon"),r=(0,l.up)("q-separator"),d=(0,l.up)("q-card-section"),h=(0,l.up)("ClinicalNotesDashboard"),D=(0,l.up)("PatientChart"),T=(0,l.up)("TestResult"),I=(0,l.up)("PatientInfo"),x=(0,l.up)("q-btn"),k=(0,l.up)("q-card-actions"),M=(0,l.up)("q-card"),q=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",p,[(0,l._)("div",N,[(0,l._)("div",g,[m,(0,l._)("div",{class:"text-weight-bold cursor-pointer",onMouseover:t[0]||(t[0]=t=>e.displayEye(e.bools.displayEye)),onMouseout:t[1]||(t[1]=t=>e.displayEye(e.bools.displayEye)),onClick:t[2]||(t[2]=(0,u.iM)((t=>e.bools.isDialogOpen=!0),["prevent"]))},[(0,l.Uk)((0,o.zw)(`${e.caseInfo.lastname}, ${e.caseInfo.firstname} ${e.caseInfo.middlename}`)+" ",1),e.bools.displayEye?((0,l.wg)(),(0,l.j4)(c,{key:0,class:"q-pb-xs q-pl-sm",name:"fa fa-eye"})):(0,l.kq)("",!0)],32)]),(0,l._)("div",f,[C,(0,l._)("div",y,(0,o.zw)(e.caseInfo.caseno),1)]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.encounterInfo,(t=>((0,l.wg)(),(0,l.iD)("div",{class:"col-auto column",key:t.label},[(0,l._)("div",w,(0,o.zw)(t.label),1),(0,l._)("div",b,(0,o.zw)(e.caseInfo[t.field]),1)])))),128))]),(0,l.Wm)(r)]),(0,l.Wm)(q,{"full-height":"","full-width":"",persistent:"",modelValue:e.bools.isDialogOpen,"onUpdate:modelValue":t[4]||(t[4]=t=>e.bools.isDialogOpen=t)},{default:(0,l.w5)((()=>[(0,l.Wm)(M,{class:"column"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{class:"col-auto text-h6 text-weight-light bg-dark text-white"},{default:(0,l.w5)((()=>[(0,l.Uk)(" Patient Dashboard: "+(0,o.zw)(`${e.caseInfo.lastname}, ${e.caseInfo.firstname} ${e.caseInfo.middlename}`),1)])),_:1}),(0,l.Wm)(d,{class:"col",style:{overflow:"auto"}},{default:(0,l.w5)((()=>[(0,l._)("div",_,[(0,l._)("div",E,[(0,l.Wm)(h,{currentClinicalNotes:this.clinicalEncounterLists},null,8,["currentClinicalNotes"]),(0,l.Wm)(D,{patientno:e.caseInfo.patientno},null,8,["patientno"]),(0,l.Wm)(T,{patientno:e.caseInfo.patientno},null,8,["patientno"])]),(0,l._)("div",v,[(0,l.Wm)(I,{patientno:e.caseInfo.patientno},null,8,["patientno"])])])])),_:1}),(0,l.Wm)(k,{align:"right",class:"col-auto"},{default:(0,l.w5)((()=>[(0,l.Wm)(x,{color:"negative",label:"Close",flat:"",onClick:t[3]||(t[3]=(0,u.iM)((t=>e.bools.isDialogOpen=!1),["prevent"])),icon:"fas fa-times"})])),_:1})])),_:1})])),_:1},8,["modelValue"])])}var T=i(303),I=i(7198),x=i(250);const k={class:"row"},M={key:0,class:"bg-red-2 q-pa-md"},q={class:"row justify-between items-center"},Z={class:"column"},S=(0,l._)("div",{class:"text-xs"},"RESULT DATE",-1),L={class:"absolute-top-right"},P={class:"row justify-between"},R={class:"text-uppercase"};function W(e,t,i,a,n,s){const c=(0,l.up)("Heading"),r=(0,l.up)("q-btn"),d=(0,l.up)("q-scroll-area"),h=(0,l.up)("q-card-section"),u=(0,l.up)("q-card"),p=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(c,{text:"Clinical Notes"}),(0,l.Wm)(d,{style:{height:"110px"},visible:""},{default:(0,l.w5)((()=>[(0,l._)("div",k,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(this.currentClinicalNotes,(t=>((0,l.wg)(),(0,l.iD)("div",{class:"col-auto",key:t},[(0,l.Wm)(r,{label:t.clinical_note+" - "+t.user_name.toUpperCase()+" - "+new Date(t.update_datetime).toDateString().substring(4,15),flat:"",rounded:"",icon:"fas fa-eye",color:"primary",onClick:i=>e.openClinicalNoteDialog(t)},null,8,["label","onClick"])])))),128))]),0!=e.currentClinicalNotes.length||e.bools.isLoading?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",M," No result Available "))])),_:1}),this.clinicalNoteResult.length>0?((0,l.wg)(),(0,l.j4)(p,{key:0,modelValue:this.bools.clinicalNoteDialog,"onUpdate:modelValue":t[1]||(t[1]=e=>this.bools.clinicalNoteDialog=e),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{square:"",style:{width:"700px","max-width":"80vw"}},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{class:"text-h5 text-weight-light bg-dark text-white"},{default:(0,l.w5)((()=>[(0,l._)("div",q,[(0,l._)("div",null,(0,o.zw)(this.clinicalNoteCardDetails.title),1),(0,l._)("div",Z,[S,(0,l._)("div",null,(0,o.zw)(new Date(this.clinicalNoteCardDetails.datetime).toDateString().substring(4,15)),1)])]),(0,l._)("div",L,[(0,l.Wm)(r,{flat:"",round:"",icon:"fa fa-times",onClick:t[0]||(t[0]=t=>e.bools.clinicalNoteDialog=!1),color:"negative"})])])),_:1}),(0,l.Wm)(h,{style:{height:"540px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{class:"fit",visible:""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(this.clinicalNoteResult,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"q-pb-md",key:e.label},[(0,l.Wm)(c,{text:e.opts.label},null,8,["text"]),(0,l.Wm)(u,{class:"shadow-0 q-pa-md"},{default:(0,l.w5)((()=>[(0,l._)("div",null,(0,o.zw)(e.value),1)])),_:2},1024)])))),128))])),_:1})])),_:1}),(0,l.Wm)(h,{class:"text-h5 text-weight-light bg-dark text-white"},{default:(0,l.w5)((()=>[(0,l._)("div",P,[(0,l._)("div",R,(0,o.zw)(this.clinicalNoteCardDetails.user),1)])])),_:1})])),_:1})])),_:1},8,["modelValue"])):(0,l.kq)("",!0)])}var Q=i(4019);const $=(0,l.aZ)({name:"ClinicalNoteDashboard",props:["currentClinicalNotes"],components:{Heading:Q.Z},data(){return{bools:{isLoading:!1,clinicalNoteDialog:!1},clinicalNoteResult:[],clinicalNoteCardDetails:{title:"",user:"",datetime:""}}},methods:{openClinicalNoteDialog(e){this.clinicalNoteCardDetails.title=e.clinical_note,this.clinicalNoteCardDetails.user=e.user_name,this.clinicalNoteCardDetails.datetime=e.formattedUpdateDatetime,this.clinicalNoteResult=e.result_format.fields,this.bools.clinicalNoteDialog=!0}}});var A=i(4260),U=i(7704),O=i(2165),z=i(6778),H=i(151),V=i(5589),j=i(7518),F=i.n(j);const G=(0,A.Z)($,[["render",W]]),B=G;F()($,"components",{QScrollArea:U.Z,QBtn:O.Z,QDialog:z.Z,QCard:H.Z,QCardSection:V.Z});var K=i(3617);const Y=(0,l.aZ)({name:"PatientEncounterInfo",components:{PatientChart:T.Z,TestResult:I.Z,PatientInfo:x.Z,ClinicalNotesDashboard:B},data(){return{bools:{displayEye:!1,isDialogOpen:!1},encounterInfo:[{label:"Category",field:"category"},{label:"Room",field:"room"},{label:"Unit",field:"unit"},{label:"Ward",field:"ward"},{label:"Admission Date",field:"admitted"},{label:"Discharge Date",field:"discharged"},{label:"Chief Complaint",field:"chiefComplaint"}]}},computed:{...(0,K.Se)({encounterCases:"encounters/encounterCases",clinicalEncounters:"encounters/clinicalEncounters",generalNotes:"clinicalNotes/generalNotes",clinicalNotes:"clinicalNotes/clinicalNotes",patientGeneralNotes:"encounters/patientGeneralNotes"}),caseInfo(){return 0==this.encounterCases.length?{}:this.encounterCases.map((e=>({caseno:e.case_no,patientno:e.patient_no,lastname:e.last_name,firstname:e.first_name,middlename:e.middle_name,gender:e.sex,birthdate:e.birthDate,category:e.patient_category,room:e.room,unit:e.room_unit,ward:e.ward,admitted:new Date(e.datetime_admitted).toDateString(),discharged:e.datetime_discharged?new Date(e.datetime_discharged).toDateString():"",chiefComplaint:e.chief_complaint})))[0]}},mounted(){this.initialize()},methods:{initialize(){this.clinicalEncounterLists=this.clinicalEncounters},async displayEye(e){this.bools.displayEye=!e}}});var J=i(4554),X=i(5869),ee=i(9367);const te=(0,A.Z)(Y,[["render",D]]),ie=te;F()(Y,"components",{QIcon:J.Z,QSeparator:X.Z,QDialog:z.Z,QCard:H.Z,QCardSection:V.Z,QCardActions:ee.Z,QBtn:O.Z});const le={class:"bg-transparent"},oe={class:"q-ml-md q-pb-md q-px-md"},ae={key:0},ne={key:0},se={key:0},ce={key:1},re=(0,l._)("br",null,null,-1),de=(0,l._)("div",{class:"q-pt-md text-h5 text-overline"}," PLEASE SELECT A CLINICAL NOTE ",-1);function he(e,t,i,a,n,s){const c=(0,l.up)("clinical-note-hierarchy"),r=(0,l.up)("GeneralNoteEntry"),d=(0,l.up)("q-spinner-ball"),h=(0,l.up)("q-inner-loading"),u=(0,l.up)("q-icon"),p=(0,l.up)("q-splitter"),N=(0,l.up)("q-card-section"),g=(0,l.up)("q-card");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",le,[(0,l.Wm)(g,{square:""},{default:(0,l.w5)((()=>[(0,l.Wm)(N,null,{default:(0,l.w5)((()=>[(0,l._)("div",null,[(0,l.Wm)(p,{modelValue:e.splitterModel,"onUpdate:modelValue":t[3]||(t[3]=t=>e.splitterModel=t)},(0,l.Nv)({before:(0,l.w5)((()=>[(0,l.Wm)(c,{clinicalNoteTree:this.clinicalNoteCat,clinicalEncounters:this.clinicalEncounters,loadTree:this.bools.loadTree,noteMode:this.bools.noteMode,onOpenEntryNotes:e.setEntryNotes,onSetUpdateNote:e.setUpdateNote},null,8,["clinicalNoteTree","clinicalEncounters","loadTree","noteMode","onOpenEntryNotes","onSetUpdateNote"])])),_:2},[this.bools.noteMode?{name:"after",fn:(0,l.w5)((()=>[(0,l._)("div",oe,[(0,l._)("div",{style:{height:"69vh"},class:(0,o.C_)([[this.bools.noteMode?"":"flex flex-center"],"text-center"])},[this.bools.noteMode?((0,l.wg)(),(0,l.iD)("div",ae,[this.bools.generalNoteLoading?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",ne,[null!==this.clinicalNoteInfo.format?((0,l.wg)(),(0,l.iD)("div",se,[e.bools.generalEntryLoading?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(r,{key:0,clinicalNoteInfo:this.clinicalNoteInfo,editNoteInfo:this.editNoteInfo,onCheckGeneralNotes:t[0]||(t[0]=t=>e.fetchClinicalNotes()),onSetClinicalNoteFormat:t[1]||(t[1]=t=>e.setClinicalNotes(this.clinicalNoteInfo)),onGoBackToSelection:t[2]||(t[2]=t=>e.setInit())},null,8,["clinicalNoteInfo","editNoteInfo"]))])):(0,l.kq)("",!0)])),(0,l.Wm)(h,{showing:e.bools.generalNoteLoading},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{size:"50px",color:"primary"})])),_:1},8,["showing"])])):((0,l.wg)(),(0,l.iD)("div",ce,[(0,l.Wm)(u,{name:"fa fa-exclamation-circle",size:"xl"}),re,de]))],2)])]))}:{name:"after",fn:(0,l.w5)((()=>[]))}]),1032,["modelValue"])])])),_:1})])),_:1})])])}i(71);var ue=i(8825),pe=i(5361),Ne=i(4241);const ge=(0,l.aZ)({name:"MainEMR",props:["clinicalNoteCategories","clinicalNoteCategoryTree"],data(){return{tab:"clinicalNotes",bools:{showInputFields:!1,loadTree:!1,isDialogOpen:!1,isGeneralInfoOpen:!1,generalNoteLoading:!1,generalEntryLoading:!1,enableEntry:!1,noteMode:!1},splitterModel:100,splitterMobileModel:25,mobileTabShow:!1,clinicalTabs:"",search:"",selectionMenu:!1,clinicalNoteCat:[],clinicalNoteHistory:[],clinicalTabLoading:!1,selected:"",filter:"",filterRef:null,clinicalNoteInfo:{currentTitle:null,title:null,name:null,format:null,clinicalNoteCode:null,clinicalCategoryCode:null,clinicalCategoryName:null,clinicalNotes:[]},editNoteInfo:[]}},computed:{...(0,K.Se)({colorEMR:"helpers/colorEMR",clinicalNotes:"clinicalNotes/clinicalNotes",infiniteScroll:"helpers/infiniteScroll",clinicalEncounters:"encounters/clinicalEncounters",userRole:"helpers/userRole",clinicalEncountersPage:"encounters/clinicalEncountersPage",clinicalEncountersRows:"encounters/clinicalEncountersRows",encounterCases:"encounters/encounterCases",clinicalCategoryNotes:"clinicalNotes/clinicalCategoryNotes",clinicalNoteDetails:"clinicalNotes/clinicalNoteDetails"})},watch:{clinicalNoteCategoryTree(e){this.clinicalNoteCat=this.clinicalNoteCategoryTree},clinicalCategoryNotes(e){this.clinicalNoteCat=e},async clinicalTabs(e){await this.getClinicalNotes(e)},clinicalNoteCat(e){e.length>0&&(this.clinicalTabs=e[0].categoryCode)},tab(e){this.showClinicalDetails(e),this.checkCase()},splitterModel(e){90===e&&(this.splitterModel=100)}},async mounted(){await this.checkPlatform(),await this.formatClinicalNoteCategoryTree(),await this.fetchClinicalNotes()},methods:{checkPlatform(){const e=(0,ue.Z)();"sm"!==e.screen.name&&"xs"!==e.screen.name&&"md"!==e.screen.name||console.log("small device")},async formatClinicalNoteCategoryTree(){this.bools.loadTree=!0,setTimeout((async()=>{this.bools.loadTree=!1}),1500),this.clinicalNoteCat=this.clinicalNoteCategoryTree},async fetchClinicalNotes(){let e="";e={patientNo:this.encounterCases[0].patientID,clinicalCategoryCode:null,checking:!0,byCategoryCode:!1},await this.$store.dispatch("encounters/getClinicalEncounters",e),this.clinicalEncounterLists=this.clinicalEncounters,this.bools.generalNoteLoading=!1},setUpdateNote(e){this.splitterModel=75,this.bools.noteMode=!0,this.bools.enableEntry=!0;const t={clinical_note_code:e.clinical_note_code,clinical_note:e.clinical_note_name,result_format:JSON.parse(e.result_format),clinical_encounter_id:parseInt(e.clinical_encounter_id)};this.setPatientNotes(t)},setPatientNotes(e){this.bools.generalEntryLoading=!0,this.bools.generalNoteLoading=!0,setTimeout((()=>{this.editNoteInfo=e;const t={name:e.clinical_note,code:e.clinical_note_code,template_format:e.result_format,title:e.clinical_note};this.setClinicalNoteInfo(t,!1),this.bools.generalEntryLoading=!1,this.bools.generalNoteLoading=!1}),500)},setInit(){this.splitterModel=100,this.bools.enableEntry=!1,this.bools.generalNoteLoading=!0,this.editNoteInfo=[],this.bools.noteMode=!1,this.fetchClinicalNotes()},setInitEditFields(){this.editNoteInfo=[],this.clinicalEncounterLists=[],this.bools.enableEntry=!1,this.bools.isGeneralInfoOpen=!1,this.selectedNote=null,this.bools.noteMode=!1,this.clinicalNoteInfo.currentTitle=null,this.clinicalNoteInfo.title=null,this.clinicalNoteInfo.name=null,this.clinicalNoteInfo.format=null,this.clinicalNoteInfo.clinicalNoteCode=null,this.clinicalNoteInfo.clinicalCategoryCode=null,this.clinicalNoteInfo.clinicalCategoryName=null},setEntryNotes(e){this.splitterModel=75,this.bools.generalNoteLoading=!0,this.bools.noteMode=!0,this.setClinicalNotes(e),setTimeout((async()=>{this.bools.generalNoteLoading=!1}),500)},async setClinicalNotes(e){void 0!==e.clinicalNoteCode&&(this.editNoteInfo=[]);const t=void 0===e.clinical_note_code?e.clinicalNoteCode:e.clinical_note_code;var i=this.clinicalNotes.filter((e=>e.code===t));this.setClinicalNoteInfo(i[0],!0),this.fetchClinicalNotes()},async setClinicalNoteInfo(e,t){if(this.clinicalNoteInfo.name=e.name,this.clinicalNoteInfo.clinicalNoteCode=e.code,this.clinicalNoteInfo.format=e.template_format,t){let t=void 0===e.template_format.title?null:e.template_format.title;this.clinicalNoteInfo.title=null===t?e.name:t}else{var i=this.clinicalNotes.filter((t=>t.code===e.code));let t=void 0===i[0].template_format.title?null:i[0].template_format.title;this.clinicalNoteInfo.title=null===t?i[0].name:t}},async showClinicalDetails(e){var t="";for(var i of this.clinicalCategoryNotes){const l=i.children.filter((t=>t.label===e));if(void 0!==l[0]){const e={name:l[0].label,code:l[0].clinical_note_code,categoryCode:l[0].clinical_category,details:l[0]};t=e}else{const t=this.clinicalNoteCategories.filter((t=>t.label===e));t}}console.log(t),""!==t&&(await this.getClinicalNoteDetails(t.code),this.clinicalNoteDetails.length>0&&(this.bools.showInputFields=!0))},async scrollToTop(){this.$refs.scrollArea.setScrollPosition("vertical",1),await this.$store.dispatch("helpers/setInfiniteScroll",!0),await this.checkCase()},async selectSubgroup(){const e=!this.selectionMenu;this.selectionMenu=e},filterCN(e){const t=e.toUpperCase();var i=this.clinicalNoteCategories.filter((e=>e.filterName.includes(t)));this.clinicalNoteCat=i,0===i.length&&(this.clinicalTabs=[])},async fetchClinicalNotesCategories(){await this.$store.dispatch("clinicalNotes/fetchClinicalCategories"),this.clinicalNoteCat=this.clinicalNoteCategories},async getClinicalNotes(e){this.loadingTabs=!0;const t={sectionType:"ehr"};await this.$store.dispatch("clinicalNotes/fetchClinicalNotes",t),this.loadingTabs=!1},async checkCase(){this.clinicalTabLoading=!0;const e=await this.$store.dispatch("helpers/decrypt",this.$route.params.caseNo),t={type:"checking",dateFrom:null,dateTo:null,userType:this.userRole,patientType:null,caseNo:e.decrypted};await this.$store.dispatch("encounters/getCases",t);const i={caseNo:e.decrypted,rowsPage:this.clinicalEncountersRows,pageNo:this.clinicalEncountersPage,patientNo:this.encounterCases[0].patient_no,clinicalNotecode:this.clinicalNoteDetails[0].clinical_note_code};await this.$store.dispatch("encounters/getClinicalEncounters",i);var l=this.clinicalEncounters.filter((e=>e.clinical_note_category_id===this.clinicalTabs));this.clinicalNoteHistory=l,this.clinicalTabLoading=!1},async getClinicalNoteDetails(e){console.log(e,"clinicalNoteCode"),await this.$store.dispatch("clinicalNotes/fetchClinicalNoteDetails",e)}},components:{ClinicalNoteHierarchy:pe.Z,GeneralNoteEntry:Ne.Z}});var me=i(218),fe=i(4103),Ce=i(7547),ye=i(8408),we=i(5906),be=i(6602),_e=i(6941),Ee=i(1070);const ve=(0,A.Z)(ge,[["render",he]]),De=ve;F()(ge,"components",{QCard:H.Z,QCardSection:V.Z,QSplitter:me.Z,QSkeleton:fe.ZP,QTabs:Ce.Z,QTab:ye.Z,QSeparator:X.Z,QTabPanels:we.Z,QTabPanel:be.Z,QInnerLoading:_e.Z,QSpinnerBall:Ee.Z,QIcon:J.Z});const Te=(0,l.aZ)({name:"EMR",components:{PatientEncounterInfo:ie,MainEMR:De},data(){return{bools:{isMultipleCaseNo:!0,isLoading:!1},clinicalNoteCategoryTree:[]}},computed:{...(0,K.Se)({visitEncounterNotes:"clinicalNotes/visitEncounterNotes",admissionEncounterNotes:"clinicalNotes/admissionEncounterNotes",generalNotes:"clinicalNotes/generalNotes",rightDrawer:"helpers/drawerRight",colorEMR:"helpers/colorEMR",clinicalNoteCategories:"clinicalNotes/clinicalNoteCategories",showClinicalNoteDetails:"helpers/showClinicalNoteDetails",userRole:"helpers/userRole",encounterCases:"encounters/encounterCases",clinicalNotes:"clinicalNotes/clinicalNotes",infiniteScroll:"helpers/infiniteScroll",clinicalEncountersPage:"encounters/clinicalEncountersPage",clinicalEncountersRows:"encounters/clinicalEncountersRows"})},mounted(){this.mountFunctions()},methods:{async mountFunctions(){await this.checkCase(),await this.fetchNotesCategories(),await this.checkPatientType()},async fetchNotesCategories(){const e={sectionID:"ehr"};await this.$store.dispatch("clinicalNotes/fetchClinicalCategoryNotes",e),await this.$store.dispatch("clinicalNotes/fetchClinicalNoteCategoryTree")},checkPatientType(){"I"===this.encounterCases[0].patient_type?this.clinicalNoteCategoryTree=this.admissionEncounterNotes:this.clinicalNoteCategoryTree=this.visitEncounterNotes},async checkCase(){this.bools.isLoading=!0;const e=await this.$store.dispatch("helpers/decrypt",this.$route.params.caseNo),t={type:"checking",dateFrom:null,dateTo:null,userType:this.userRole,patientType:null,caseNo:e.decrypted,rowsPage:this.clinicalEncountersRows,pageNo:this.clinicalEncountersPage,paginated:1};await this.$store.dispatch("encounters/getCases",t),"emr-checked"===this.$route.name&&(this.bools.isMultipleCaseNo=!1),1===this.encounterCases.length&&(this.bools.isMultipleCaseNo=!1),this.bools.isLoading=!1},async caseRoute(e){const t=await this.$store.dispatch("helpers/encrypt",e);this.$router.push(`/emr/case/${t.encrypted}/checked`)}}});var Ie=i(4379),xe=i(9100);const ke=(0,A.Z)(Te,[["render",h]]),Me=ke;F()(Te,"components",{QPage:Ie.Z,QSpinnerBars:xe.Z,QBtn:O.Z})}}]);