"use strict";(self["webpackChunkuerm_ehr"]=self["webpackChunkuerm_ehr"]||[]).push([[64],{9777:(e,t,l)=>{l.d(t,{Z:()=>P});var i=l(3673),a=l(2323),s=l(8880);const o={class:"bg-grey-2"},n={key:0,class:"row q-pt-md q-pb-md q-px-md justify-between items-center"},c={class:"col-lg-2 col-md-4 col-sm-4 flex flex-center"},r={key:0},d={class:"row justify-between bg-grey-4 items-center text-uppercase"},u={class:"text-weight-light text-h5 q-pa-md"},p=(0,i._)("div",null,"Add New",-1),m={class:"stripped"},g={class:"q-pa-md col-4 text-weight-bold"},h={class:"q-pa-md col-8"},f={class:"q-pa-sm row items-center justify-end"},w={key:0,class:"q-mt-md"},b={key:1,class:(0,a.C_)([]),style:{width:"100%"}},y={class:"row justify-between bg-grey-4 items-center text-uppercase"},v={class:"text-weight-light text-h5 q-pa-md"},C={class:"flex flex-center column q-pa-md"},_=(0,i._)("div",null,"Add New",-1),q={key:1},N={key:2,class:"text-h6 text-uppercase text-weight-light"};function D(e,t,l,D,k,x){const T=(0,i.up)("q-input"),Z=(0,i.up)("q-toggle"),W=(0,i.up)("q-separator"),I=(0,i.up)("q-item-label"),V=(0,i.up)("q-icon"),F=(0,i.up)("q-btn"),M=(0,i.up)("q-card-section"),S=(0,i.up)("q-card"),Q=(0,i.up)("q-table"),A=(0,i.up)("q-slide-transition"),R=(0,i.up)("q-scroll-area"),$=(0,i.up)("GeneralNoteEntry"),E=(0,i.up)("q-dialog"),j=(0,i.Q2)("ripple");return(0,i.wg)(),(0,i.iD)("div",o,[e.showPatientClinicalNoteDetailsFilter()?((0,i.wg)(),(0,i.iD)("div",n,[(0,i.Wm)(T,{square:"",filled:"",color:"blue-10",label:"Filter Result",class:"col-lg-10 col-md-8 col-sm-8",style:{padding:"0 !important"},debounce:"400",modelValue:e.filterResult,"onUpdate:modelValue":t[0]||(t[0]=t=>e.filterResult=t),ref:"filterResult"},null,8,["modelValue"]),(0,i._)("div",c,[(0,i.Wm)(Z,{class:"text-subtitle1",label:e.card_view?"Card View":"Table View",modelValue:e.card_view,"onUpdate:modelValue":t[1]||(t[1]=t=>e.card_view=t)},null,8,["label","modelValue"])])])):(0,i.kq)("",!0),e.showPatientClinicalNoteDetailsFilter()?((0,i.wg)(),(0,i.j4)(W,{key:1,class:"q-mb-md"})):(0,i.kq)("",!0),(0,i.Wm)(R,{style:{height:"62vh"},class:"q-mr-md q-pr-md",visible:!0},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(this.clinical_note,(l=>((0,i.wg)(),(0,i.iD)("div",{key:`patient_clinical_note_detail-${l.code}`},[l.name.toLowerCase().includes(e.clinical_note_filter.toLowerCase())&&null!=l.template_format&&void 0===l.categorical_type?((0,i.wg)(),(0,i.iD)("div",r,[e.filtered_patient_clinical_note_details[l.code]&&e.filtered_patient_clinical_note_details[l.code].rows&&e.filtered_patient_clinical_note_details[l.code].rows.length>0?((0,i.wg)(),(0,i.j4)(S,{key:0,square:"",flat:"",class:"shadow-0 q-mx-md q-mb-md"},{default:(0,i.w5)((()=>[(0,i.Wm)(M,{class:"q-pa-none cursor-pointer",onClick:t=>e.expandNote(l.code)},{default:(0,i.w5)((()=>[(0,i._)("div",d,[(0,i._)("div",u,[(0,i.Wm)(I,{overline:""},{default:(0,i.w5)((()=>[(0,i.Uk)((0,a.zw)(l.breadcrumbs?l.breadcrumbs.join(" > "):""),1)])),_:2},1024),(0,i.Wm)(I,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,a.zw)(l.name),1)])),_:2},1024)]),(0,i._)("div",null,[l.allow_multiple?((0,i.wg)(),(0,i.j4)(F,{key:0,flat:"",color:"blue-10",class:"q-mr-md",onClick:t=>e.openEntryNotes(l)},{default:(0,i.w5)((()=>[(0,i.Wm)(V,{left:"",size:"1.5em",name:"fa fa-plus"}),p])),_:2},1032,["onClick"])):(0,i.kq)("",!0),(0,i.Wm)(V,{flat:"",round:"",size:"md",class:"q-pr-md",name:this.filtered_patient_clinical_note_details[l.code].status?"keyboard_arrow_up":"keyboard_arrow_down"},null,8,["name"])])])])),_:2},1032,["onClick"]),(0,i.Wm)(M,{class:"q-pa-none"},{default:(0,i.w5)((()=>[(0,i.Wm)(A,null,{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(S,{square:"",class:"shadow-0 cursor-pointer"},{default:(0,i.w5)((()=>[(0,i.Wm)(M,{class:"q-pa-none"},{default:(0,i.w5)((()=>[(0,i.Wm)(S,{square:"",bordered:"",class:"shadow-0 row q-pa-none"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.filtered_patient_clinical_note_details[l.code].rows,((t,s)=>((0,i.wg)(),(0,i.iD)("div",{class:"col-12 q-pa-none q-mb-md",key:s},[e.card_view?(0,i.wy)(((0,i.wg)(),(0,i.j4)(S,{key:0,class:"q-mt-md q-mx-md shadow-0 cursor-pointer",square:"",bordered:"",onClick:l=>e.getRow(t)},{default:(0,i.w5)((()=>[(0,i._)("div",m,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.filtered_patient_clinical_note_details[l.code].fields,((e,l)=>((0,i.wg)(),(0,i.iD)("div",{class:"row child",key:l,bordered:""},[(0,i._)("div",g,(0,a.zw)(e.label),1),(0,i._)("div",h,(0,a.zw)(t[e.field]),1)])))),128)),(0,i._)("div",f,[(0,i.Wm)(F,{icon:"fa fa-edit",color:"blue-10",flat:"",round:""})])])])),_:2},1032,["onClick"])),[[j,void 0,"grey-5"]]):(0,i.kq)("",!0)])))),128)),e.card_view?((0,i.wg)(),(0,i.iD)("div",w)):((0,i.wg)(),(0,i.iD)("div",b,[(0,i.Wm)(Q,{rows:e.filtered_patient_clinical_note_details[l.code].rows,columns:e.filtered_patient_clinical_note_details[l.code].fields,"hide-bottom":"",class:(0,a.C_)(["shadow-0 bordered",[e.filtered_patient_clinical_note_details[l.code].fields.length>5?"half-width":"full-width"]]),onRowClick:t[2]||(t[2]=(t,l,i)=>e.getRow(l))},null,8,["rows","columns","class"])]))])),_:2},1024)])),_:2},1024)])),_:2},1536),[[s.F8,this.filtered_patient_clinical_note_details[l.code].status]])])),_:2},1024)])),_:2},1024)])),_:2},1024)):(0,i.kq)("",!0),e.filtered_patient_clinical_note_details[l.code]&&e.filtered_patient_clinical_note_details[l.code].rows&&0!==e.filtered_patient_clinical_note_details[l.code].rows.length?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(S,{key:1,square:"",flat:"",class:"shadow-0 q-mx-md q-mb-md"},{default:(0,i.w5)((()=>[(0,i.Wm)(M,{class:"q-pa-none"},{default:(0,i.w5)((()=>[(0,i._)("div",y,[(0,i._)("div",v,[(0,i.Wm)(I,{overline:""},{default:(0,i.w5)((()=>[(0,i.Uk)((0,a.zw)(l.breadcrumbs?l.breadcrumbs.join(" > "):""),1)])),_:2},1024),(0,i.Wm)(I,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,a.zw)(l.name),1)])),_:2},1024)])])])),_:2},1024),(0,i.Wm)(M,{class:"q-pa-none"},{default:(0,i.w5)((()=>[(0,i.Wm)(S,{square:"",bordered:"",class:"shadow-0"},{default:(0,i.w5)((()=>[(0,i._)("div",C,[e.isFiltered?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(F,{key:0,flat:"",color:"blue-10",onClick:t=>e.openEntryNotes(l),class:"q-mb-sm",style:{display:"flex","flex-direction":"column"}},{default:(0,i.w5)((()=>[(0,i.Wm)(V,{left:"",size:"1.5em",name:"fa fa-plus"}),_])),_:2},1032,["onClick"])),e.isFiltered?((0,i.wg)(),(0,i.iD)("div",N,' No rows matching "'+(0,a.zw)(e.filterResult)+'". ',1)):((0,i.wg)(),(0,i.iD)("div",q," No Clinical Note for "+(0,a.zw)(l.name)+" yet. ",1))])])),_:2},1024)])),_:2},1024)])),_:2},1024))])):(0,i.kq)("",!0)])))),128))])),_:1}),(0,i.Wm)(E,{modelValue:e.bools.entryNoteDialog,"onUpdate:modelValue":t[6]||(t[6]=t=>e.bools.entryNoteDialog=t)},{default:(0,i.w5)((()=>[e.bools.generalEntryLoading?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)($,{key:0,clinicalNoteInfo:this.clinicalNoteInfo,editNoteInfo:this.editNoteInfo,onCheckGeneralNotes:t[3]||(t[3]=t=>e.fetchClinicalNotes()),onSetClinicalNoteFormat:t[4]||(t[4]=t=>e.setClinicalNotes(this.clinicalNoteInfo)),onGoBackToSelection:t[5]||(t[5]=t=>e.setDialogInit())},null,8,["clinicalNoteInfo","editNoteInfo"]))])),_:1},8,["modelValue"])])}l(2100),l(71);var k=l(3617),x=l(8825),T=l(4049);const Z=(0,i.aZ)({name:"ClinicalNoteResults",props:["clinicalNoteTree","loadTree","noteMode","clinicalEncounters"],data(){return{filter:"",filterRef:null,filterResult:"",splitterModel:25,clinical_note_filter:"",patient_clinical_note_details:{},filtered_patient_clinical_note_details:{},clinicalEncounterListsColors:["bg-grey-1, bg-grey-2"],clinical_note:[],isFiltered:!1,expanded:[],card_view:!1,bools:{isSMTreeOpen:!1,entryNoteDialog:!1},clinicalNoteInfo:{currentTitle:null,title:null,name:null,format:null,clinicalNoteCode:null,clinicalCategoryCode:null,clinicalCategoryName:null,clinicalNotes:[]}}},watch:{filterResult(e){if(this.filtered_patient_clinical_note_details=JSON.parse(JSON.stringify(this.patient_clinical_note_details)),""===e||null===e)return this.isFiltered=!1;this.isFiltered=!0;for(const l in this.filtered_patient_clinical_note_details)for(let e=this.filtered_patient_clinical_note_details[l].rows.length-1;e>=0;e--){let i=!1;for(const a in this.filtered_patient_clinical_note_details[l].rows[e]){var t;if(!["result_format"].includes(a)&&(null!==(t=this.filtered_patient_clinical_note_details[l].rows[e][a])&&void 0!==t?t:"").toLowerCase().includes(this.filterResult.toLowerCase())){i=!0;break}}i||this.filtered_patient_clinical_note_details[l].rows.splice(e,1)}},clinicalEncounters(e){this.init()}},computed:{...(0,k.Se)({encounterCases:"encounters/encounterCases",clinicalNoteFilter:"helpers/clinicalNoteFilter",clinicalNoteTreeValues:"helpers/clinicalNoteTreeValues",clinicalNotes:"clinicalNotes/clinicalNotes"})},mounted(){this.checkPlatform(),this.setKeyPress(),this.init()},methods:{setKeyPress(){window.addEventListener("keydown",(async e=>{"113"==e.keyCode&&this.$refs.filterResult.focus(),"114"==e.keyCode&&this.toggleView()}))},async init(){const e=JSON.parse(JSON.stringify(this.clinicalEncounters));console.log(this.clinicalEncounters),this.patient_clinical_note_details=this.getPatientClinicalNoteDetails(e),this.filtered_patient_clinical_note_details=JSON.parse(JSON.stringify(this.patient_clinical_note_details)),this.getClinicalNotes()},checkPlatform(){const e=(0,x.Z)();"sm"!==e.screen.name&&"xs"!==e.screen.name&&"md"!==e.screen.name||(this.splitterModel=0)},openTree(e){this.bools.isSMTreeOpen=!e,this.splitterModel=e?0:30},toggleView(){this.card_view=!this.card_view},expandNote(e){this.filtered_patient_clinical_note_details[e].status=!this.filtered_patient_clinical_note_details[e].status},getPatientClinicalNoteDetails:function(e){const t={};let l=[];for(const i of e){void 0===t[i.clinical_note_code]&&(t[i.clinical_note_code]={clinicalNoteCode:i.clinical_note_code,label:i.clinical_note||"",status:!0,fields:[],rows:[]});for(const e of i.result_format.fields){let l=!1;for(const a of t[i.clinical_note_code].fields)if(a.field===e.code){l=!0;break}l||t[i.clinical_note_code].fields.push({field:e.code,label:e.name,name:e.code,align:"center",sortable:!0})}t[i.clinical_note_code].fields.push({field:"updated_by",label:"Updated By",name:"updated_by",align:"center",sortable:!0},{field:"datetime_updated",label:"Update Date",name:"datetime_updated",align:"center",sortable:!0}),l=t[i.clinical_note_code].fields.filter(((e,t,l)=>t===l.findIndex((t=>t.label===e.label)))),t[i.clinical_note_code].fields=l}for(const i of e)for(const e in t)if(e===i.clinical_note_code){const l={};for(const e of i.result_format.fields)void 0===l[e.code]&&(l[e.code]=e.value),void 0===l["updated_by"]&&(l["updated_by"]=i.user_name),void 0===l["datetime_updated"]&&(l["datetime_updated"]=i.update_datetime),void 0===l["result_format"]&&(l["result_format"]=JSON.stringify(i.result_format)),void 0===l["clinical_encounter_id"]&&(l["clinical_encounter_id"]=i.clinical_encounter_id.toString()),void 0===l["clinical_note_code"]&&(l["clinical_note_code"]=i.clinical_note_code),void 0===l["clinical_note_name"]&&(l["clinical_note_name"]=i.clinical_note);t[e].rows.push(l)}return t},openEntryNotes(e){const t={clinicalNoteCode:e.code};this.setEntryNotes(t),this.bools.entryNoteDialog=!0},getRow(e){this.bools.entryNoteDialog=!0,this.setUpdateNote(e)},setEntryNotes(e){this.setClinicalNotes(e),setTimeout((async()=>{this.bools.generalNoteLoading=!1}),500)},setDialogInit(){this.bools.entryNoteDialog=!1},async setClinicalNotes(e){void 0!==e.clinicalNoteCode&&(this.editNoteInfo=[]);const t=void 0===e.clinical_note_code?e.clinicalNoteCode:e.clinical_note_code;var l=this.clinicalNotes.filter((e=>e.code===t));this.setClinicalNoteInfo(l[0],!0),this.fetchClinicalNotes()},async setClinicalNoteInfo(e,t){if(this.clinicalNoteInfo.name=e.name,this.clinicalNoteInfo.clinicalNoteCode=e.code,this.clinicalNoteInfo.format=e.template_format,t){let t=void 0===e.template_format.title?null:e.template_format.title;this.clinicalNoteInfo.title=null===t?e.name:t}else{var l=this.clinicalNotes.filter((t=>t.code===e.code));let t=void 0===l[0].template_format.title?null:l[0].template_format.title;this.clinicalNoteInfo.title=null===t?l[0].name:t}},setUpdateNote(e){this.bools.noteMode=!0,this.bools.enableEntry=!0;const t={clinical_note_code:e.clinical_note_code,clinical_note:e.clinical_note_name,result_format:JSON.parse(e.result_format),clinical_encounter_id:parseInt(e.clinical_encounter_id)};this.setPatientNotes(t)},setPatientNotes(e){this.bools.generalEntryLoading=!0,this.bools.generalNoteLoading=!0,this.editNoteInfo=e;const t={name:e.clinical_note,code:e.clinical_note_code,template_format:e.result_format,title:e.clinical_note};this.setClinicalNoteInfo(t,!1),this.bools.generalEntryLoading=!1,this.bools.generalNoteLoading=!1},async fetchClinicalNotes(){let e="";e={patientNo:this.encounterCases[0].patientID,clinicalCategoryCode:null,checking:!0,byCategoryCode:!1},await this.$store.dispatch("encounters/getClinicalEncounters",e),this.clinicalEncounterLists=this.clinicalEncounters,this.bools.generalNoteLoading=!1},async getClinicalNotes(e){this.loadingTabs=!0;const t={sectionType:"ehr"};await this.$store.dispatch("clinicalNotes/fetchClinicalNotes",t),this.loadingTabs=!1},showPatientClinicalNoteDetailsFilter(){this.clinical_note=this.clinicalNoteTreeValues,this.clinical_note_filter=this.clinicalNoteFilter;for(const e of this.clinical_note)if(e.name.toLowerCase().includes(this.clinical_note_filter.toLowerCase())&&void 0===e.categorical_type)return!0;return!1}},components:{GeneralNoteEntry:T.Z}});var W=l(4260),I=l(4842),V=l(8886),F=l(5869),M=l(7704),S=l(151),Q=l(5589),A=l(2350),R=l(2165),$=l(4554),E=l(2471),j=l(8107),U=l(6778),L=l(6489),z=l(7518),O=l.n(z);const B=(0,W.Z)(Z,[["render",D]]),P=B;O()(Z,"components",{QInput:I.Z,QToggle:V.Z,QSeparator:F.Z,QScrollArea:M.Z,QCard:S.Z,QCardSection:Q.Z,QItemLabel:A.Z,QBtn:R.Z,QIcon:$.Z,QSlideTransition:E.Z,QTable:j.Z,QDialog:U.Z}),O()(Z,"directives",{Ripple:L.Z})},7913:(e,t,l)=>{l.d(t,{Z:()=>u});var i=l(3673);function a(e,t,l,a,s,o){const n=(0,i.up)("q-input");return(0,i.wg)(),(0,i.j4)(n,{"stack-label":"",outlined:"",class:"full-width",type:"date",label:e.opts.label,"error-message":e.opts.requiredMessage,disable:e.opts.disable,placeholder:e.opts.placeholder,rules:[t=>{if((null==t||""===t)&&e.opts.required)return e.opts.requiredMessage}]},null,8,["label","error-message","disable","placeholder","rules"])}const s=(0,i.aZ)({name:"Date",props:["opts"]});var o=l(4260),n=l(4842),c=l(7518),r=l.n(c);const d=(0,o.Z)(s,[["render",a]]),u=d;r()(s,"components",{QInput:n.Z})},1524:(e,t,l)=>{l.d(t,{Z:()=>p});var i=l(3673);const a={class:"row q-gutter-md"};function s(e,t,l,s,o,n){const c=(0,i.up)("q-input");return(0,i.wg)(),(0,i.iD)("div",a,[(0,i.Wm)(c,{"stack-label":"",class:"col",type:"date",label:`${e.opts.label}: FROM`,modelValue:e.from,"onUpdate:modelValue":t[0]||(t[0]=t=>e.from=t),outlined:"",disable:e.opts.disable,rules:[t=>{if((null==t||""===t)&&e.opts.required)return e.opts.requiredMessage}]},null,8,["label","modelValue","disable","rules"]),(0,i.Wm)(c,{"stack-label":"",class:"col",type:"date",label:`${e.opts.label}: TO`,modelValue:e.to,"onUpdate:modelValue":t[1]||(t[1]=t=>e.to=t),outlined:"",disable:e.opts.disable,rules:[t=>{if((null==t||""===t)&&e.opts.required)return e.opts.requiredMessage}]},null,8,["label","modelValue","disable","rules"])])}const o=(0,i.aZ)({name:"Date Range",props:["opts"]});var n=l(4260),c=l(4842),r=l(7518),d=l.n(r);const u=(0,n.Z)(o,[["render",s]]),p=u;d()(o,"components",{QInput:c.Z})},4664:(e,t,l)=>{l.d(t,{Z:()=>q});l(246);var i=l(3673),a=l(2323);const s={class:"column relative-position"};function o(e,t,l,o,n,c){const r=(0,i.up)("q-item-label"),d=(0,i.up)("q-item-section"),u=(0,i.up)("q-item"),p=(0,i.up)("q-badge"),m=(0,i.up)("q-toggle"),g=(0,i.up)("q-select");return(0,i.wg)(),(0,i.iD)("div",s,[(0,i.Wm)(g,{"use-input":"",outlined:"","emit-value":"","map-options":"",options:e.options,label:`ICD10: ${e.opts.label}`,loading:e.selectLoading,disable:e.opts.disable,placeholder:e.opts.placeholder,onFilter:e.filterFn,rules:[t=>{if((null==t||""===t)&&e.opts.required)return e.opts.requiredMessage}]},{option:(0,i.w5)((e=>[(0,i.Wm)(u,(0,a.vs)((0,i.F4)(e.itemProps)),{default:(0,i.w5)((()=>[(0,i.Wm)(d,{side:"",style:{width:"80px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,a.zw)(e.opt.code),1)])),_:2},1024)])),_:2},1024),(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,a.zw)(e.opt.description),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),append:(0,i.w5)((()=>[(0,i.Wm)(p,{outline:"",color:"primary",label:e.searchBy,rounded:""},null,8,["label"]),(0,i.Wm)(m,{modelValue:e.form.searchByCode,"onUpdate:modelValue":t[0]||(t[0]=t=>e.form.searchByCode=t),class:"col-auto",size:"sm"},null,8,["modelValue"])])),_:1},8,["options","label","loading","disable","placeholder","onFilter","rules"])])}const n=(0,i.aZ)({name:"ICD 10",props:["opts"],data(){return{icd:[],form:{searchByCode:!1,search:""},bools:{isLoading:!1},description:"",options:[],selectLoading:!1}},computed:{searchBy(){return this.form.searchByCode?"CODE":"NAME"}},methods:{async searchIcd(e){if(e.length<3)return;this.icd=[],this.description="",this.bools.isLoading=!0;const t=await this.$store.dispatch("helpers/searchIcd10",{search:e,type:this.form.searchByCode?"code":"name"});this.icd=t,this.bools.isLoading=!1},filterFn(e,t,l){t((async()=>{if(e.length>3){this.selectLoading=!0;const t=await this.$store.dispatch("helpers/searchIcd10",{search:e,type:this.form.searchByCode?"code":"name"});this.options=t,this.selectLoading=!1}}))}}});var c=l(4260),r=l(4842),d=l(2165),u=l(8886),p=l(8870),m=l(7704),g=l(7011),h=l(3414),f=l(2035),w=l(3017),b=l(2350),y=l(9721),v=l(7518),C=l.n(v);const _=(0,c.Z)(n,[["render",o]]),q=_;C()(n,"components",{QInput:r.Z,QBtn:d.Z,QToggle:u.Z,QTooltip:p.Z,QScrollArea:m.Z,QList:g.Z,QItem:h.Z,QItemSection:f.Z,QSelect:w.Z,QItemLabel:b.Z,QBadge:y.Z})},7020:(e,t,l)=>{l.d(t,{Z:()=>u});var i=l(3673);function a(e,t,l,a,s,o){const n=(0,i.up)("q-input");return(0,i.wg)(),(0,i.j4)(n,{"stack-label":"",outlined:"",debounce:"300",type:"number",label:e.opts.label,disable:e.opts.disable,placeholder:e.opts.placeholder,step:".01",rules:[t=>{if((null==t||""===t)&&e.opts.required)return e.opts.requiredMessage}]},null,8,["label","disable","placeholder","rules"])}const s=(0,i.aZ)({name:"Number",props:["opts"]});var o=l(4260),n=l(4842),c=l(7518),r=l.n(c);const d=(0,o.Z)(s,[["render",a]]),u=d;r()(s,"components",{QInput:n.Z})},815:(e,t,l)=>{l.d(t,{Z:()=>p});var i=l(3673);const a={class:"row q-gutter-md"};function s(e,t,l,s,o,n){const c=(0,i.up)("q-input");return(0,i.wg)(),(0,i.iD)("div",a,[(0,i.Wm)(c,{debounce:"300","stack-label":"",outlined:"",class:"col",type:"number",step:".01",label:`${e.opts.label}: MIN`,disable:e.opts.disable,modelValue:e.min,"onUpdate:modelValue":t[0]||(t[0]=t=>e.min=t),rules:[t=>{if((null==t||""===t)&&e.opts.required)return e.opts.requiredMessage}]},null,8,["label","disable","modelValue","rules"]),(0,i.Wm)(c,{debounce:"300","stack-label":"",outlined:"",class:"col",type:"number",step:".01",label:`${e.opts.label}: MAX`,disable:e.opts.disable,modelValue:e.max,"onUpdate:modelValue":t[1]||(t[1]=t=>e.max=t),rules:[t=>{if((null==t||""===t)&&e.opts.required)return e.opts.requiredMessage}]},null,8,["label","disable","modelValue","rules"])])}l(71);const o=(0,i.aZ)({name:"Number Range",props:["opts","initialValue"],data(){return{min:null,max:null}},watch:{min(e){this.exposeValue(e,this.max)},max(e){this.exposeValue(this.min,e)}},created(){let e=[0,0];this.initialValue&&(e=this.initialValue.split("-").map((e=>{const t=parseInt(e);return isNaN(t)?0:t}))),[this.min,this.max]=e},methods:{exposeValue(e,t){console.log(`Exposing "${e}-${t}" value to parent component...`),this.$emit("valueChanged",`${e}-${t}`)}}});var n=l(4260),c=l(4842),r=l(7518),d=l.n(r);const u=(0,n.Z)(o,[["render",s]]),p=u;d()(o,"components",{QInput:c.Z})},3329:(e,t,l)=>{l.d(t,{Z:()=>u});l(6801);var i=l(3673);function a(e,t,l,a,s,o){const n=(0,i.up)("q-select");return(0,i.wg)(),(0,i.j4)(n,{"stack-label":"",outlined:"","input-debounce":"300",label:e.opts.label,options:e.opts.options.split(",").map((e=>e.trim())),disable:e.opts.disable,placeholder:e.opts.placeholder,rules:[t=>{if((null==t||""===t)&&e.opts.required)return e.opts.requiredMessage}]},null,8,["label","options","disable","placeholder","rules"])}const s=(0,i.aZ)({name:"Select",props:["opts"]});var o=l(4260),n=l(3017),c=l(7518),r=l.n(c);const d=(0,o.Z)(s,[["render",a]]),u=d;r()(s,"components",{QSelect:n.Z})},6077:(e,t,l)=>{l.d(t,{Z:()=>u});var i=l(3673);function a(e,t,l,a,s,o){const n=(0,i.up)("q-input");return(0,i.wg)(),(0,i.j4)(n,{"stack-label":"",outlined:"",debounce:"300",type:"text",id:e.opts.code,label:e.opts.label,disable:e.opts.disable,placeholder:e.opts.placeholder,rules:[t=>{if((null==t||""===t)&&e.opts.required)return e.opts.requiredMessage}]},null,8,["id","label","disable","placeholder","rules"])}const s=(0,i.aZ)({name:"Text",props:["opts"]});var o=l(4260),n=l(4842),c=l(7518),r=l.n(c);const d=(0,o.Z)(s,[["render",a]]),u=d;r()(s,"components",{QInput:n.Z})},6001:(e,t,l)=>{l.d(t,{Z:()=>u});var i=l(3673);function a(e,t,l,a,s,o){const n=(0,i.up)("q-input");return(0,i.wg)(),(0,i.j4)(n,{"stack-label":"",outlined:"",autogrow:"",debounce:"300",type:"text",label:e.opts.label,disable:e.opts.disable,placeholder:e.opts.placeholder,rules:[t=>{if((null==t||""===t)&&e.opts.required)return e.opts.requiredMessage}]},null,8,["label","disable","placeholder","rules"])}const s=(0,i.aZ)({name:"TextAutogrow",props:["opts"]});var o=l(4260),n=l(4842),c=l(7518),r=l.n(c);const d=(0,o.Z)(s,[["render",a]]),u=d;r()(s,"components",{QInput:n.Z})},8052:(e,t,l)=>{l.d(t,{Z:()=>p});var i=l(3673),a=l(8880);function s(e,t,l,s,o,n){const c=(0,i.up)("q-input");return(0,i.wg)(),(0,i.j4)(c,{"stack-label":"",outlined:"",debounce:"300",type:"textarea",label:e.opts.label,disable:e.opts.disable,onKeydown:t[0]||(t[0]=(0,a.D2)((0,a.iM)((t=>e.value+="\n"),["exact","prevent"]),["enter"])),placeholder:e.opts.placeholder,rules:[t=>{if((null==t||""===t)&&e.opts.required)return e.opts.requiredMessage}]},null,8,["label","disable","placeholder","rules"])}const o=(0,i.aZ)({name:"Textarea",props:["opts"]});var n=l(4260),c=l(4842),r=l(7518),d=l.n(r);const u=(0,n.Z)(o,[["render",s]]),p=u;d()(o,"components",{QInput:c.Z})},4049:(e,t,l)=>{l.d(t,{Z:()=>F});l(246);var i=l(3673),a=l(2323),s=l(8880);const o={style:{"max-width":"1200px !important"}},n={class:"row justify-between"};function c(e,t,l,c,r,d){const u=(0,i.up)("q-card-section"),p=(0,i.up)("q-separator"),m=(0,i.up)("Date"),g=(0,i.up)("Text"),h=(0,i.up)("TextAutogrow"),f=(0,i.up)("Number"),w=(0,i.up)("Textarea"),b=(0,i.up)("Select"),y=(0,i.up)("ICD10"),v=(0,i.up)("NumberRange"),C=(0,i.up)("DateRange"),_=(0,i.up)("q-scroll-area"),q=(0,i.up)("q-card"),N=(0,i.up)("q-btn"),D=(0,i.up)("q-btn-group"),k=(0,i.up)("q-form"),x=(0,i.up)("q-spinner-gears"),T=(0,i.up)("q-inner-loading");return(0,i.wg)(),(0,i.iD)("div",o,[(0,i.Wm)(q,{style:{width:"700px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{class:"q-pa-none"},{default:(0,i.w5)((()=>[(0,i.Wm)(k,{onSubmit:e.saveClinicalEncounter},{default:(0,i.w5)((()=>[(0,i._)("div",null,[(0,i.Wm)(q,{borderless:"",class:"shadow-0"},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{class:"text-uppercase text-weight-light text-h5 q-pa-md"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,a.zw)(e.clinicalNoteInfo.name),1)])),_:1}),(0,i.Wm)(p),(0,i.Wm)(_,{ref:"scrollArea",class:"q-pa-lg",style:{height:"60vh"},visible:!0},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{class:"q-pa-none"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.clinical_encounter_details,((t,l)=>((0,i.wg)(),(0,i.iD)("div",{key:l},[t.active&&"date"===t.type&&t.visible?((0,i.wg)(),(0,i.j4)(m,{key:0,opts:{label:t.name,requiredMessage:t.requiredMessage,required:t.required,type:t.type,placeholder:t.description},modelValue:t.value,"onUpdate:modelValue":e=>t.value=e},null,8,["opts","modelValue","onUpdate:modelValue"])):t.active&&"text"===t.type&&t.visible?((0,i.wg)(),(0,i.j4)(g,{key:1,opts:{label:t.name,requiredMessage:t.requiredMessage,required:t.required,type:t.type,placeholder:t.description},modelValue:t.value,"onUpdate:modelValue":e=>t.value=e},null,8,["opts","modelValue","onUpdate:modelValue"])):t.active&&"textautogrow"===t.type&&t.visible?((0,i.wg)(),(0,i.j4)(h,{key:2,opts:{label:t.name,requiredMessage:t.requiredMessage,required:t.required,type:t.type,placeholder:t.description},modelValue:t.value,"onUpdate:modelValue":e=>t.value=e},null,8,["opts","modelValue","onUpdate:modelValue"])):t.active&&"number"===t.type&&t.visible?((0,i.wg)(),(0,i.j4)(f,{key:3,opts:{label:t.name,requiredMessage:t.requiredMessage,required:t.required,type:t.type,placeholder:t.description},modelValue:t.value,"onUpdate:modelValue":e=>t.value=e},null,8,["opts","modelValue","onUpdate:modelValue"])):t.active&&"textarea"===t.type&&t.visible?((0,i.wg)(),(0,i.j4)(w,{key:4,opts:{label:t.name,requiredMessage:t.requiredMessage,required:t.required,type:t.type,placeholder:t.description},modelValue:t.value,"onUpdate:modelValue":e=>t.value=e,onKeydown:(0,s.D2)((0,s.iM)(e.saveClinicalEncounter,["shift","exact","prevent"]),["enter"])},null,8,["opts","modelValue","onUpdate:modelValue","onKeydown"])):t.active&&"select"===t.type&&t.visible?((0,i.wg)(),(0,i.j4)(b,{key:5,opts:{label:t.name,requiredMessage:t.requiredMessage,required:t.required,options:t.options,type:t.type,placeholder:t.description},modelValue:t.value,"onUpdate:modelValue":e=>t.value=e},null,8,["opts","modelValue","onUpdate:modelValue"])):t.active&&"icd10"===t.type&&t.visible?((0,i.wg)(),(0,i.j4)(y,{key:6,opts:{label:t.name,requiredMessage:t.requiredMessage,required:t.required,type:t.type,placeholder:t.description},modelValue:t.value,"onUpdate:modelValue":e=>t.value=e},null,8,["opts","modelValue","onUpdate:modelValue"])):t.active&&"numberrange"===t.type&&t.visible?((0,i.wg)(),(0,i.j4)(v,{key:7,opts:{label:t.name,requiredMessage:t.requiredMessage,required:t.required,type:t.type},modelValue:t.value,"onUpdate:modelValue":e=>t.value=e},null,8,["opts","modelValue","onUpdate:modelValue"])):t.active&&"daterange"===t.type&&t.visible?((0,i.wg)(),(0,i.j4)(C,{key:8,opts:{label:t.name,requiredMessage:t.requiredMessage,required:t.required,type:t.type},modelValue:t.value,"onUpdate:modelValue":e=>t.value=e},null,8,["opts","modelValue","onUpdate:modelValue"])):(0,i.kq)("",!0)])))),128))])),_:1})])),_:1},512)])),_:1}),(0,i.Wm)(q,{square:"",class:"shadow-0 bg-grey-4 q-ma-none q-pa-md",borderless:""},{default:(0,i.w5)((()=>[(0,i._)("div",n,[(0,i._)("div",null,[(0,i.Wm)(D,null,{default:(0,i.w5)((()=>[(0,i.Wm)(N,{type:"submit",color:"blue-10",push:"",label:e.bools.updateMode?"Update":"Add",icon:e.bools.updateMode?"fa fa-edit":"fa fa-save",disable:e.bools.disableInput},null,8,["label","icon","disable"])])),_:1})])])])),_:1})])])),_:1},8,["onSubmit"])])),_:1}),(0,i.Wm)(T,{showing:e.bools.generalNoteLoading},{default:(0,i.w5)((()=>[(0,i.Wm)(x,{size:"80px",color:"primary"})])),_:1},8,["showing"])])),_:1})])}l(71);var r=l(3617),d=l(7913),u=l(6077),p=l(7020),m=l(8052),g=l(3329),h=l(4664),f=l(815),w=l(1524),b=l(6001);const y=(0,i.aZ)({name:"GeneralNoteEntry",components:{Date:d.Z,Text:u.Z,Number:p.Z,Textarea:m.Z,Select:g.Z,ICD10:h.Z,NumberRange:f.Z,DateRange:w.Z,TextAutogrow:b.Z},props:["clinicalNoteInfo","editNoteInfo"],data(){return{clinicalInputFields:[],value:[],drowdownOptions:[],options:[],dropdownLoading:!1,bools:{generalNoteLoading:!1,updateMode:!1,disableInput:!1},clinical_encounter_details:[]}},computed:{...(0,r.Se)({colorEMR:"helpers/colorEMR",clinicalNoteDetails:"clinicalNotes/clinicalNoteDetails",clinicalNoteDetailValues:"clinicalNotes/clinicalNoteDetailValues",clinicalNoteTemplateFormat:"clinicalNotes/clinicalNoteTemplateFormat",encounterCases:"encounters/encounterCases",templateDetails:"clinicalNotes/templateDetails"})},created(){this.setClinicalInputFields(),void 0!==this.editNoteInfo.clinical_note_code&&this.setUpdateInputFields(this.editNoteInfo)},async mounted(){var e,t,l;const i=this.$store.getters["clinicalNotes/clinical_notes_dict"],a=this.$store.getters["helpers/clone"],s=i[this.clinicalNoteInfo.clinicalNoteCode],o=a(s.template_format.fields);for(const n of o)n["visible"]=!0,n["value"]=null;o.sort(((e,t)=>e.sequence-t.sequence)),null===(e=this.editNoteInfo)||void 0===e||null===(t=e.result_format)||void 0===t||null===(l=t.fields)||void 0===l||l.forEach((e=>{for(const t of o)if(e.code===t.code){t.value=e.value;break}})),this.clinical_encounter_details=o,this.supplyValueAndShow()},watch:{clinical_encounter_details:{handler(e,t){console.log("Vue Watcher: clinical_encounter_details value has changed."),this.supplyValueAndShow()},deep:!0}},methods:{setClinicalInputFields(){this.disableInput=!0,this.clinicalInputFields=[],this.clinicalInputFields.push(this.clinicalNoteInfo.format.fields),this.disableInput=!1},setUpdateInputFields(e){this.bools.updateMode=!0,this.disableInput=!0,this.clinicalInputFields=[],this.clinicalInputFields.push(e.result_format.fields),this.disableInput=!1},goBackToSelection(){this.$emit("goBackToSelection",!0)},filterDropdown(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.options=this.drowdownOptions.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.options=this.drowdownOptions})},showNotif(e,t){let l="";l="success"===e?"blue-10":"negative",this.$q.notify({progress:!0,message:t,color:l})},supplyValueAndShow(){for(const t of this.clinical_encounter_details)if(t.defaultValue||t.visibilityCondition){let l="";if(this.clinical_encounter_details.forEach((e=>{l+=`const ${e.code} = ${"string"===typeof e.value?"'":""}${e.value}${"string"===typeof e.value?"'":""};\n`})),t.defaultValue){const e=t.value;let i=null;try{i=new Function(l+`return ${t.defaultValue};`)()}catch{}e!==i&&(t.value=i)}if(t.visibilityCondition){const i=t.visible;let a=!1;try{a=new Function(l+`return ${t.visibilityCondition};`)()}catch{}if(i!==a&&(t.visible=a,!t.visible)){var e;const l=null!==(e=this.clinical_encounter_details.find((e=>e.code===t.code)))&&void 0!==e?e:null;l&&null!==l.value&&(l.value=null)}}}},saveClinicalEncounter(){this.$q.dialog({title:"Confirmation",message:"Are you sure you want to save this Clinical Note?",cancel:!0,persistent:!0}).onOk((async()=>{this.bools.generalNoteLoading=!0;const e=this.clinical_encounter_details.map((e=>({clinical_field_code:e.code,value:e.value}))),t={id:this.bools.updateMode?this.editNoteInfo.clinical_encounter_id:0,case_no:this.encounterCases[0].case_no,clinical_note_code:this.clinicalNoteInfo.clinicalNoteCode,status:1,chief_complain_icd:"",chief_complaint_remarks:"",clinical_impression_icd:"",clinical_impression_remarks:"",description:"",details:e,remarks:""};let l="encounters/addPatientClinicalEncounter";this.bools.updateMode&&(l="encounters/updatePatientClinicalEncounter");const i=await this.$store.dispatch(l,t);null!=i.success&&this.showNotif("success","Success saving Patient Clinical Note."),this.bools.generalNoteLoading=!1,this.$emit("checkGeneralNotes",!0),this.setClinicalInputFields(),this.goBackToSelection()})).onCancel((()=>{console.log(">>>> Cancel")}))}}});var v=l(4260),C=l(151),_=l(5589),q=l(5269),N=l(5869),D=l(7704),k=l(6375),x=l(2165),T=l(6941),Z=l(6394),W=l(7518),I=l.n(W);const V=(0,v.Z)(y,[["render",c]]),F=V;I()(y,"components",{QCard:C.Z,QCardSection:_.Z,QForm:q.Z,QSeparator:N.Z,QScrollArea:D.Z,QBtnGroup:k.Z,QBtn:x.Z,QInnerLoading:T.Z,QSpinnerGears:Z.Z})},1711:(e,t,l)=>{l.d(t,{Z:()=>f});var i=l(3673);function a(e,t,l,a,s,o){const n=(0,i.up)("q-route-tab"),c=(0,i.up)("q-tabs");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(c,{modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=t=>e.tab=t),class:"bg-uerm-silver full-height gt-xs","active-class":"bg-primary","active-color":"white","indicator-color":"yellow-10",align:"justify"},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{to:"/"+e.role+"/active",name:"active",label:"Active"},null,8,["to"]),(0,i.Wm)(n,{name:"forDischarge",label:"For Discharge",to:"/"+e.role+"/for-discharge"},null,8,["to"]),(0,i.Wm)(n,{name:"discharged",to:"/"+e.role+"/discharged",label:"Discharged"},null,8,["to"])])),_:1},8,["modelValue"]),(0,i.Wm)(c,{modelValue:e.tab,"onUpdate:modelValue":t[1]||(t[1]=t=>e.tab=t),class:"bg-uerm-silver full-height lt-sm","active-class":"bg-primary","active-color":"white","indicator-color":"yellow-10",align:"justify","outside-arrows":"","mobile-arrows":""},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{to:"/"+e.role+"/active",name:"active",label:"",icon:"fa fa-ambulance"},null,8,["to"]),(0,i.Wm)(n,{name:"forDischarge",label:"",to:"/"+e.role+"/for-discharge",icon:"fa fa-procedures"},null,8,["to"]),(0,i.Wm)(n,{name:"discharged",to:"/"+e.role+"/discharged",label:"",icon:"fa fa-hospital-user"},null,8,["to"])])),_:1},8,["modelValue"])])}var s=l(1959),o=l(3617);const n=(0,i.aZ)({name:"ClinicalTabs",computed:{...(0,o.Se)("user",["role"])},setup(){return{tab:(0,s.iH)("active")}},data(){return{bools:{isLoading:!1}}},watch:{tab(e){console.log(e),""!==e&&this.getEncounterCases(e)}},mounted(){this.getEncounterCases(this.tab)},methods:{checkRole(){this.role=null,this.role=this.$route.name},async getEncounterCases(e){const t={type:e,dateFrom:"2022-01-31",dateTo:"2022-01-31",userType:this.role,patientType:"E"};console.log(t),await this.$store.dispatch("encounters/getCases",t)}}});var c=l(4260),r=l(6375),d=l(2165),u=l(7547),p=l(2770),m=l(7518),g=l.n(m);const h=(0,c.Z)(n,[["render",a]]),f=h;g()(n,"components",{QBtnGroup:r.Z,QBtn:d.Z,QTabs:u.Z,QRouteTab:p.Z})},5296:(e,t,l)=>{l.d(t,{Z:()=>J});var i=l(3673);const a={key:0,class:"row justify-center"},s={key:1},o={key:0},n={class:"row q-pa-md q-col-gutter-md"},c={class:"col-lg-4 col-sm-12 col-xs-12 col-md-4"},r={class:"col-lg-4 col-sm-12 col-xs-12 col-md-4"},d={class:"col-lg-4 col-sm-12 col-xs-12 col-md-4"},u={key:1,class:"row q-pa-md q-col-gutter-md"},p={class:"col-lg-12 col-sm-12 col-xs-12 col-md-12"};function m(e,t,l,m,g,h){const f=(0,i.up)("q-circular-progress"),w=(0,i.up)("CategoryCard");return(0,i.wg)(),(0,i.iD)("div",null,[e.bools.isLoading?((0,i.wg)(),(0,i.iD)("div",a,[(0,i.Wm)(f,{indeterminate:"",size:"lg"})])):((0,i.wg)(),(0,i.iD)("div",s,["doctors"===e.role?((0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",n,[(0,i._)("div",c,[(0,i.Wm)(w,{title:"IPD",color:"info",textColor:"white",tableRows:this.encounterCases,nav:this.activeTab,count:this.encounterCases.length,location:this.location,role:this.role},null,8,["tableRows","nav","count","location","role"])]),(0,i._)("div",r,[(0,i.Wm)(w,{title:"ER",color:"red",textColor:"white",nav:this.activeTab,tableRows:this.encounterCases,count:this.encounterCases.length,location:this.location,role:this.role},null,8,["nav","tableRows","count","location","role"])]),(0,i._)("div",d,[(0,i.Wm)(w,{title:"OPD",color:"light-green",textColor:"white",nav:this.activeTab,tableRows:this.encounterCases,count:this.encounterCases.length,location:this.location,role:this.role},null,8,["nav","tableRows","count","location","role"])])])])):((0,i.wg)(),(0,i.iD)("div",u,[(0,i._)("div",p,["EMERGENCY ROOM"!==this.location?((0,i.wg)(),(0,i.j4)(w,{key:0,title:"IPD",color:"info",textColor:"white",tableRows:this.encounterCases,nav:this.activeTab,count:this.encounterCases.length,location:this.location,role:this.role},null,8,["tableRows","nav","count","location","role"])):((0,i.wg)(),(0,i.j4)(w,{key:1,title:"ER",color:"red",textColor:"white",nav:this.activeTab,tableRows:this.encounterCases,count:this.encounterCases.length,location:this.location,role:this.role},null,8,["nav","tableRows","count","location","role"]))])]))]))])}var g=l(3617),h=l(2323);const f={key:0,class:"text-right"},w={key:0},b={key:1},y={key:1},v={key:0,class:"text-right"},C={key:0},_={key:1},q={key:1};function N(e,t,l,a,s,o){const n=(0,i.up)("q-card-section"),c=(0,i.up)("request-table"),r=(0,i.up)("q-card"),d=(0,i.up)("q-skeleton");return(0,i.wg)(),(0,i.iD)("div",null,[e.loading?((0,i.wg)(),(0,i.j4)(r,{key:1,square:""},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{class:(0,h.C_)(`bg-primary text-${this.textColor} text-weight-bold text-h4`),align:"center"},{default:(0,i.w5)((()=>["nurses"===this.role?((0,i.wg)(),(0,i.iD)("div",v,["EMERGENCY ROOM"===this.location?((0,i.wg)(),(0,i.iD)("div",C,(0,h.zw)(this.location),1)):((0,i.wg)(),(0,i.iD)("div",_,"WARD: "+(0,h.zw)(this.location),1))])):((0,i.wg)(),(0,i.iD)("div",q,(0,h.zw)(this.title),1))])),_:1},8,["class"]),(0,i.Wm)(n,null,{default:(0,i.w5)((()=>[(0,i.Wm)(d,{height:"150px"})])),_:1})])),_:1})):((0,i.wg)(),(0,i.j4)(r,{key:0,square:""},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{class:(0,h.C_)(`bg-primary text-${this.textColor} text-weight-bold text-h4`),align:"center"},{default:(0,i.w5)((()=>["nurses"===this.role?((0,i.wg)(),(0,i.iD)("div",f,["EMERGENCY ROOM"===this.location?((0,i.wg)(),(0,i.iD)("div",w,(0,h.zw)(this.location),1)):((0,i.wg)(),(0,i.iD)("div",b,"WARD: "+(0,h.zw)(this.location),1))])):((0,i.wg)(),(0,i.iD)("div",y,(0,h.zw)(this.title),1))])),_:1},8,["class"]),(0,i.Wm)(c,{dataRows:this.tableRows,role:this.role},null,8,["dataRows","role"])])),_:1}))])}const D=(0,i._)("div",{class:"text-weight-light text-h5"},"Patients",-1),k=(0,i._)("br",null,null,-1);function x(e,t,l,a,s,o){const n=(0,i.up)("q-space"),c=(0,i.up)("q-btn"),r=(0,i.up)("q-tooltip"),d=(0,i.up)("q-td"),u=(0,i.up)("q-tr"),p=(0,i.up)("q-table");return(0,i.wg)(),(0,i.iD)("div",null,["nurses"===this.role?((0,i.wg)(),(0,i.j4)(p,{key:0,class:"my-sticky-header-table",rows:this.dataRows,columns:a.nursesColumns,"row-key":"caseNumber",dense:e.$q.screen.lt.md},{top:(0,i.w5)((e=>[D,(0,i.Wm)(n),(0,i.Wm)(c,{flat:"",round:"",dense:"",icon:e.inFullscreen?"fullscreen_exit":"fullscreen",onClick:e.toggleFullscreen,class:"q-ml-md"},null,8,["icon","onClick"])])),body:(0,i.w5)((e=>[(0,i.Wm)(u,{props:e,class:"cursor-pointer",onClick:t=>o.routeToEMR(e.row.encryptedCaseNo,e.row.colorIndicator)},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{anchor:"bottom start",class:"bg-yellow-8 text-black",self:"top middle"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,h.zw)(e.row.name),1)])),_:2},1024),(0,i.Wm)(d,{key:"colorIndicator",props:e,class:(0,h.C_)(`bg-${e.row.colorIndicator} `)},null,8,["props","class"]),(0,i.Wm)(d,{key:"caseNumber",props:e},{default:(0,i.w5)((()=>[(0,i.Uk)((0,h.zw)(e.row.caseNumber),1)])),_:2},1032,["props"]),(0,i.Wm)(d,{key:"name",props:e},{default:(0,i.w5)((()=>[(0,i.Uk)((0,h.zw)(e.row.name),1)])),_:2},1032,["props"]),(0,i.Wm)(d,{key:"patientID",props:e},{default:(0,i.w5)((()=>[(0,i.Uk)((0,h.zw)(e.row.patientID),1)])),_:2},1032,["props"]),(0,i.Wm)(d,{key:"admission",props:e},{default:(0,i.w5)((()=>[(0,i.Uk)((0,h.zw)(e.row.admission),1)])),_:2},1032,["props"])])),_:2},1032,["props","onClick"])])),_:1},8,["rows","columns","dense"])):((0,i.wg)(),(0,i.j4)(p,{key:1,class:"my-sticky-header-table",rows:this.dataRows,columns:a.doctorsColumns,"row-key":"caseNumber",dense:e.$q.screen.lt.md,flat:"",bordered:""},{body:(0,i.w5)((e=>[(0,i.Wm)(u,{props:e,class:"cursor-pointer",onClick:t=>o.routeToEMR(e.row.encryptedCaseNo,e.row.colorIndicator)},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{anchor:"bottom start",class:"bg-yellow-8 text-black",self:"top middle"},{default:(0,i.w5)((()=>[(0,i.Uk)(" Name: "+(0,h.zw)(e.row.name)+" ",1),k,(0,i.Uk)(" Case #: "+(0,h.zw)(e.row.caseNumber),1)])),_:2},1024),(0,i.Wm)(d,{key:"colorIndicator",props:e,class:(0,h.C_)(`bg-${e.row.colorIndicator}`)},null,8,["props","class"]),(0,i.Wm)(d,{key:"name",props:e},{default:(0,i.w5)((()=>[(0,i.Uk)((0,h.zw)(e.row.name),1)])),_:2},1032,["props"]),(0,i.Wm)(d,{key:"admission",props:e},{default:(0,i.w5)((()=>[(0,i.Uk)((0,h.zw)(e.row.admission),1)])),_:2},1032,["props"])])),_:2},1032,["props","onClick"])])),_:1},8,["rows","columns","dense"]))])}const T=[{name:"colorIndicator",required:!0,label:"",align:"center",field:"colorIndicator",sortable:!0,style:"width: 15px"},{name:"name",required:!0,label:"Name",align:"center",field:"name",sortable:!0},{name:"admission",align:"center",label:"Admission",field:"admission",sortable:!0}],Z=[{name:"colorIndicator",required:!0,label:"",align:"center",field:"colorIndicator",sortable:!0,style:"width: 15px"},{name:"caseNumber",required:!0,label:"Case #",align:"center",field:"caseNumber",sortable:!0},{name:"name",required:!0,label:"Name",align:"center",field:"name",sortable:!0},{name:"patientID",required:!0,label:"Patient ID",align:"center",field:"patientID",sortable:!0},{name:"admission",align:"center",label:"Admission",field:"admission",sortable:!0}],W={name:"RequestTable",props:["dataRows","role"],setup(){return{doctorsColumns:T,nursesColumns:Z}},data(){return{currentRoute:null}},mounted(){this.currentRoute=this.$route.params.routes},methods:{routeToEMR(e,t){this.$store.dispatch("helpers/setColorEMR",t),this.$router.push({name:"emr",params:{caseNo:`${e}`}})}}};var I=l(4260),V=l(8107),F=l(2025),M=l(2165),S=l(8186),Q=l(8870),A=l(3884),R=l(7518),$=l.n(R);const E=(0,I.Z)(W,[["render",x]]),j=E;$()(W,"components",{QTable:V.Z,QSpace:F.Z,QBtn:M.Z,QTr:S.Z,QTooltip:Q.Z,QTd:A.Z});const U=(0,i.aZ)({props:["title","content","color","textColor","count","tableRows","nav","location","role"],name:"CategoryCard",components:{RequestTable:j},data(){return{loading:null,show:!1,dataRows:[]}},mounted(){this.fetchData(this.nav)},watch:{nav(e){this.fetchData(e)}},computed:{...(0,g.Se)({encounterCases:"encounters/encounterCases"})},methods:{async fetchData(e){this.loading=!0,this.dataRows=this.encounterCases,setInterval((()=>{this.show=!this.show}),500),setTimeout((()=>{this.loading=!1}),1500)}}});var L=l(151),z=l(5589),O=l(9721),B=l(4103);const P=(0,I.Z)(U,[["render",N]]),G=P;$()(U,"components",{QCard:L.Z,QCardSection:z.Z,QBadge:O.Z,QSkeleton:B.ZP});const H=(0,i.aZ)({name:"Patients",components:{CategoryCard:G},computed:{...(0,g.Se)({patients:"patients/patients",pxType:"patients/pxType",encounterCases:"encounters/encounterCases",role:"user/role"}),type(){return this.pxType||this.$route.params.type}},data(){return{bools:{isLoading:!1},col:[{label:"CASENO",field:"caseno"}],activeTab:null,location:"EMERGENCY ROOM"}},watch:{"$route.params":{async handler(e){this.activeTab=e.routes},deep:!0},encounterCases(e){console.log(e)}},async created(){this.bools.isLoading=!0,this.bools.isLoading=!1},methods:{}});var Y=l(6122);const K=(0,I.Z)(H,[["render",m]]),J=K;$()(H,"components",{QCircularProgress:Y.Z,QTable:V.Z})},6351:(e,t,l)=>{l.d(t,{Z:()=>D});var i=l(3673);const a={class:"row q-pa-md q-pt-none q-col-gutter-md q-mt-none"},s={class:"col-lg-3 col-sm-6 col-xs-12 col-md-3"},o=(0,i.Uk)(" ACTIVE PATIENTS "),n=(0,i.Uk)(" 8 "),c={class:"col-lg-3 col-sm-6 col-xs-12 col-md-3"},r=(0,i.Uk)(" FOR DISCHARGE "),d=(0,i.Uk)(" 8 "),u={class:"col-lg-3 col-sm-6 col-xs-12 col-md-3"},p=(0,i.Uk)(" DISCHARGED "),m=(0,i.Uk)(" 8 "),g={class:"col-lg-3 col-sm-6 col-xs-12 col-md-3"},h=(0,i.Uk)(" TOTAL "),f=(0,i.Uk)(" 8 ");function w(e,t,l,w,b,y){const v=(0,i.up)("q-card-section"),C=(0,i.up)("q-card");return(0,i.wg)(),(0,i.iD)("div",a,[(0,i._)("div",s,[(0,i.Wm)(C,{square:"",class:"bg-yellow-14"},{default:(0,i.w5)((()=>[(0,i.Wm)(v,{align:"center",class:"text-h6 text-weight-bold"},{default:(0,i.w5)((()=>[o])),_:1}),(0,i.Wm)(v,{align:"center",class:"text-h5 text-weight-bold"},{default:(0,i.w5)((()=>[n])),_:1})])),_:1})]),(0,i._)("div",c,[(0,i.Wm)(C,{square:"",class:"bg-cyan text-white"},{default:(0,i.w5)((()=>[(0,i.Wm)(v,{align:"center",class:"text-h6 text-weight-bold"},{default:(0,i.w5)((()=>[r])),_:1}),(0,i.Wm)(v,{align:"center",class:"text-h5 text-weight-bold"},{default:(0,i.w5)((()=>[d])),_:1})])),_:1})]),(0,i._)("div",u,[(0,i.Wm)(C,{square:"",class:"bg-green text-white"},{default:(0,i.w5)((()=>[(0,i.Wm)(v,{align:"center",class:"text-h6 text-weight-bold"},{default:(0,i.w5)((()=>[p])),_:1}),(0,i.Wm)(v,{align:"center",class:"text-h5 text-weight-bold"},{default:(0,i.w5)((()=>[m])),_:1})])),_:1})]),(0,i._)("div",g,[(0,i.Wm)(C,{square:"",class:"bg-light-blue text-white"},{default:(0,i.w5)((()=>[(0,i.Wm)(v,{align:"center",class:"text-h6 text-weight-bold"},{default:(0,i.w5)((()=>[h])),_:1}),(0,i.Wm)(v,{align:"center",class:"text-h5 text-weight-bold"},{default:(0,i.w5)((()=>[f])),_:1})])),_:1})])])}const b=(0,i.aZ)({name:"QuickCensus"});var y=l(4260),v=l(151),C=l(5589),_=l(7518),q=l.n(_);const N=(0,y.Z)(b,[["render",w]]),D=N;q()(b,"components",{QCard:v.Z,QCardSection:C.Z})},4635:(e,t,l)=>{l.r(t),l.d(t,{default:()=>h});var i=l(3673);const a={key:0,class:"row justify-center"},s={key:1};function o(e,t,l,o,n,c){const r=(0,i.up)("q-circular-progress"),d=(0,i.up)("Fields");return(0,i.wg)(),(0,i.iD)("div",null,[e.bools.isLoading?((0,i.wg)(),(0,i.iD)("div",a,[(0,i.Wm)(r,{indeterminate:"",size:"lg",color:"primary"})])):((0,i.wg)(),(0,i.iD)("div",s,[(0,i.Wm)(d,{onSetFields:e.updateFields},null,8,["onSetFields"])]))])}var n=l(3617),c=l(7526);const r=(0,i.aZ)({name:"Edit Template",components:{Fields:c.Z},computed:{encryptedId(){return this.$route.params.id||null},clinicalNoteCode(){return this.fields.length>0?this.fields[0].clinicalNoteCode:""},...(0,n.Se)("helpers",["templateFields"])},data(){return{id:null,bools:{isLoading:!1},fields:[]}},methods:{updateFields(e){const t=e.map((e=>({...e,name:e.label,code:`${this.clinicalNoteCode}${e.label.split(" ").join("").toLowerCase()}`}))),l={id:this.id,fields:t};console.log(l),this.$store.dispatch("clinicalNotes/")}},async mounted(){this.bools.isLoading=!0;const e=await this.$store.dispatch("helpers/decrypt",this.encryptedId);this.id=e.decrypted;const t=await this.$store.dispatch("clinicalNotes/getTemplateById",e.decrypted);this.fields=t,this.fields=JSON.parse(t.format).fields,this.$store.commit("helpers/setTemplateFields",this.fields.map((e=>({type:e.type,name:e.name,code:"",label:e.name,required:e.required,requiredMessage:e.requiredMessage,options:e.options})))),this.bools.isLoading=!1}});var d=l(4260),u=l(6122),p=l(7518),m=l.n(p);const g=(0,d.Z)(r,[["render",o]]),h=g;m()(r,"components",{QCircularProgress:u.Z})},7526:(e,t,l)=>{l.d(t,{Z:()=>$});var i=l(3673),a=l(8880),s=l(2323);const o={class:"q-gutter-sm text-center"},n={key:0},c=(0,i._)("div",{class:"text-primary text-h6"},"Next: Set Options",-1),r={class:"absolute-top-right"},d={class:"row bg-blue-grey-2 q-pa-sm q-mt-sm q-gutter-md"},u={class:"col"},p={class:"col-auto"},m={key:0,class:"col"},g={key:1,class:"col-12"},h={key:2,class:"col"};function f(e,t,l,f,w,b){const y=(0,i.up)("q-btn"),v=(0,i.up)("q-card-section"),C=(0,i.up)("q-card-actions"),_=(0,i.up)("Date"),q=(0,i.up)("Text"),N=(0,i.up)("TextAutogrow"),D=(0,i.up)("Number"),k=(0,i.up)("Textarea"),x=(0,i.up)("Select"),T=(0,i.up)("ICD10"),Z=(0,i.up)("NumberRange"),W=(0,i.up)("DateRange"),I=(0,i.up)("q-input"),V=(0,i.up)("q-toggle"),F=(0,i.up)("q-card");return(0,i.wg)(),(0,i.j4)(F,{class:"column full-width"},{default:(0,i.w5)((()=>[(0,i.Wm)(v,{class:"col-auto q-mb-md"},{default:(0,i.w5)((()=>[(0,i._)("div",null,[(0,i._)("div",o,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.buttons,(t=>((0,i.wg)(),(0,i.j4)(y,{color:"green",key:t,label:t.label,onClick:(0,a.iM)((l=>e.addField(t.type)),["prevent"]),"no-wrap":"",rounded:"",icon:t.icon},null,8,["label","onClick","icon"])))),128))])])])),_:1}),(0,i.Wm)(v,{class:"q-gutter-md col",style:{overflow:"auto"}},{default:(0,i.w5)((()=>[e.hasSelected?((0,i.wg)(),(0,i.iD)("div",n,[c,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.fields,((t,l)=>((0,i.wg)(),(0,i.iD)("div",{key:t},[(0,i.Wm)(F,{class:"q-my-md bg-grey-3",flat:""},{default:(0,i.w5)((()=>[(0,i.Wm)(v,{class:"relative-position text-h6 text-weight-light text-white bg-blue-grey-5 text-uppercase"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(t.type)+" "+(0,s.zw)(t)+" ",1),(0,i._)("div",r,[(0,i.Wm)(C,{align:"right"},{default:(0,i.w5)((()=>["old"===t.status?((0,i.wg)(),(0,i.j4)(y,{key:0,label:t.active?"Deactivate":"Activate",size:"sm","icon-right":t.active?"fas fa-trash":"fas fa-check",color:t.active?"red":"green",rounded:"",unelevated:"",onClick:i=>e.toggleActivate(l,t.active)},null,8,["label","icon-right","color","onClick"])):((0,i.wg)(),(0,i.j4)(y,{key:1,label:"Remove",size:"sm","icon-right":"fas fa-times",color:"negative",rounded:"",unelevated:"",onClick:t=>e.removeField(l)},null,8,["onClick"]))])),_:2},1024)])])),_:2},1024),(0,i.Wm)(v,null,{default:(0,i.w5)((()=>["date"==t.type?((0,i.wg)(),(0,i.j4)(_,{key:0,opts:{label:t.label,requiredMessage:t.requiredMessage,required:t.required}},null,8,["opts"])):"text"==t.type?((0,i.wg)(),(0,i.j4)(q,{key:1,opts:{label:t.label,requiredMessage:t.requiredMessage,required:t.required}},null,8,["opts"])):"textAutogrow"==t.type?((0,i.wg)(),(0,i.j4)(N,{key:2,opts:{label:t.label,requiredMessage:t.requiredMessage,required:t.required}},null,8,["opts"])):"number"==t.type?((0,i.wg)(),(0,i.j4)(D,{key:3,opts:{label:t.label,requiredMessage:t.requiredMessage,required:t.required}},null,8,["opts"])):"textarea"==t.type?((0,i.wg)(),(0,i.j4)(k,{key:4,opts:{label:t.label,requiredMessage:t.requiredMessage,required:t.required}},null,8,["opts"])):"select"==t.type?((0,i.wg)(),(0,i.j4)(x,{key:5,opts:{label:t.label,requiredMessage:t.requiredMessage,required:t.required,options:t.options}},null,8,["opts"])):"icd10"==t.type?((0,i.wg)(),(0,i.j4)(T,{key:6,opts:{label:t.label,requiredMessage:t.requiredMessage,required:t.required}},null,8,["opts"])):"numberRange"==t.type?((0,i.wg)(),(0,i.j4)(Z,{key:7,opts:{label:t.label,requiredMessage:t.requiredMessage,required:t.required}},null,8,["opts"])):"dateRange"==t.type?((0,i.wg)(),(0,i.j4)(W,{key:8,opts:{label:t.label,requiredMessage:t.requiredMessage,required:t.required}},null,8,["opts"])):(0,i.kq)("",!0),(0,i._)("div",d,[(0,i._)("div",u,[(0,i.Wm)(I,{modelValue:t.label,"onUpdate:modelValue":e=>t.label=e,label:"Label","error-message":t.requiredMessage},null,8,["modelValue","onUpdate:modelValue","error-message"])]),(0,i._)("div",p,[(0,i.Wm)(V,{label:"Required",modelValue:t.required,"onUpdate:modelValue":e=>t.required=e},null,8,["modelValue","onUpdate:modelValue"])]),t.required?((0,i.wg)(),(0,i.iD)("div",m,[(0,i.Wm)(I,{label:"Required text",modelValue:t.requiredMessage,"onUpdate:modelValue":e=>t.requiredMessage=e},null,8,["modelValue","onUpdate:modelValue"])])):(0,i.kq)("",!0),"select"==t.type?((0,i.wg)(),(0,i.iD)("div",g)):(0,i.kq)("",!0),"select"==t.type?((0,i.wg)(),(0,i.iD)("div",h,[(0,i.Wm)(I,{label:"Options (seperate by comma)",modelValue:t.options,"onUpdate:modelValue":e=>t.options=e},null,8,["modelValue","onUpdate:modelValue"])])):(0,i.kq)("",!0)])])),_:2},1024)])),_:2},1024)])))),128))])):(0,i.kq)("",!0)])),_:1}),(0,i.Wm)(C,{align:"right",class:"col-auto row"},{default:(0,i.w5)((()=>[void 0===this.editTemplate?((0,i.wg)(),(0,i.j4)(y,{key:0,class:"col",color:"primary",label:"Set Fields",icon:"fas fa-save",disable:!e.hasSelected,flat:!e.hasSelected,onClick:t[0]||(t[0]=t=>e.$emit("setFields",e.fields))},null,8,["disable","flat"])):(0,i.kq)("",!0),this.editTemplate?((0,i.wg)(),(0,i.j4)(y,{key:1,class:"col",color:"primary",label:"Update Template",icon:"fas fa-save",disable:!e.hasSelected,flat:!e.hasSelected,onClick:t[1]||(t[1]=t=>e.$emit("setFields",e.fields))},null,8,["disable","flat"])):(0,i.kq)("",!0),this.clinicalNoteDialog?((0,i.wg)(),(0,i.j4)(y,{key:2,class:"col-auto",color:"negative",label:"Cancel",flat:!e.hasSelected,icon:"fas fa-times",onClick:t[2]||(t[2]=t=>e.$emit("closeDialog"))},null,8,["flat"])):(0,i.kq)("",!0)])),_:1})])),_:1})}l(6801),l(71);var w=l(3617),b=l(7913),y=l(6077),v=l(7020),C=l(8052),_=l(3329),q=l(4664),N=l(815),D=l(1524),k=l(6001);const x=(0,i.aZ)({name:"Fields",props:["clinicalNoteDialog","editTemplate"],components:{Date:b.Z,Text:y.Z,Number:v.Z,Textarea:C.Z,Select:_.Z,ICD10:q.Z,NumberRange:N.Z,DateRange:D.Z,TextAutogrow:k.Z},methods:{parseOptions(e){return e.split(",").map((e=>e.trim()))},addField(e){const t={type:e,label:"",required:!1,requiredMessage:"",options:"",active:1};this.fields.push(t)},moveItem(e,t){this.templateFields[e];const l=[...this.templateFields],i="up"==t?e-1:e+1;console.log(e,i),l.splice(i,0,l.splice(e,1)[0]),this.$store.commit("helpers/setTemplateFields",l)},toggleActivate(e,t){const l=t?0:1,i={status:l,index:e};this.$store.commit("helpers/toggleStatusField",i),this.mapFields()},removeField(e){this.fields=this.fields.filter(((t,l)=>l!=e))},selectField(e){e!=this.selectedField?this.selectedField=e:this.selectedField=""},mapFields(){this.fields=[...this.templateFields.map((e=>({...e})))]}},data(){return{selectedField:"",fields:[],buttons:[{label:"Text",type:"text",icon:"fas fa-font"},{label:"Number",type:"number",icon:"fas fa-dollar-sign"},{label:"Number Range",type:"numberRange",icon:"fas fa-coins"},{label:"Date",type:"date",icon:"fas fa-calendar"},{label:"Date Range",type:"dateRange",icon:"fas fa-calendar-plus"},{label:"Textarea",type:"textarea",icon:"fas fa-bars"},{label:"Select",type:"select",icon:"fas fa-list"},{label:"ICD 10",type:"icd10",icon:"fas fa-book-medical"}]}},computed:{hasSelected(){return this.fields.length>0},selectOptions(){return this.select.options.split(",")},...(0,w.Se)("helpers",["templateFields"])},mounted(){this.mapFields()}});var T=l(4260),Z=l(151),W=l(5589),I=l(2165),V=l(9367),F=l(4842),M=l(3017),S=l(8886),Q=l(7518),A=l.n(Q);const R=(0,T.Z)(x,[["render",f]]),$=R;A()(x,"components",{QCard:Z.Z,QCardSection:W.Z,QBtn:I.Z,QCardActions:V.Z,QInput:F.Z,QSelect:M.Z,QToggle:S.Z})},3756:(e,t,l)=>{l.r(t),l.d(t,{default:()=>T});var i=l(3673),a=l(8880);const s={class:"row"},o={class:"q-pl-md row q-gutter-md"},n={class:"column col"};function c(e,t,l,c,r,d){const u=(0,i.up)("q-select"),p=(0,i.up)("q-input"),m=(0,i.up)("q-card-section"),g=(0,i.up)("Date"),h=(0,i.up)("Text"),f=(0,i.up)("Number"),w=(0,i.up)("Textarea"),b=(0,i.up)("Select"),y=(0,i.up)("ICD10"),v=(0,i.up)("NumberRange"),C=(0,i.up)("DateRange"),_=(0,i.up)("q-btn"),q=(0,i.up)("q-card");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(q,{flat:""},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{class:"column q-gutter-md"},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{"stack-label":"",label:"Clinical Note",options:e.clinicalNotesGrouped.categories,modelValue:e.form.category,"onUpdate:modelValue":t[0]||(t[0]=t=>e.form.category=t),outlined:"","emit-value":"","map-options":""},null,8,["options","modelValue"]),(0,i.Wm)(p,{label:"Template Name","stack-label":"",outlined:"",modelValue:e.form.name,"onUpdate:modelValue":t[1]||(t[1]=t=>e.form.name=t)},null,8,["modelValue"])])),_:1}),(0,i.Wm)(m,null,{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.templateFields,((t,l)=>((0,i.wg)(),(0,i.iD)("div",{class:"q-py-sm",key:t},[(0,i._)("div",s,["date"==t.type?((0,i.wg)(),(0,i.j4)(g,{key:0,opts:t,class:"col"},null,8,["opts"])):"text"==t.type?((0,i.wg)(),(0,i.j4)(h,{key:1,opts:t,class:"col"},null,8,["opts"])):"number"==t.type?((0,i.wg)(),(0,i.j4)(f,{key:2,opts:t,class:"col"},null,8,["opts"])):"textarea"==t.type?((0,i.wg)(),(0,i.j4)(w,{key:3,opts:t,class:"col"},null,8,["opts"])):"select"==t.type?((0,i.wg)(),(0,i.j4)(b,{key:4,opts:t,class:"col"},null,8,["opts"])):"icd10"==t.type?((0,i.wg)(),(0,i.j4)(y,{key:5,opts:t,class:"col"},null,8,["opts"])):"numberRange"==t.type?((0,i.wg)(),(0,i.j4)(v,{key:6,opts:t,class:"col"},null,8,["opts"])):"dateRange"==t.type?((0,i.wg)(),(0,i.j4)(C,{key:7,opts:t,class:"col"},null,8,["opts"])):(0,i.kq)("",!0),(0,i._)("div",o,[(0,i.Wm)(_,{class:"col",icon:"fas fa-trash",round:"",color:"negative",size:"sm",flat:"",onClick:(0,a.iM)((t=>e.removeItem(l)),["prevent"])},null,8,["onClick"]),(0,i._)("div",n,[l>0?((0,i.wg)(),(0,i.j4)(_,{key:0,icon:"fas fa-arrow-up",round:"",color:"primary",size:"sm",flat:"",onClick:(0,a.iM)((t=>e.moveItem(l,"up")),["prevent"]),class:"col"},null,8,["onClick"])):(0,i.kq)("",!0),l!=e.templateFields.length-1?((0,i.wg)(),(0,i.j4)(_,{key:1,icon:"fas fa-arrow-down",round:"",color:"primary",size:"sm",flat:"",onClick:(0,a.iM)((t=>e.moveItem(l,"down")),["prevent"]),class:"col"},null,8,["onClick"])):(0,i.kq)("",!0)])])])])))),128))])),_:1})])),_:1})])}l(71);var r=l(3617),d=l(7913),u=l(6077),p=l(7020),m=l(8052),g=l(3329),h=l(4664),f=l(815),w=l(1524);const b=(0,i.aZ)({name:"NewTemplate",data(){return{form:{name:"",category:""}}},components:{Date:d.Z,Text:u.Z,Number:p.Z,Textarea:m.Z,Select:g.Z,ICD10:h.Z,NumberRange:f.Z,DateRange:w.Z},computed:{...(0,r.Se)("helpers",["templateFields"]),...(0,r.Se)("clinicalNotes",["clinicalNotes","clinicalNotesGrouped"])},async mounted(){await this.$store.dispatch("clinicalNotes/fetchClinicalNotes")},methods:{removeItem(e){const t=this.templateFields.filter(((t,l)=>l!=e));this.$store.commit("helpers/setTemplateFields",t)},moveItem(e,t){this.templateFields[e];const l=[...this.templateFields],i="up"==t?e-1:e+1;console.log(e,i),l.splice(i,0,l.splice(e,1)[0]),this.$store.commit("helpers/setTemplateFields",l)}}});var y=l(4260),v=l(151),C=l(5589),_=l(3017),q=l(4842),N=l(2165),D=l(7518),k=l.n(D);const x=(0,y.Z)(b,[["render",c]]),T=x;k()(b,"components",{QCard:v.Z,QCardSection:C.Z,QSelect:_.Z,QInput:q.Z,QBtn:N.Z})},4019:(e,t,l)=>{l.d(t,{Z:()=>d});var i=l(3673),a=l(2323);const s={class:"text-uppercase text-weight-bold text-blue-grey-5"};function o(e,t,l,o,n,c){return(0,i.wg)(),(0,i.iD)("div",s,(0,a.zw)(e.text),1)}const n=(0,i.aZ)({props:["text"]});var c=l(4260);const r=(0,c.Z)(n,[["render",o]]),d=r},8452:(e,t,l)=>{l.d(t,{Z:()=>W});var i=l(3673),a=l(2323);const s={key:0,class:"text-h4 text-weight-light"},o={class:"row q-gutter-md col"},n={class:"col-auto column"},c=(0,i._)("div",{class:"col-auto text-xs text-uppercase"},"Name:",-1),r={class:"col text-md text-weight-medium"},d={class:"row q-gutter-md col"},u={class:"col-auto column"},p=(0,i._)("div",{class:"col-auto text-xs text-uppercase"},"Gender:",-1),m={class:"col text-md text-weight-medium"},g={class:"col-auto column"},h=(0,i._)("div",{class:"col-auto text-xs text-uppercase"},"Religion:",-1),f={class:"col text-md text-weight-medium"},w={class:"col-auto column"},b=(0,i._)("div",{class:"col-auto text-xs text-uppercase"},"Nationality:",-1),y={class:"col text-md text-weight-medium"},v={class:"col-auto column"},C=(0,i._)("div",{class:"col-auto text-xs text-uppercase"},"Birth Date:",-1),_={class:"col text-md text-weight-medium"};function q(e,t,l,q,N,D){const k=(0,i.up)("q-separator");return(0,i.wg)(),(0,i.iD)("div",null,[e.header?((0,i.wg)(),(0,i.iD)("div",s,(0,a.zw)(e.header),1)):(0,i.kq)("",!0),(0,i._)("div",o,[(0,i._)("div",n,[c,(0,i._)("div",r,(0,a.zw)(e.info.lastname)+" "+(0,a.zw)(e.info.firstname)+" "+(0,a.zw)(e.info.middlename),1)])]),(0,i._)("div",d,[(0,i._)("div",u,[p,(0,i._)("div",m,(0,a.zw)(e.info.gender),1)]),(0,i._)("div",g,[h,(0,i._)("div",f,(0,a.zw)(e.info.religion),1)]),(0,i._)("div",w,[b,(0,i._)("div",y,(0,a.zw)(e.info.nationality),1)]),(0,i._)("div",v,[C,(0,i._)("div",_,(0,a.zw)(new Date(e.info.birthdate).toDateString().substring(4,15)),1)])]),e.spaced?((0,i.wg)(),(0,i.j4)(k,{key:1,spaced:"lg",color:"primary"})):(0,i.kq)("",!0)])}const N=(0,i.aZ)({name:"Basic Info",props:["info","spaced","header"]});var D=l(4260),k=l(5869),x=l(7518),T=l.n(x);const Z=(0,D.Z)(N,[["render",q]]),W=Z;T()(N,"components",{QSeparator:k.Z})},303:(e,t,l)=>{l.d(t,{Z:()=>d});var i=l(3673);function a(e,t,l,a,s,o){const n=(0,i.up)("ApexCharts");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(n,{type:e.chartOptions.chart.type,height:"350",options:e.chartOptions,series:e.series},null,8,["type","options","series"])])}var s=l(2585),o=l.n(s);const n=(0,i.aZ)({components:{ApexCharts:o()},data(){return{series:[{name:"High - 2013",data:[28,29,33,36,32,32,33]},{name:"Low - 2013",data:[12,11,14,18,17,13,13]}],chartOptions:{series:{data:[44,55,41,17,15,33,44]},chart:{type:"line",height:350,stacked:!0,toolbar:{show:!0},zoom:{enabled:!0}},dataLabels:{enabled:!0},responsive:[{breakpoint:480,options:{legend:{position:"bottom",offsetX:-10,offsetY:0}}}],legend:{position:"right",offsetY:40},fill:{opacity:1},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul"],title:{text:"Month"}},yaxis:{title:{text:"Temperature"},min:5,max:100}}}}});var c=l(4260);const r=(0,c.Z)(n,[["render",a]]),d=r},250:(e,t,l)=>{l.d(t,{Z:()=>I});var i=l(3673),a=l(2323);const s={key:0,class:"row justify-center"},o={key:1},n={class:"q-mb-md"},c={class:"row q-gutter-md col"},r={class:"col-auto column"},d=(0,i._)("div",{class:"col-auto text-xs text-uppercase"},"Last Encounter:",-1),u={class:"col text-md text-weight-medium"},p={class:"col-auto column"},m=(0,i._)("div",{class:"col-auto text-xs text-uppercase"},"Status:",-1),g={class:"text-uppercase text-weight-bold text-blue-grey-5"},h=(0,i.Uk)(" Patient Details: "),f={class:"text-weight-medium text-sm text-primary"},w={class:"column q-ml-md"},b={class:"q-mb-md"},y=(0,i._)("div",{class:"text-uppercase text-weight-bold text-blue-grey-5"}," Allergies: ",-1),v={class:"row q-gutter-md"};function C(e,t,l,C,_,q){const N=(0,i.up)("q-circular-progress"),D=(0,i.up)("q-icon"),k=(0,i.up)("q-separator"),x=(0,i.up)("BasicInfo");return(0,i.wg)(),(0,i.iD)("div",null,[e.bools.isLoading?((0,i.wg)(),(0,i.iD)("div",s,[(0,i.Wm)(N,{indeterminate:"",size:"lg"})])):((0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",n,[(0,i._)("div",c,[(0,i._)("div",r,[d,(0,i._)("div",u,(0,a.zw)(new Date(e.info.lastEncounter).toDateString().substring(4,15)),1)]),(0,i._)("div",p,[m,(0,i._)("div",{class:(0,a.C_)(["col text-md text-weight-medium text-uppercase",e.info.isActive?"text-green":"text-red"])},[(0,i.Wm)(D,{name:"radio_button_checked",color:e.info.isActive?"green":"red"},null,8,["color"]),(0,i.Uk)(" "+(0,a.zw)(e.info.isActive?"Active":"Inactive"),1)],2)])]),(0,i.Wm)(k,{spaced:"lg",color:"primary"}),(0,i._)("div",g,[h,(0,i._)("span",f,(0,a.zw)(e.info.patientno),1)]),(0,i._)("div",w,[(0,i.Wm)(x,{info:e.info},null,8,["info"])])]),(0,i.Wm)(k,{spaced:"lg",color:"primary"}),(0,i._)("div",b,[y,(0,i._)("div",v,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.allergies,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"col-auto",key:e},[(0,i.Wm)(D,{name:"radio_button_checked",color:"green"}),(0,i.Uk)(" "+(0,a.zw)(e),1)])))),128))])])]))])}var _=l(8452);const q=(0,i.aZ)({name:"Patient Info",props:["patientno"],components:{BasicInfo:_.Z},data(){return{info:{},bools:{isLoading:!1},allergies:["Egg","Peanuts","Milk"]}},async mounted(){this.bools.isLoading=!0,this.info=await this.$store.dispatch("patients/getBasicInfo",this.patientno),this.bools.isLoading=!1}});var N=l(4260),D=l(6122),k=l(4554),x=l(5869),T=l(7518),Z=l.n(T);const W=(0,N.Z)(q,[["render",C]]),I=W;Z()(q,"components",{QCircularProgress:D.Z,QIcon:k.Z,QSeparator:x.Z})},7198:(e,t,l)=>{l.d(t,{Z:()=>Y});var i=l(3673),a=l(2323);const s={key:0,class:"row justify-center"},o={key:1},n={class:"row q-gutter-sm"},c={class:"col"},r={class:"col"},d={class:"q-mt-lg"},u={class:"text-right"};function p(e,t,l,p,m,g){const h=(0,i.up)("q-circular-progress"),f=(0,i.up)("ImagingResult"),w=(0,i.up)("LaboratoryResult"),b=(0,i.up)("Heading"),y=(0,i.up)("q-btn"),v=(0,i.up)("q-item-section"),C=(0,i.up)("q-item-label"),_=(0,i.up)("q-item"),q=(0,i.up)("q-list");return(0,i.wg)(),(0,i.iD)("div",null,[e.bools.isLoading?((0,i.wg)(),(0,i.iD)("div",s,[(0,i.Wm)(h,{indeterminate:"",size:"lg"})])):((0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",n,[(0,i._)("div",c,[(0,i.Wm)(f,{patientno:e.patientno},null,8,["patientno"])]),(0,i._)("div",r,[(0,i.Wm)(w,{patientno:e.patientno},null,8,["patientno"])])]),(0,i._)("div",d,[(0,i.Wm)(b,{text:"Consultation History"}),(0,i._)("div",null,[(0,i.Wm)(q,null,{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.history,((e,t)=>((0,i.wg)(),(0,i.j4)(_,{key:e,class:(0,a.C_)([t>=5?"hidden":"","row"])},{default:(0,i.w5)((()=>[(0,i.Wm)(v,{class:"text-center col-3"},{default:(0,i.w5)((()=>[(0,i._)("div",{class:(0,a.C_)(["text-weight-medium",0==t?"text-primary":"text-info"])},(0,a.zw)(new Date(e.date).toDateString()),3),(0,i.Wm)(y,{rounded:"",size:"sm",label:"View",color:"primary",flat:""})])),_:2},1024),(0,i.Wm)(v,{class:"col"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,a.zw)(e.physician)+" ",1),(0,i.Wm)(C,{caption:""},{default:(0,i.w5)((()=>[(0,i.Uk)((0,a.zw)(e.specialty),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["class"])))),128))])),_:1})]),(0,i._)("div",u,[(0,i.Wm)(y,{to:`/patient-record/laboratories/${e.$route.params.patientno}`,label:"View All",color:"primary",size:"sm",outline:"",rounded:""},null,8,["to"])])])]))])}l(246);const m={class:"row q-gutter-sm"},g={class:"col-auto text-weight-medium"},h={class:"col-auto"},f={key:0,class:"row justify-center"},w={key:1,class:"row"},b={key:2,class:"bg-red-2 q-pa-md"},y={key:3,class:"text-right"};function v(e,t,l,s,o,n){const c=(0,i.up)("q-card-section"),r=(0,i.up)("q-card"),d=(0,i.up)("q-dialog"),u=(0,i.up)("Heading"),p=(0,i.up)("q-circular-progress"),v=(0,i.up)("q-btn");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(d,{modelValue:e.bools.isDialogOpen,"onUpdate:modelValue":t[0]||(t[0]=t=>e.bools.isDialogOpen=t)},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{flat:"",bordered:""},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{class:"bg-blue-2"},{default:(0,i.w5)((()=>[(0,i._)("div",m,[(0,i._)("div",g,(0,a.zw)(e.activeResult.description),1),(0,i._)("div",h,(0,a.zw)(new Date(e.activeResult.resultDate).toDateString()),1)])])),_:1}),(0,i.Wm)(c,{class:"bg-blue-grey-1",style:{"white-space":"pre-wrap"}},{default:(0,i.w5)((()=>[(0,i.Uk)((0,a.zw)(e.activeResult.result),1)])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(u,{text:"Imaging Results"}),e.bools.isLoading?((0,i.wg)(),(0,i.iD)("div",f,[(0,i.Wm)(p,{indeterminate:"",size:"lg"})])):((0,i.wg)(),(0,i.iD)("div",w,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.results,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"col-auto",key:t},[(0,i.Wm)(v,{label:new Date(t.resultDate).toDateString().substring(4,15),flat:"",rounded:"",icon:"fas fa-eye",color:"primary",onClick:l=>e.showResult(t)},null,8,["label","onClick"])])))),128))])),0!=e.results.length||e.bools.isLoading?((0,i.wg)(),(0,i.iD)("div",y,[(0,i.Wm)(v,{to:`/patient-record/imaging/${e.$route.params.patientno}`,label:"View All",color:"primary",size:"sm",outline:"",rounded:""},null,8,["to"])])):((0,i.wg)(),(0,i.iD)("div",b," No result Available "))])}var C=l(4019);const _=(0,i.aZ)({name:"ImagingResults",components:{Heading:C.Z},props:["patientno"],data(){return{bools:{isLoading:!1},results:[],activeResult:{}}},methods:{showResult(e){this.activeResult=e,this.bools.isDialogOpen=!0}},async mounted(){this.bools.isLoading=!0,this.results=await this.$store.dispatch("patients/imagingResults",{patientno:this.patientno,fetchAll:!1}),console.log(this.results),this.bools.isLoading=!1}});var q=l(4260),N=l(6778),D=l(151),k=l(5589),x=l(2165),T=l(8870),Z=l(7704),W=l(6122),I=l(7518),V=l.n(I);const F=(0,q.Z)(_,[["render",v]]),M=F;V()(_,"components",{QDialog:N.Z,QCard:D.Z,QCardSection:k.Z,QBtn:x.Z,QTooltip:T.Z,QScrollArea:Z.Z,QCircularProgress:W.Z});var S=l(8880);const Q={key:0,class:"row justify-center"},A={key:1,class:"row"},R={key:2,class:"bg-red-2 q-pa-md"},$={key:3,class:"text-right"};function E(e,t,l,a,s,o){const n=(0,i.up)("Heading"),c=(0,i.up)("q-circular-progress"),r=(0,i.up)("q-btn");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(n,{text:"Laboratory Results"}),e.bools.isLoading?((0,i.wg)(),(0,i.iD)("div",Q,[(0,i.Wm)(c,{indeterminate:"",size:"lg"})])):((0,i.wg)(),(0,i.iD)("div",A,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.results,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"col-auto",key:t},[(0,i.Wm)(r,{label:new Date(t.resultDate).toDateString().substring(4,15),flat:"",rounded:"",icon:"fas fa-eye",color:"primary",onClick:(0,S.iM)((l=>e.showPdfResult(t.resultUrl)),["prevent"])},null,8,["label","onClick"])])))),128))])),0!=e.results.length||e.bools.isLoading?((0,i.wg)(),(0,i.iD)("div",$,[(0,i.Wm)(r,{to:`/patient-record/laboratories/${e.$route.params.patientno}`,label:"View All",color:"primary",size:"sm",outline:"",rounded:""},null,8,["to"])])):((0,i.wg)(),(0,i.iD)("div",R," No result Available "))])}const j=(0,i.aZ)({components:{Heading:C.Z},name:"LaboratoryResults",props:["patientno"],data(){return{bools:{isLoading:!1},results:[]}},methods:{async showPdfResult(e){const t=await this.$store.dispatch("helpers/getQnapAuth"),l=t.sid||"xxx",i=e.split("\\"),a=`https://qdata.uerm.edu.ph/cgi-bin/filemanager/utilRequest.cgi?sid=${l}&func=get_viewer&source_path=/LIS/${i[5]}&source_file=${i[6]}`;window.open(a)}},async mounted(){this.bools.isLoading=!0,this.results=await this.$store.dispatch("patients/laboratoryResults",{patientno:this.patientno,fetchAll:!1}),this.bools.isLoading=!1}}),U=(0,q.Z)(j,[["render",E]]),L=U;V()(j,"components",{QCircularProgress:W.Z,QBtn:x.Z});const z=(0,i.aZ)({props:["patientno"],components:{ImagingResult:M,LaboratoryResult:L,Heading:C.Z},data(){return{pno:"",bools:{isLoading:!1},history:[],imaging:[],laboratories:["2022-02-08","2022-01-15","2021-08-25","2021-05-03","2021-01-01"]}},async mounted(){this.bools.isLoading=!0,this.history=await this.$store.dispatch("patients/history",this.patientno),this.bools.isLoading=!1}});var O=l(7011),B=l(3414),P=l(2035),G=l(2350);const H=(0,q.Z)(z,[["render",p]]),Y=H;V()(z,"components",{QCircularProgress:W.Z,QList:O.Z,QItem:B.Z,QItemSection:P.Z,QBtn:x.Z,QItemLabel:G.Z})},6322:(e,t,l)=>{l.r(t),l.d(t,{default:()=>Vt});var i=l(3673);const a={class:"q-pa-md"},s={class:"q-mb-md row items-center justify-between"},o=(0,i._)("div",{class:"text-center text-weight-light text-h4"}," CLINICAL NOTE CATEGORIES ",-1),n={class:"text-center text-weight-light text-h4"},c={class:"q-pa-md"},r={key:0,class:"q-pa-md"},d={key:1,class:"q-pa-md"},u={class:"row q-col-gutter-md"},p={key:2,class:"row items-center justify-center",style:{height:"500px"}},m=(0,i._)("div",{class:"text-h5"},"NO SELECTED CATEGORY",-1),g=[m],h={class:"fixed-bottom-left row justify-center q-pb-md q-pl-md"},f={class:"fixed-bottom-right row justify-center q-pb-md q-pr-md"};function w(e,t,l,m,w,b){const y=(0,i.up)("q-btn"),v=(0,i.up)("q-icon"),C=(0,i.up)("q-input"),_=(0,i.up)("q-tree"),q=(0,i.up)("EditCategoryDetails"),N=(0,i.up)("EditClinicalNote"),D=(0,i.up)("ClinicalNoteTemplateDetails"),k=(0,i.up)("q-splitter"),x=(0,i.up)("AddClinicalNoteCategoryModal"),T=(0,i.up)("q-dialog"),Z=(0,i.up)("AddClinicalNoteModal"),W=(0,i.up)("q-fab-action"),I=(0,i.up)("q-fab"),V=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(V,null,{default:(0,i.w5)((()=>[(0,i._)("div",a,[(0,i._)("div",s,[o,(0,i._)("div",n,[(0,i.Wm)(y,{flat:"",onClick:t[0]||(t[0]=e=>this.$router.go(-1)),icon:"fa fa-arrow-left"})])]),(0,i.Wm)(k,{modelValue:e.splitterModel,"onUpdate:modelValue":t[4]||(t[4]=t=>e.splitterModel=t)},{before:(0,i.w5)((()=>[(0,i._)("div",c,[(0,i.Wm)(C,{ref:"filterRef",filled:"",modelValue:e.filter,"onUpdate:modelValue":t[1]||(t[1]=t=>e.filter=t),label:"Filter Clinical Category Notes"},{append:(0,i.w5)((()=>[""!==e.filter?((0,i.wg)(),(0,i.j4)(v,{key:0,name:"clear",class:"cursor-pointer",onClick:e.resetFilter},null,8,["onClick"])):(0,i.kq)("",!0)])),_:1},8,["modelValue"]),this.clinicalCategoryNotesTree.length>0?((0,i.wg)(),(0,i.j4)(_,{key:0,nodes:this.clinicalCategoryNotesTree,"default-expand-all":"","node-key":"code","label-key":"name","selected-color":"primary",selected:e.selectedCategory,"onUpdate:selected":t[2]||(t[2]=t=>e.selectedCategory=t),filter:e.filter},null,8,["nodes","selected","filter"])):(0,i.kq)("",!0)])])),after:(0,i.w5)((()=>[this.clinicalCategoryDetails.length>0?((0,i.wg)(),(0,i.iD)("div",r,[(0,i.Wm)(q,{clinicalCategoryDetails:this.clinicalCategoryDetails,inactiveInput:this.bools.inactiveInput,disableActions:this.bools.disableActions,ref:"categoryDetails"},null,8,["clinicalCategoryDetails","inactiveInput","disableActions"])])):this.clinicalNoteInfo.length>0?((0,i.wg)(),(0,i.iD)("div",d,[(0,i._)("div",u,[(0,i.Wm)(N,{class:"col-12",clinicalNotes:this.clinicalNoteInfo,disableInput:this.bools.disableInput,disableActions:this.bools.disableActions,ref:"clinicalNotes"},null,8,["clinicalNotes","disableInput","disableActions"]),(0,i.Wm)(D,{class:"col-12",clinicalNotes:this.clinicalNoteInfo,selectedVal:this.selectedCategory,selectedClinicalNote:this.selectedCategory,selectedClinicalNoteName:this.selectedClinicalNoteName,onRefreshNotes:t[3]||(t[3]=t=>e.fetchClinicalNotes())},null,8,["clinicalNotes","selectedVal","selectedClinicalNote","selectedClinicalNoteName"])])])):((0,i.wg)(),(0,i.iD)("div",p,g))])),_:1},8,["modelValue"]),(0,i.Wm)(T,{maximized:"",modelValue:e.addCategoryModal,"onUpdate:modelValue":t[6]||(t[6]=t=>e.addCategoryModal=t)},{default:(0,i.w5)((()=>[(0,i.Wm)(x,{onCloseDialog:t[5]||(t[5]=t=>e.addCategoryModal=!1)})])),_:1},8,["modelValue"]),(0,i.Wm)(T,{maximized:"",modelValue:e.addClinicalNoteModal,"onUpdate:modelValue":t[8]||(t[8]=t=>e.addClinicalNoteModal=t)},{default:(0,i.w5)((()=>[(0,i.Wm)(Z,{clinicalNoteCategory:this.clinicalCategoryCode,onCloseDialog:t[7]||(t[7]=t=>e.addClinicalNoteModal=!1)},null,8,["clinicalNoteCategory"])])),_:1},8,["modelValue"]),(0,i._)("div",h,[(0,i.Wm)(I,{color:"amber","text-color":"black",icon:"fas fa-plus",direction:"right"},{default:(0,i.w5)((()=>[(0,i.Wm)(W,{unelevated:"",square:"",label:"NEW CLINICAL NOTE CATEGORY",icon:"fas fa-plus-circle",color:"blue-3",class:"text-grey-9 bg-white",outline:"",disable:this.bools.disableActions,onClick:e.openClinicalNoteCategoryDialog},null,8,["disable","onClick"])])),_:1})]),(0,i._)("div",f,[this.bools.clinicalCategoryEditMode?((0,i.wg)(),(0,i.j4)(I,{key:0,color:"amber","text-color":"black",icon:"fas fa-plus",direction:"left"},{default:(0,i.w5)((()=>[(0,i.Wm)(W,{unelevated:"",square:"",label:"ADD NEW CLINICAL NOTES",icon:"fas fa-plus-circle",color:"blue-3",class:"text-grey-9 bg-white",outline:"",disable:this.bools.disableInput,onClick:e.openClinicalNoteDialog},null,8,["disable","onClick"]),(0,i.Wm)(W,{unelevated:"",square:"",label:"UPDATE",icon:"fas fa-plus-circle",color:"blue-3",class:"text-green bg-white",outline:"",disable:this.bools.disableInput,onClick:t[9]||(t[9]=t=>e.triggerUpdate("update"))},null,8,["disable"]),this.bools.disableInput?((0,i.wg)(),(0,i.j4)(W,{key:1,unelevated:"",square:"",label:"ACTIVATE",icon:"fas fa-check",color:"success",class:"text-white bg-green",outline:"",onClick:t[11]||(t[11]=t=>e.triggerUpdate("activate"))})):((0,i.wg)(),(0,i.j4)(W,{key:0,unelevated:"",square:"",label:"DEACTIVATE",icon:"fas fa-trash",color:"negative",class:"text-white bg-negative",outline:"",onClick:t[10]||(t[10]=t=>e.triggerUpdate("deactivate"))}))])),_:1})):(0,i.kq)("",!0)])])])),_:1})}l(246);var b=l(3617);const y=(0,i.Uk)("ADD CLINICAL NOTE CATEGORY"),v={class:"col-12"},C={class:"col-12"},_={class:"col-12"},q={class:"col-12"};function N(e,t,l,a,s,o){const n=(0,i.up)("q-card-section"),c=(0,i.up)("q-input"),r=(0,i.up)("q-select"),d=(0,i.up)("q-btn"),u=(0,i.up)("q-btn-group"),p=(0,i.up)("q-form"),m=(0,i.up)("q-card");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(m,{class:"full-height full-width"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{onSubmit:e.saveClinicalNoteCategory,ref:"formData"},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{class:"text-h5 text-weight-light bg-dark text-white"},{default:(0,i.w5)((()=>[y])),_:1}),(0,i.Wm)(n,null,{default:(0,i.w5)((()=>[(0,i._)("div",v,[(0,i.Wm)(c,{label:"Name",modelValue:e.addDetails.name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.addDetails.name=t),outlined:"",flat:"",color:"primary",rules:[e=>e&&e.length>0||"Please enter Name"]},null,8,["modelValue","rules"])]),(0,i._)("div",C,[(0,i.Wm)(c,{label:"Description",modelValue:e.addDetails.description,"onUpdate:modelValue":t[1]||(t[1]=t=>e.addDetails.description=t),outlined:"",type:"textarea",flat:"",color:"primary",hint:""},null,8,["modelValue"])]),(0,i._)("div",_,[(0,i.Wm)(r,{label:"Section Type",outlined:"","use-input":"",onFilter:e.filterFn,modelValue:e.addDetails.sectionType,"onUpdate:modelValue":t[2]||(t[2]=t=>e.addDetails.sectionType=t),options:e.sectionTypes,hint:""},null,8,["onFilter","modelValue","options"])]),(0,i._)("div",q,[(0,i.Wm)(r,{outlined:"","use-input":"",modelValue:e.addDetails.categoricalType,"onUpdate:modelValue":t[3]||(t[3]=t=>e.addDetails.categoricalType=t),options:e.categoricalTypes,label:"Categorical Type","emit-value":"","map-options":"",hint:""},null,8,["modelValue","options"])])])),_:1}),(0,i.Wm)(n,{class:"fixed-bottom text-h5 text-weight-light bg-dark text-white"},{default:(0,i.w5)((()=>[(0,i.Wm)(u,null,{default:(0,i.w5)((()=>[(0,i.Wm)(d,{type:"submit",label:"Save Clinical Note",color:"primary",icon:"fa fa-save"}),(0,i.Wm)(d,{label:"Close",color:"negative",onClick:e.closeDialog,icon:"fa fa-times"},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["onSubmit"])])),_:1})])}l(5363),l(7768);const D=(0,i.aZ)({name:"AddClinicalNOteCategoryModal",props:["clinicalNoteCategory"],data(){return{tab:"info",addDetails:[{name:"",description:"",sectionType:"",createdBy:"",categoricalType:""}],sectionTypes:["EHR","ENC"],categoricalTypes:[{label:"General Medical Notes",value:0},{label:"Visit Encounter Notes",value:1},{label:"Admission Encounter Notes",value:2}]}},methods:{async saveClinicalNoteCategory(){this.$refs.formData.validate().then((async e=>{if(!e)return!1;var t={code:this.addDetails.name.replaceAll(" ","").toLowerCase(),name:this.addDetails.name,description:this.addDetails.description,section_type:this.addDetails.sectionType,categorical_type:this.addDetails.categoricalType,created_by:"7679",panel:0,role_id:1},l=await this.$store.dispatch("clinicalNotes/saveClinicalNoteCategories",t);console.log(t,"final"),l.success?(this.showNotify("success",`Successfully saved Clinical ${t.name}`),this.$emit("closeAddDialog",!1)):(this.formErrorMessage=l,this.showNotify("error",l)),this.closeDialog()}))},showNotify(e,t){let l="";l="success"===e?"blue-10":"negative",this.$q.notify({progress:!0,message:t,color:l})},closeDialog(){this.$emit("closeDialog",!0)},filterFn(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.sectionTypes.value=this.sectionTypes.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.sectionTypes.value=this.sectionTypes})}}});var k=l(4260),x=l(151),T=l(5269),Z=l(5589),W=l(4842),I=l(3017),V=l(6375),F=l(2165),M=l(7518),S=l.n(M);const Q=(0,k.Z)(D,[["render",N]]),A=Q;S()(D,"components",{QCard:x.Z,QForm:T.Z,QCardSection:Z.Z,QInput:W.Z,QSelect:I.Z,QBtnGroup:V.Z,QBtn:F.Z});var R=l(2323);const $={class:"row justify-between items-center"},E={class:"text-h5 text-weight-light"},j={class:"col-12"},U={class:"col-12"},L={class:"col-12"},z={class:"col-12"};function O(e,t,l,a,s,o){const n=(0,i.up)("q-card-section"),c=(0,i.up)("q-input"),r=(0,i.up)("q-select"),d=(0,i.up)("q-form"),u=(0,i.up)("q-card");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(u,{class:"full-height full-width"},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{onSubmit:e.saveClinicalNoteCategory,ref:"formData"},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{class:"text-weight-light bg-dark text-uppercase text-white"},{default:(0,i.w5)((()=>[(0,i._)("div",$,[(0,i._)("div",E," EDIT CLINICAL NOTE CATEGORY - "+(0,R.zw)(e.editDetails.name),1),(0,i._)("div",null,[(0,i._)("div",null," CREATED: "+(0,R.zw)(this.clinicalCategoryDetails[0].datetime_created),1),(0,i._)("div",null," UPDATED: "+(0,R.zw)(this.clinicalCategoryDetails[0].datetime_updated),1)])])])),_:1}),(0,i.Wm)(n,null,{default:(0,i.w5)((()=>[(0,i._)("div",j,[(0,i.Wm)(c,{label:"Name",modelValue:e.editDetails.name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.editDetails.name=t),outlined:"",flat:"",color:"primary",disable:this.inactiveInput||this.disableActions,rules:[e=>e&&e.length>0||"Please enter Name"]},null,8,["modelValue","disable","rules"])]),(0,i._)("div",U,[(0,i.Wm)(c,{label:"Description",modelValue:e.editDetails.description,"onUpdate:modelValue":t[1]||(t[1]=t=>e.editDetails.description=t),outlined:"",type:"textarea",flat:"",color:"primary",hint:"",disable:this.inactiveInput||this.disableActions},null,8,["modelValue","disable"])]),(0,i._)("div",L,[(0,i.Wm)(r,{label:"Section Type",outlined:"","use-input":"",onFilter:e.filterFn,modelValue:e.editDetails.sectionType,"onUpdate:modelValue":t[2]||(t[2]=t=>e.editDetails.sectionType=t),options:e.sectionTypes,disable:this.inactiveInput||this.disableActions,hint:""},null,8,["onFilter","modelValue","options","disable"])]),(0,i._)("div",z,[(0,i.Wm)(r,{outlined:"","use-input":"",modelValue:e.editDetails.categoricalType,"onUpdate:modelValue":t[3]||(t[3]=t=>e.editDetails.categoricalType=t),options:e.categoricalTypes,label:"Categorical Type","emit-value":"","map-options":"",hint:"",disable:this.inactiveInput||this.disableActions},null,8,["modelValue","options","disable"])])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])}const B=(0,i.aZ)({name:"EditCategoryDetails",props:["clinicalCategoryDetails","inactiveInput","disableActions"],data(){return{tab:"info",editDetails:{id:"",name:"",description:"",sectionType:"",updatedBy:"",active:"",categoricalType:"",inactive_by:""},sectionTypes:["EHR","ENC"],categoricalTypes:[{label:"General Medical Notes",value:0},{label:"Visit Encounter Notes",value:1},{label:"Admission Encounter Notes",value:2}]}},watch:{clinicalCategoryDetails(e){this.formatClinicalCategory()}},created(){this.formatClinicalCategory()},methods:{async formatClinicalCategory(){console.log(this.clinicalCategoryDetails,"teststes"),this.editDetails.id=this.clinicalCategoryDetails[0].id,this.editDetails.name=this.clinicalCategoryDetails[0].name,this.editDetails.description=this.clinicalCategoryDetails[0].description,this.editDetails.sectionType=this.clinicalCategoryDetails[0].section_type,"0"===this.clinicalCategoryDetails[0].categorical_type?this.editDetails.categoricalType="General Medical Notes":"1"===this.clinicalCategoryDetails[0].categorical_type?this.editDetails.categoricalType="Visit Encounter Notes":this.editDetails.categoricalType="Admission Encounter Notes",this.editDetails.active=this.clinicalCategoryDetails[0].active},async saveClinicalNoteCategory(){this.$refs.formData.validate().then((async e=>{if(!e)return!1;var t={name:this.editDetails.name,description:this.editDetails.description,section_type:this.editDetails.sectionType,categorical_type:this.editDetails.categoricalType,updated_by:"7679"};console.log(t,"dsklfdsklfdskljfdsjk");var l=await this.$store.dispatch("clinicalNotes/saveClinicalNoteCategories",t);console.log(l,"teststs"),l.length>0?(this.showNotify("success",`Successfully saved Clinical ${t.name}`),this.$emit("closeAddDialog",!1)):(this.formErrorMessage=l,this.showNotify("error",l)),this.closeDialog()}))},showNotify(e,t){let l="";l="success"===e?"blue-10":"negative",this.$q.notify({progress:!0,message:t,color:l})},closeDialog(){this.$emit("closeDialog",!0)},filterFn(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.sectionTypes.value=this.sectionTypes.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.sectionTypes.value=this.sectionTypes})}}}),P=(0,k.Z)(B,[["render",O]]),G=P;S()(B,"components",{QCard:x.Z,QForm:T.Z,QCardSection:Z.Z,QInput:W.Z,QSelect:I.Z});const H={class:"row justify-between items-center"},Y={class:"text-h5 text-weight-light"},K={class:"col-12"},J={class:"col-12"};function X(e,t,l,a,s,o){const n=(0,i.up)("q-card-section"),c=(0,i.up)("q-input"),r=(0,i.up)("q-form"),d=(0,i.up)("q-card");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(d,{class:"full-height full-width"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{onSubmit:e.saveClinicalNoteCategory,ref:"formData"},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{class:"text-weight-light bg-dark text-uppercase text-white"},{default:(0,i.w5)((()=>[(0,i._)("div",H,[(0,i._)("div",Y," EDIT CLINICAL NOTE - "+(0,R.zw)(e.editDetails.name),1),(0,i._)("div",null,[(0,i._)("div",null," CREATED: "+(0,R.zw)(this.clinicalNotes[0].datetime_created),1),(0,i._)("div",null," UPDATED: "+(0,R.zw)(this.clinicalNotes[0].datetime_updated),1)])])])),_:1}),(0,i.Wm)(n,null,{default:(0,i.w5)((()=>[(0,i._)("div",K,[(0,i.Wm)(c,{label:"Name",modelValue:e.editDetails.name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.editDetails.name=t),outlined:"",flat:"",color:"primary",disable:this.disableInput||this.disableActions,rules:[e=>e&&e.length>0||"Please enter Name"]},null,8,["modelValue","disable","rules"])]),(0,i._)("div",J,[(0,i.Wm)(c,{label:"Description",modelValue:e.editDetails.description,"onUpdate:modelValue":t[1]||(t[1]=t=>e.editDetails.description=t),outlined:"",type:"textarea",flat:"",color:"primary",hint:"",disable:this.disableInput||this.disableActions},null,8,["modelValue","disable"])])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])}const ee=(0,i.aZ)({name:"EditClinicalNoteDetails",props:["clinicalNotes","disableInput","disableActions"],data(){return{tab:"info",editDetails:{id:"",name:"",description:"",sectionType:"",updatedBy:"",active:"",inactive_by:"",clinicalCategoryCode:""},sectionTypes:["EHR","ENC"]}},watch:{clinicalNotes(e){console.log(e,"val"),this.formatData()}},created(){console.log(this.clinicalNotes),this.formatData()},methods:{async formatData(){this.editDetails.id=this.clinicalNotes[0].id,this.editDetails.name=this.clinicalNotes[0].name,this.editDetails.description=this.clinicalNotes[0].description,this.editDetails.active=this.clinicalNotes[0].active,this.editDetails.clinicalCategoryCode=this.clinicalNotes[0].clinical_category_code},async saveClinicalNoteCategory(){this.$refs.formData.validate().then((async e=>{if(!e)return!1;var t={name:this.editDetails.name,description:this.editDetails.description,section_type:this.editDetails.sectionType,updated_by:"7679"},l=await this.$store.dispatch("clinicalNotes/saveClinicalNoteCategories",t);l.success?(this.showNotify("success",`Successfully saved Clinical ${t.name}`),this.$emit("closeAddDialog",!1)):(this.formErrorMessage=l,this.showNotify("error",l)),this.closeDialog()}))},showNotify(e,t){let l="";l="success"===e?"blue-10":"negative",this.$q.notify({progress:!0,message:t,color:l})},closeDialog(){this.$emit("closeDialog",!0)},filterFn(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.sectionTypes.value=this.sectionTypes.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.sectionTypes.value=this.sectionTypes})}}}),te=(0,k.Z)(ee,[["render",X]]),le=te;S()(ee,"components",{QCard:x.Z,QForm:T.Z,QCardSection:Z.Z,QInput:W.Z});const ie=(0,i.Uk)("ADD CLINICAL NOTES"),ae={class:"col-12"},se={class:"col-12"};function oe(e,t,l,a,s,o){const n=(0,i.up)("q-card-section"),c=(0,i.up)("q-btn"),r=(0,i.up)("q-input"),d=(0,i.up)("q-card"),u=(0,i.up)("q-scroll-area"),p=(0,i.up)("q-btn-group"),m=(0,i.up)("q-form");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(d,{class:"full-height full-width"},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{onSubmit:e.saveClinicalNote,ref:"clinicalNote"},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{class:"text-h5 text-weight-light bg-dark text-white"},{default:(0,i.w5)((()=>[ie])),_:1}),(0,i.Wm)(n,null,{default:(0,i.w5)((()=>[(0,i.Wm)(u,{visible:"",style:{height:"800px"}},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.clinicalNoteInfo,((t,l)=>((0,i.wg)(),(0,i.iD)("div",{class:"row q-pa-md",key:l},[(0,i.Wm)(d,{class:"col-12 q-pa-md"},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{align:"right"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{round:"",color:"negative",class:"absolute",style:{top:"0",transform:"translateY(-60%)"},icon:"fa fa-times",onClick:t=>e.removeClinicalNote(l)},null,8,["onClick"])])),_:2},1024),(0,i._)("div",ae,[(0,i.Wm)(r,{label:"Name",modelValue:t.name,"onUpdate:modelValue":e=>t.name=e,outlined:"",flat:"",color:"primary",rules:[e=>e&&e.length>0||"Please enter Name"]},null,8,["modelValue","onUpdate:modelValue","rules"])]),(0,i._)("div",se,[(0,i.Wm)(r,{type:"textarea",label:"Description",outlined:"",flat:"",color:"primary",modelValue:t.description,"onUpdate:modelValue":e=>t.description=e},null,8,["modelValue","onUpdate:modelValue"])])])),_:2},1024)])))),128))])),_:1})])),_:1}),(0,i.Wm)(n,{class:"fixed-bottom text-h5 text-weight-light bg-dark text-white"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[(0,i.Wm)(c,{label:"Add Clinical Note",onClick:e.addClinicalNote,color:"green",icon:"fa fa-plus"},null,8,["onClick"]),(0,i.Wm)(c,{type:"submit",label:"Save Clinical Note",color:"primary",icon:"fa fa-save"}),(0,i.Wm)(c,{label:"Close",color:"negative",onClick:e.closeDialog,icon:"fa fa-times"},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["onSubmit"])])),_:1})])}l(71);const ne=(0,i.aZ)({name:"AddClinicalNoteModal",props:["clinicalNoteCategory"],data(){return{tab:"info",clinicalNoteInfo:[{name:"",description:"",clinicalCategory:""}]}},computed:{...(0,b.Se)({clinicalCategoryList:"clinicalNotes/clinicalCategoryList"})},created(){this.clinicalNoteInfo[0].clinicalCategory=this.clinicalNoteCategory},methods:{async saveClinicalNote(){this.$refs.clinicalNote.validate().then((async e=>{if(!e)return!1;for(var t of this.clinicalNoteInfo){var l={code:t.name.replaceAll(" ","").toLowerCase(),name:t.name,description:t.description,categoryCode:t.clinicalCategory};console.log(l);var i=await this.$store.dispatch("clinicalNotes/saveClinicalNotes",l)}i.success?(this.showNotify("success","Successfully saved Clinical Note(s)"),this.$emit("closeAddDialog",!1)):(this.formErrorMessage=i.message,this.showNotify("error",i.message)),this.closeDialog()}))},addClinicalNote(){var e={name:"",description:"",clinicalCategory:this.clinicalNoteCategory};this.clinicalNoteInfo.push(e)},removeClinicalNote(e){const t=Array.from(this.clinicalNoteInfo);t.splice(e,1),this.clinicalNoteInfo=t},showNotify(e,t){let l="";l="success"===e?"blue-10":"negative",this.$q.notify({progress:!0,message:t,color:l})},closeDialog(){this.$emit("closeDialog",!0)}}});var ce=l(7704);const re=(0,k.Z)(ne,[["render",oe]]),de=re;S()(ne,"components",{QCard:x.Z,QForm:T.Z,QCardSection:Z.Z,QScrollArea:ce.Z,QBtn:F.Z,QInput:W.Z,QBtnGroup:V.Z});const ue={class:"row justify-between items-center"},pe={class:"text-h5 text-weight-light"},me={key:0,class:"row justify-center"},ge={key:1,class:"text-h5 text-weight-light"},he=(0,i._)("div",{class:"text-h5 text-weight-light"},"LOADING",-1);function fe(e,t,l,a,s,o){const n=(0,i.up)("q-btn"),c=(0,i.up)("q-card-section"),r=(0,i.up)("q-btn-group"),d=(0,i.up)("q-spinner-gears"),u=(0,i.up)("q-inner-loading"),p=(0,i.up)("q-card"),m=(0,i.up)("ClinicalFields"),g=(0,i.up)("q-dialog"),h=(0,i.up)("EditTemplateDialog"),f=(0,i.up)("ViewTemplate");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[(0,i.Wm)(c,{class:"text-weight-light bg-dark text-uppercase text-white"},{default:(0,i.w5)((()=>[(0,i._)("div",ue,[(0,i._)("div",pe," CLINICAL NOTE TEMPLATES - "+(0,R.zw)(this.selectedClinicalNoteName),1),(0,i._)("div",null,[(0,i.Wm)(n,{label:"Add Clinical Note Template",color:"green",onClick:e.openDialog},null,8,["onClick"])])])])),_:1}),this.loading?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(c,{key:0,align:"center"},{default:(0,i.w5)((()=>[this.clinicalTemplate.length>0?((0,i.wg)(),(0,i.iD)("div",me,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(this.clinicalTemplate,((t,l)=>((0,i.wg)(),(0,i.iD)("div",{class:"q-pa-md",key:l},[(0,i._)("div",null,[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i.Wm)(n,{rounded:"",label:t.code,color:"yellow-10",onClick:l=>e.editClinicalNoteTemplate(t)},null,8,["label","onClick"]),(0,i.Wm)(n,{rounded:"",icon:"fa fa-eye",color:"yellow-9",onClick:l=>e.viewTemplate(t)},null,8,["onClick"])])),_:2},1024)])])))),128))])):((0,i.wg)(),(0,i.iD)("div",ge," NO TEMPLATE AVAILABLE "))])),_:1})),this.loading?((0,i.wg)(),(0,i.j4)(c,{key:1,align:"center"},{default:(0,i.w5)((()=>[he])),_:1})):(0,i.kq)("",!0),(0,i.Wm)(u,{showing:this.loading},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{size:"50px",color:"dark"})])),_:1},8,["showing"])])),_:1}),(0,i.Wm)(g,{square:"",modelValue:e.dialog,"onUpdate:modelValue":t[1]||(t[1]=t=>e.dialog=t),maximized:""},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{clinicalNoteInfo:this.clinicalNotes[0],onCloseDialog:t[0]||(t[0]=t=>e.dialog=!1)},null,8,["clinicalNoteInfo"])])),_:1},8,["modelValue"]),(0,i.Wm)(g,{square:"",modelValue:e.editDialog,"onUpdate:modelValue":t[4]||(t[4]=t=>e.editDialog=t),"full-height":"","full-width":"",maximized:""},{default:(0,i.w5)((()=>[(0,i.Wm)(h,{selectedClinicalNote:this.selectedClinicalNote,templateDetails:this.templateDetails,onCloseEdit:t[2]||(t[2]=t=>e.editDialog=!1),onRefreshNotes:t[3]||(t[3]=t=>e.refresh())},null,8,["selectedClinicalNote","templateDetails"])])),_:1},8,["modelValue"]),(0,i.Wm)(g,{modelValue:e.viewDialog,"onUpdate:modelValue":t[6]||(t[6]=t=>e.viewDialog=t),"full-height":"","full-width":"",maximized:""},{default:(0,i.w5)((()=>[(0,i.Wm)(f,{onCloseDialog:t[5]||(t[5]=t=>e.viewDialog=!1),templateFormat:e.viewTemplateDetails},null,8,["templateFormat"])])),_:1},8,["modelValue"])])}var we=l(8880);const be={ref:"newTemplate"},ye=(0,i._)("div",{class:"row justify-between items-center"},[(0,i._)("div",{class:"text-h5 text-weight-light"}," ADD NEW CLINICAL NOTE TEMPLATES ")],-1),ve={class:"q-pa-md"},Ce={class:"row"},_e={class:"q-pl-md row q-gutter-md"},qe={class:"column col"},Ne={key:0,class:"flex flex-center"},De={key:1,class:"row justify-center"};function ke(e,t,l,a,s,o){const n=(0,i.up)("q-card-section"),c=(0,i.up)("q-input"),r=(0,i.up)("Date"),d=(0,i.up)("Text"),u=(0,i.up)("Number"),p=(0,i.up)("Textarea"),m=(0,i.up)("Select"),g=(0,i.up)("ICD10"),h=(0,i.up)("q-btn"),f=(0,i.up)("q-btn-group"),w=(0,i.up)("Fields"),b=(0,i.up)("q-card");return(0,i.wg)(),(0,i.iD)("div",be,[(0,i.Wm)(b,{square:"",class:"full-height full-width"},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{class:"text-weight-light bg-dark text-uppercase text-white"},{default:(0,i.w5)((()=>[ye])),_:1}),(0,i.Wm)(n,null,{default:(0,i.w5)((()=>[(0,i._)("div",ve,[(0,i.Wm)(c,{label:"Template Name","stack-label":"",outlined:"",modelValue:e.form.name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.form.name=t)},null,8,["modelValue"])]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.templateFields,((t,l)=>((0,i.wg)(),(0,i.iD)("div",{class:"q-py-sm",key:t},[(0,i._)("div",Ce,["date"==t.type?((0,i.wg)(),(0,i.j4)(r,{key:0,opts:t,class:"col"},null,8,["opts"])):"text"==t.type?((0,i.wg)(),(0,i.j4)(d,{key:1,opts:t,class:"col"},null,8,["opts"])):"number"==t.type?((0,i.wg)(),(0,i.j4)(u,{key:2,opts:t,class:"col"},null,8,["opts"])):"textarea"==t.type?((0,i.wg)(),(0,i.j4)(p,{key:3,opts:t,class:"col"},null,8,["opts"])):"select"==t.type?((0,i.wg)(),(0,i.j4)(m,{key:4,opts:t,class:"col"},null,8,["opts"])):"icd10"==t.type?((0,i.wg)(),(0,i.j4)(g,{key:5,opts:t,class:"col"},null,8,["opts"])):(0,i.kq)("",!0),(0,i._)("div",_e,[(0,i.Wm)(h,{class:"col",icon:"fas fa-trash",round:"",color:"negative",size:"sm",flat:"",onClick:(0,we.iM)((t=>e.removeItem(l)),["prevent"])},null,8,["onClick"]),(0,i._)("div",qe,[l>0?((0,i.wg)(),(0,i.j4)(h,{key:0,icon:"fas fa-arrow-up",round:"",color:"primary",size:"sm",flat:"",onClick:(0,we.iM)((t=>e.moveItem(l,"up")),["prevent"]),class:"col"},null,8,["onClick"])):(0,i.kq)("",!0),l!=e.templateFields.length-1?((0,i.wg)(),(0,i.j4)(h,{key:1,icon:"fas fa-arrow-down",round:"",color:"primary",size:"sm",flat:"",onClick:(0,we.iM)((t=>e.moveItem(l,"down")),["prevent"]),class:"col"},null,8,["onClick"])):(0,i.kq)("",!0)])])])])))),128)),this.fieldsShow?((0,i.wg)(),(0,i.iD)("div",De,[(0,i.Wm)(w,{onSetFields:e.setFields,clinicalNoteDialog:!1},null,8,["onSetFields"])])):((0,i.wg)(),(0,i.iD)("div",Ne,[(0,i.Wm)(f,null,{default:(0,i.w5)((()=>[this.templateFields.length>0?((0,i.wg)(),(0,i.j4)(h,{key:0,push:"",color:"positive",label:"Save Template",icon:"fas fa-save",unelevated:"",onClick:(0,we.iM)(e.saveTemplate,["prevent"])},null,8,["onClick"])):(0,i.kq)("",!0),(0,i.Wm)(h,{push:"",color:"teal",label:"Add Fields",icon:"fas fa-plus",unelevated:"",onClick:(0,we.iM)(e.showFields,["prevent"])},null,8,["onClick"])])),_:1})]))])),_:1})])),_:1})],512)}var xe=l(7913),Te=l(6077),Ze=l(7020),We=l(8052),Ie=l(3329),Ve=l(4664),Fe=l(7526);const Me=(0,i.aZ)({name:"ClinicalFields",props:["clinicalNoteInfo"],data(){return{form:{name:"",clinicalNoteCode:""},fieldsShow:!1}},components:{Date:xe.Z,Text:Te.Z,Number:Ze.Z,Textarea:We.Z,Select:Ie.Z,ICD10:Ve.Z,Fields:Fe.Z},computed:{...(0,b.Se)("helpers",["templateFields"]),...(0,b.Se)("clinicalNotes",["clinicalInputTypes"])},async mounted(){this.setInitValues(),this.form.clinicalNoteCode=this.clinicalNoteInfo.code,await this.$store.dispatch("clinicalNotes/fetchClinicalInputTypes")},methods:{removeItem(e){const t=this.templateFields.filter(((t,l)=>l!=e));this.$store.commit("helpers/setTemplateFields",t)},moveItem(e,t){this.templateFields[e];const l=[...this.templateFields],i="up"==t?e-1:e+1;console.log(e,i),l.splice(i,0,l.splice(e,1)[0]),this.$store.commit("helpers/setTemplateFields",l)},async saveTemplate(){const e=this.form;e.fields=this.templateFields;let t=[],l="7679";for(const[s,o]of e.fields.entries()){const i=this.clinicalInputTypes.filter((e=>e.code===o.type)),a={clinicalNoteTemplateCode:e.name.toLowerCase().replaceAll(" ","").replaceAll("-",""),type:o.type,inputId:i[0].id,code:`${e.clinicalNoteCode}${o.label}`.toLowerCase().replaceAll(" ","").replaceAll("-",""),name:o.label,required:o.required,requiredMessage:o.requiredMessage,options:o.options,sequence:s+1,createdBy:l,active:1};t.push(a)}const i={clinicalNoteTemplateCode:e.name.toLowerCase().replaceAll(" ","").replaceAll("-",""),clinicalNoteTemplateName:e.name,clinicalNoteCode:e.clinicalNoteCode,createdBy:l,clinicalNoteTemplateFields:t};console.log(i);const a=await this.$store.dispatch("clinicalNotes/saveClinicalNoteTemplateFields",i);console.log(a),a.length>0&&(this.showNotify("success","Clinical Note Template Created"),this.closeDialog())},showNotify(e,t){let l="";l="success"===e?"blue-10":"negative",this.$q.notify({progress:!0,message:t,color:l})},closeDialog(){this.$emit("closeDialog",!0)},showFields(){this.fieldsShow=!0},setFields(e){console.log(e,"valvbalvavla"),this.$store.commit("helpers/setTemplateFields",e),this.fieldsShow=!1},setInitValues(){this.$store.commit("helpers/setTemplateFields",[]),this.form.name="",this.form.clinicalNoteCode="",this.fieldsShow=!1}}});var Se=l(9367);const Qe=(0,k.Z)(Me,[["render",ke]]),Ae=Qe;S()(Me,"components",{QCard:x.Z,QCardSection:Z.Z,QInput:W.Z,QBtn:F.Z,QBtnGroup:V.Z,QCardActions:Se.Z});const Re={class:"full-height full-width"},$e={key:0,class:"row justify-center"},Ee={key:1};function je(e,t,l,a,s,o){const n=(0,i.up)("q-circular-progress"),c=(0,i.up)("FieldSets");return(0,i.wg)(),(0,i.iD)("div",Re,[e.bools.isLoading?((0,i.wg)(),(0,i.iD)("div",$e,[(0,i.Wm)(n,{indeterminate:"",size:"lg",color:"primary"})])):((0,i.wg)(),(0,i.iD)("div",Ee,[(0,i.Wm)(c,{onSetFields:e.updateFields,editTemplate:!0,ref:"updateField",onCloseDialog:t[0]||(t[0]=t=>e.closeEdit()),templateDetails:this.templateDetails},null,8,["onSetFields","templateDetails"])]))])}const Ue={class:"row items-center justify-between"},Le={key:0},ze={class:"absolute-top-right"},Oe={class:"row bg-blue-grey-2 q-pa-sm q-mt-sm q-gutter-md"},Be={class:"col"},Pe={class:"col-auto"},Ge={class:"col-auto"},He={key:0,class:"col"},Ye={key:1,class:"col-12"},Ke={key:2,class:"col"},Je=(0,i._)("div",{class:"text-h5 text-weight-light flex flex-center q-pb-xl q-mb-xl",align:"center"}," LOADING ... ",-1);function Xe(e,t,l,a,s,o){const n=(0,i.up)("q-btn"),c=(0,i.up)("q-card-section"),r=(0,i.up)("q-card-actions"),d=(0,i.up)("Date"),u=(0,i.up)("Text"),p=(0,i.up)("TextAutogrow"),m=(0,i.up)("Number"),g=(0,i.up)("Textarea"),h=(0,i.up)("Select"),f=(0,i.up)("ICD10"),w=(0,i.up)("NumberRange"),b=(0,i.up)("DateRange"),y=(0,i.up)("q-input"),v=(0,i.up)("q-toggle"),C=(0,i.up)("q-card"),_=(0,i.up)("q-scroll-area"),q=(0,i.up)("q-spinner-box"),N=(0,i.up)("q-inner-loading"),D=(0,i.up)("q-btn-group"),k=(0,i.up)("q-form");return(0,i.wg)(),(0,i.j4)(C,{class:"bg-white",square:""},{default:(0,i.w5)((()=>[(0,i.Wm)(k,{class:"q-px-smq-pb-md bg-white",style:{height:"90%"},ref:"editData"},{default:(0,i.w5)((()=>[e.visible?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(c,{key:0,class:"bg-grey-2 text-uppercase q-mb-xl text-h5 text-weight-light fixed-top fit",align:"center"},{default:(0,i.w5)((()=>[(0,i._)("div",Ue,[(0,i._)("div",null,(0,R.zw)(this.templateDetails.name),1),(0,i._)("div",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.buttons,(t=>((0,i.wg)(),(0,i.j4)(n,{color:"green",key:t,label:t.label,onClick:(0,we.iM)((l=>e.addField(t.type)),["prevent"]),rounded:"",icon:t.icon,class:"q-ma-sm"},null,8,["label","onClick","icon"])))),128))])])])),_:1})),e.visible?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(c,{key:1,class:"bg-white q-pb-xl full-height",style:{"margin-top":"75px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(_,{visible:!0,style:{height:"80vh"},ref:"scrollArea"},{default:(0,i.w5)((()=>[e.hasSelected?((0,i.wg)(),(0,i.iD)("div",Le,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.fields,((t,l)=>((0,i.wg)(),(0,i.iD)("div",{key:t},[(0,i._)("div",null,[(0,i.Wm)(C,{class:"q-my-md bg-grey-3",flat:""},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{class:"text-h6 text-weight-light text-white bg-blue-grey-5 text-uppercase"},{default:(0,i.w5)((()=>[l>0?((0,i.wg)(),(0,i.j4)(n,{key:0,icon:"fas fa-arrow-up",round:"",color:"white",size:"md",flat:"",onClick:(0,we.iM)((t=>e.moveItem(l,"up")),["prevent"]),class:"col"},null,8,["onClick"])):(0,i.kq)("",!0),l!=e.templateFields.length-1?((0,i.wg)(),(0,i.j4)(n,{key:1,icon:"fas fa-arrow-down",round:"",color:"white",size:"md",flat:"",onClick:(0,we.iM)((t=>e.moveItem(l,"down")),["prevent"]),class:"col"},null,8,["onClick"])):(0,i.kq)("",!0),(0,i.Uk)(" "+(0,R.zw)(t.type)+" ",1),(0,i._)("div",ze,[(0,i.Wm)(r,{align:"right"},{default:(0,i.w5)((()=>["old"===t.status?((0,i.wg)(),(0,i.j4)(n,{key:0,label:t.active?"Deactivate":"Activate",size:"sm","icon-right":t.active?"fas fa-trash":"fas fa-check",color:t.active?"red":"green",rounded:"",unelevated:"",onClick:i=>e.toggleActivate(l,t.active)},null,8,["label","icon-right","color","onClick"])):((0,i.wg)(),(0,i.j4)(n,{key:1,label:"Remove",size:"sm","icon-right":"fas fa-times",color:"negative",rounded:"",unelevated:"",onClick:t=>e.removeField(l)},null,8,["onClick"]))])),_:2},1024)])])),_:2},1024),(0,i.Wm)(c,null,{default:(0,i.w5)((()=>["date"==t.type?((0,i.wg)(),(0,i.j4)(d,{key:0,opts:{label:t.label,requiredMessage:t.requiredMessage,required:t.required,title:t.selectedTitle,disable:0===t.active}},null,8,["opts"])):"text"==t.type?((0,i.wg)(),(0,i.j4)(u,{key:1,opts:{label:t.label,requiredMessage:t.requiredMessage,required:t.required,title:t.selectedTitle,disable:0===t.active}},null,8,["opts"])):"textAutogrow"==t.type?((0,i.wg)(),(0,i.j4)(p,{key:2,opts:{label:t.label,requiredMessage:t.requiredMessage,required:t.required,title:t.selectedTitle,disable:0===t.active}},null,8,["opts"])):"number"==t.type?((0,i.wg)(),(0,i.j4)(m,{key:3,opts:{label:t.label,requiredMessage:t.requiredMessage,required:t.required,title:t.selectedTitle,disable:0===t.active}},null,8,["opts"])):"textarea"==t.type?((0,i.wg)(),(0,i.j4)(g,{key:4,opts:{label:t.label,requiredMessage:t.requiredMessage,required:t.required,title:t.selectedTitle,disable:0===t.active}},null,8,["opts"])):"select"==t.type?((0,i.wg)(),(0,i.j4)(h,{key:5,opts:{label:t.label,requiredMessage:t.requiredMessage,required:t.required,title:t.selectedTitle,disable:0===t.active,options:t.options}},null,8,["opts"])):"icd10"==t.type?((0,i.wg)(),(0,i.j4)(f,{key:6,opts:{label:t.label,requiredMessage:t.requiredMessage,required:t.required,title:t.selectedTitle,disable:0===t.active}},null,8,["opts"])):"numberRange"==t.type?((0,i.wg)(),(0,i.j4)(w,{key:7,opts:{label:t.label,requiredMessage:t.requiredMessage,required:t.required,title:t.selectedTitle,disable:0===t.active}},null,8,["opts"])):"dateRange"==t.type?((0,i.wg)(),(0,i.j4)(b,{key:8,opts:{label:t.label,requiredMessage:t.requiredMessage,required:t.required,title:t.selectedTitle,disable:0===t.active}},null,8,["opts"])):(0,i.kq)("",!0),(0,i._)("div",Oe,[(0,i._)("div",Be,[(0,i.Wm)(y,{modelValue:t.label,"onUpdate:modelValue":e=>t.label=e,label:"Label","error-message":t.requiredMessage,rules:[e=>e&&e.length>0||"Please enter Label"],ref_for:!0,ref:"input",disable:0===t.active},null,8,["modelValue","onUpdate:modelValue","error-message","rules","disable"])]),(0,i._)("div",Pe,[(0,i.Wm)(v,{label:"Required",modelValue:t.required,"onUpdate:modelValue":e=>t.required=e,disable:0===t.active},null,8,["modelValue","onUpdate:modelValue","disable"])]),(0,i._)("div",Ge,[(0,i.Wm)(v,{label:"Title",modelValue:t.selectedTitle,"onUpdate:modelValue":e=>t.selectedTitle=e,disable:0===t.selectedTitle,onClick:l=>e.titleSelected(t)},null,8,["modelValue","onUpdate:modelValue","disable","onClick"])]),t.required?((0,i.wg)(),(0,i.iD)("div",He,[(0,i.Wm)(y,{label:"Required text",modelValue:t.requiredMessage,"onUpdate:modelValue":e=>t.requiredMessage=e,disable:0===t.active},null,8,["modelValue","onUpdate:modelValue","disable"])])):(0,i.kq)("",!0),"select"==t.type?((0,i.wg)(),(0,i.iD)("div",Ye)):(0,i.kq)("",!0),"select"==t.type?((0,i.wg)(),(0,i.iD)("div",Ke,[(0,i.Wm)(y,{label:"Options (seperate by comma)",modelValue:t.options,"onUpdate:modelValue":e=>t.options=e},null,8,["modelValue","onUpdate:modelValue"])])):(0,i.kq)("",!0)])])),_:2},1024)])),_:2},1024)])])))),128))])):(0,i.kq)("",!0)])),_:1},512)])),_:1})),this.visible?((0,i.wg)(),(0,i.j4)(c,{key:2,style:{height:"100vh"}})):(0,i.kq)("",!0),(0,i.Wm)(N,{showing:e.visible,class:"q-pt-xl q-mt-xl"},{default:(0,i.w5)((()=>[(0,i.Wm)(q,{size:"150px",color:"primary"}),Je])),_:1},8,["showing"]),(0,i.Wm)(r,{align:"right",class:"bg-grey-2 fixed-bottom"},{default:(0,i.w5)((()=>[(0,i.Wm)(D,null,{default:(0,i.w5)((()=>[void 0===this.editTemplate?((0,i.wg)(),(0,i.j4)(n,{key:0,class:"col",color:"primary",label:"Set Fields",icon:"fas fa-save",disable:!e.hasSelected,flat:!e.hasSelected,onClick:t[0]||(t[0]=t=>e.$emit("setFields",e.fields))},null,8,["disable","flat"])):(0,i.kq)("",!0),this.editTemplate?((0,i.wg)(),(0,i.j4)(n,{key:1,class:"col",color:"primary",label:"Update Template",icon:"fas fa-save",disable:!e.hasSelected,flat:!e.hasSelected,onClick:t[1]||(t[1]=t=>e.$emit("setFields",e.fields))},null,8,["disable","flat"])):(0,i.kq)("",!0),(0,i.Wm)(n,{class:"col-auto",color:"negative",label:"Close",flat:!e.hasSelected,icon:"fas fa-times",onClick:t[2]||(t[2]=t=>e.$emit("closeDialog",!0))},null,8,["flat"])])),_:1})])),_:1})])),_:1},512)])),_:1})}l(6801);var et=l(815),tt=l(1524),lt=l(6001);const it=(0,i.aZ)({name:"FieldSets",props:["clinicalNoteDialog","editTemplate","templateDetails"],components:{Date:xe.Z,Text:Te.Z,Number:Ze.Z,Textarea:We.Z,Select:Ie.Z,ICD10:Ve.Z,NumberRange:et.Z,DateRange:tt.Z,TextAutogrow:lt.Z},methods:{parseOptions(e){return e.split(",").map((e=>e.trim()))},async addField(e){this.visible=!0;const t={type:e,label:"",required:!1,requiredMessage:"",options:"",active:1};this.fields.push(t),await new Promise((e=>{setTimeout((()=>{this.visible=!1,e()}),1500)})),this.$refs["input"][this.fields.length-1].focus(),this.$refs.scrollArea.setScrollPosition("vertical",1e5)},moveItem(e,t){this.templateFields[e];const l=[...this.templateFields],i="up"==t?e-1:e+1;l.splice(i,0,l.splice(e,1)[0]),this.$store.commit("helpers/setTemplateFields",l),this.mapFields()},toggleActivate(e,t){const l=t?0:1,i={status:l,index:e};this.$store.commit("helpers/toggleStatusField",i),this.mapFields()},removeField(e){this.fields=this.fields.filter(((t,l)=>l!=e))},titleSelected(e){if(e.selectedTitle){for(var t of this.fields)t.selectedTitle=!1;e.selectedTitle=!0}this.$store.commit("helpers/toggleSelectedTitle",e)},selectField(e){e!=this.selectedField?this.selectedField=e:this.selectedField=""},mapFields(){this.fields=[...this.templateFields.map((e=>({...e})))]}},data(){return{selectedField:"",selectedTitle:!1,visible:!1,fields:[],buttons:[{label:"Text",type:"text",icon:"fas fa-font"},{label:"TextAutogrow",type:"textAutogrow",icon:"fas fa-font"},{label:"Number",type:"number",icon:"fas fa-dollar-sign"},{label:"Number Range",type:"numberRange",icon:"fas fa-coins"},{label:"Date",type:"date",icon:"fas fa-calendar"},{label:"Date Range",type:"dateRange",icon:"fas fa-calendar-plus"},{label:"Textarea",type:"textarea",icon:"fas fa-bars"},{label:"Select",type:"select",icon:"fas fa-list"},{label:"ICD 10",type:"icd10",icon:"fas fa-book-medical"}]}},computed:{hasSelected(){return this.fields.length>0},selectOptions(){return this.select.options.split(",")},...(0,b.Se)("helpers",["templateFields"])},mounted(){this.mapFields()}});var at=l(8886),st=l(6941),ot=l(5862);const nt=(0,k.Z)(it,[["render",Xe]]),ct=nt;S()(it,"components",{QCard:x.Z,QForm:T.Z,QCardSection:Z.Z,QBtn:F.Z,QScrollArea:ce.Z,QCardActions:Se.Z,QInput:W.Z,QToggle:at.Z,QInnerLoading:st.Z,QSpinnerBox:ot.Z,QBtnGroup:V.Z});const rt=(0,i.aZ)({name:"EditTemplate",props:["templateDetails","selectedClinicalNote"],components:{FieldSets:ct},computed:{clinicalNoteCode(){return this.fields.length>0?this.fields[0].clinicalNoteCode:""},...(0,b.Se)("helpers",["templateFields"]),...(0,b.Se)("helpers",["removedFields"]),...(0,b.Se)("clinicalNotes",["clinicalNoteDetails"]),...(0,b.Se)("clinicalNotes",["clinicalInputTypes"]),...(0,b.Se)("clinicalNotes",["currentClinicalNote"])},data(){return{id:null,bools:{isLoading:!1},fields:[],updateFormat:[]}},methods:{closeEdit(){this.$emit("closeEdit",!0)},async updateFields(e){this.$refs.updateField.$refs.editData.validate().then((async t=>{if(!t)return!1;const l=e.map((e=>({...e,name:e.label})));let i="7679",a=[];for(const[e,d]of l.entries()){const t=this.clinicalNoteDetails.filter((e=>e.clinical_field_code===d.code)),l=this.clinicalInputTypes.filter((e=>e.code===d.type)),i={id:t.length>0?t[0].clinical_note_field_id:"",code:d.code,clinicalNoteTemplateCode:this.templateDetails.code,name:d.name,type:d.type,inputId:l[0].id,sequence:e+1,active:d.active,required:d.required,requiredMessage:d.requiredMessage,options:d.options};a.push(i)}let s=a;const o=e.filter((e=>e.selectedTitle));let n=null;o.length>0&&(n=o[0].name);const c={user:{code:i},clinicalNote:{code:this.selectedClinicalNote},clinicalNoteTemplate:{id:this.templateDetails.id,code:this.templateDetails.code,name:this.templateDetails.name,title:n},clinicalNoteTemplateFields:s};this.updateFormat=c;const r=await this.$store.dispatch("clinicalNotes/updateClinicalNoteTemplates",c);r.length>0&&(this.showNotify("success","Clinical Note Template Fields update"),this.closeEdit())}))},showNotify(e,t){let l="";l="success"===e?"blue-10":"negative",this.$q.notify({progress:!0,message:t,color:l})},setTemplateFields(){this.$store.commit("helpers/setTemplateFields",this.fields.map((e=>({type:e.type,name:e.name,label:e.name,selectedTitle:e.selectedTitle,required:e.required,requiredMessage:e.requiredMessage,options:e.options,code:e.code,active:e.active}))))}},async mounted(){this.bools.isLoading=!0;const e=JSON.parse(this.templateDetails.fields);this.fields=e.fields;const t=e.title;for(var l of this.fields)l.name===t?l.selectedTitle=!0:l.selectedTitle=!1;this.$emit("refreshNotes",!0),this.setTemplateFields(),await this.$store.dispatch("clinicalNotes/fetchClinicalInputTypes"),this.bools.isLoading=!1}});var dt=l(6122);const ut=(0,k.Z)(rt,[["render",je]]),pt=ut;S()(rt,"components",{QCircularProgress:dt.Z});const mt={class:"row justify-between items-center"},gt={class:"text-h5 text-weight-light"};function ht(e,t,l,a,s,o){const n=(0,i.up)("q-btn"),c=(0,i.up)("q-card-section"),r=(0,i.up)("Date"),d=(0,i.up)("Text"),u=(0,i.up)("Number"),p=(0,i.up)("Textarea"),m=(0,i.up)("Select"),g=(0,i.up)("ICD10"),h=(0,i.up)("NumberRange"),f=(0,i.up)("DateRange"),w=(0,i.up)("q-scroll-area"),b=(0,i.up)("q-card");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(b,{square:"",class:"full-height"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{align:"center"},{default:(0,i.w5)((()=>[(0,i._)("div",mt,[(0,i._)("div",gt,(0,R.zw)(this.parsedTemplate.name),1),(0,i._)("div",null,[(0,i.Wm)(n,{class:"col-auto",color:"negative",label:"Close",icon:"fas fa-times",onClick:t[0]||(t[0]=t=>e.$emit("closeDialog",!0))})])])])),_:1}),(0,i.Wm)(c,null,{default:(0,i.w5)((()=>[(0,i.Wm)(w,{style:{height:"86vh"},ref:"scrollArea",visible:!0},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(this.parsedTemplate.fields,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{key:t,class:"q-ma-md"},["date"==e.type?((0,i.wg)(),(0,i.j4)(r,{key:0,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required,type:e.type,clinicalNoteCode:e.clinicalNoteCode,clinicalFieldCode:e.clinicalFieldCode},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):"text"==e.type?((0,i.wg)(),(0,i.j4)(d,{key:1,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required,type:e.type,clinicalNoteCode:e.clinicalNoteCode,clinicalFieldCode:e.clinicalFieldCode},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):"number"==e.type?((0,i.wg)(),(0,i.j4)(u,{key:2,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required,type:e.type,clinicalNoteCode:e.clinicalNoteCode,clinicalFieldCode:e.clinicalFieldCode},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):"textarea"==e.type?((0,i.wg)(),(0,i.j4)(p,{key:3,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required,type:e.type,clinicalNoteCode:e.clinicalNoteCode,clinicalFieldCode:e.clinicalFieldCode},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):"select"==e.type?((0,i.wg)(),(0,i.j4)(m,{key:4,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required,options:e.options,type:e.type,clinicalNoteCode:e.clinicalNoteCode,clinicalFieldCode:e.clinicalFieldCode},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):"icd10"==e.type?((0,i.wg)(),(0,i.j4)(g,{key:5,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required,type:e.type,clinicalNoteCode:e.clinicalNoteCode,clinicalFieldCode:e.clinicalFieldCode},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):"numberRange"==e.type?((0,i.wg)(),(0,i.j4)(h,{key:6,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required,type:e.type,clinicalNoteCode:e.clinicalNoteCode,clinicalFieldCode:e.clinicalFieldCode},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):"dateRange"==e.type?((0,i.wg)(),(0,i.j4)(f,{key:7,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required,type:e.type,clinicalNoteCode:e.clinicalNoteCode,clinicalFieldCode:e.clinicalFieldCode},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):(0,i.kq)("",!0)])))),128))])),_:1},512)])),_:1})])),_:1})])}const ft=(0,i.aZ)({name:"ViewTemplate",props:["templateFormat"],data(){return{parsedTemplate:[]}},created(){this.formatTemplate()},components:{Date:xe.Z,Text:Te.Z,Number:Ze.Z,Textarea:We.Z,Select:Ie.Z,ICD10:Ve.Z,NumberRange:et.Z,DateRange:tt.Z},methods:{formatTemplate(){const e=JSON.parse(this.templateFormat.format);this.parsedTemplate=e}}}),wt=(0,k.Z)(ft,[["render",ht]]),bt=wt;S()(ft,"components",{QCard:x.Z,QCardSection:Z.Z,QBtn:F.Z,QScrollArea:ce.Z});const yt=(0,i.aZ)({name:"ClinicalNoteTemplateDetails",props:["selectedVal","selectedClinicalNote","selectedClinicalNoteName"],data(){return{dialog:!1,editDialog:!1,viewDialog:!1,templateDetails:[],loading:!1,viewTemplateDetails:[]}},computed:{...(0,b.Se)({clinicalTemplate:"clinicalNotes/clinicalTemplate",clinicalNoteDetails:"clinicalNotes/clinicalNoteDetails",clinicalTemplateDetails:"clinicalNotes/templateDetails"})},mounted(){this.fetchClinicalNoteTemplate()},watch:{dialog(e){e||this.fetchClinicalNoteTemplate()},selectedVal(e){this.fetchClinicalNoteTemplate()},selectedClinicalNote(e){this.fetchClinicalNoteTemplate()}},methods:{async fetchClinicalNoteTemplate(){this.loading=!0,setTimeout((async()=>{await this.$store.dispatch("clinicalNotes/fetchTemplates",this.selectedClinicalNote),await this.$store.dispatch("clinicalNotes/fetchClinicalNoteDetails",this.selectedClinicalNote),this.loading=!1}),1e3)},openDialog(){this.dialog=!0},async viewTemplate(e){this.viewDialog=!0,this.viewTemplateDetails=e},async editClinicalNoteTemplate(e){const t=this.clinicalTemplate.filter((t=>t.code===e.code));this.editDialog=!0;const l={id:t[0].id,name:t[0].name,code:t[0].code,clinicalNoteCode:t[0].clinical_note_code,fields:t[0].format};this.templateDetails=l},refresh(){this.$emit("refreshNotes")}},components:{ClinicalFields:Ae,EditTemplateDialog:pt,ViewTemplate:bt}});var vt=l(6394),Ct=l(6778);const _t=(0,k.Z)(yt,[["render",fe]]),qt=_t;S()(yt,"components",{QCard:x.Z,QCardSection:Z.Z,QBtn:F.Z,QBtnGroup:V.Z,QInnerLoading:st.Z,QSpinnerGears:vt.Z,QDialog:Ct.Z});const Nt=(0,i.aZ)({name:"ClinicalNoteCategories",components:{AddClinicalNoteModal:de,AddClinicalNoteCategoryModal:A,EditCategoryDetails:G,EditClinicalNote:le,ClinicalNoteTemplateDetails:qt},data(){return{splitterModel:15,selectedCategory:[],addCategoryModal:null,filter:"",filterRef:null,addModal:!1,editModal:!1,selectedClinicalNoteCategory:[],selectedClinicalNote:"",selectedClinicalNoteName:"",clinicalCategoryNotesTree:[],addClinicalNoteModal:!1,clinicalCategoryDetails:[],clinicalCategoryCode:"",clinicalCategoryName:"",clinicalNoteInfo:[],treeType:"",bools:{clinicalCategoryEditMode:!1,inactiveInput:!1,disableInput:!1,disableActions:!1,disableCategoryInput:!1}}},watch:{addCategoryModal(e){e||this.fetchClinicalCategoryNotes()},addClinicalNoteModal(e){e||this.fetchClinicalCategoryNotes()},async selectedCategory(e){this.bools.clinicalCategoryEditMode=!0;const t=this.clinicalNoteCategoryTree.filter((t=>t.code===e)),l=this.clinicalNotes.filter((t=>t.code===e));t.length>0&&(this.treeType="categories",this.fetchClinicalCategory(t[0]),this.clinicalNoteInfo=[]),l.length>0&&(this.treeType="notes",this.clinicalCategoryDetails=[],this.fetchClinicalNote(l[0]))},clinicalCategoryDetails(e){},clinicalCategoryNotes(e){}},async created(){this.fetchClinicalCategoryNotes(),this.fetchClinicalNotes()},computed:{...(0,b.Se)({clinicalNoteCategoryTree:"clinicalNotes/clinicalNoteCategoryTree",clinicalNotes:"clinicalNotes/clinicalNotes",clinicalNoteCategories:"clinicalNotes/clinicalNoteCategories",clinicalCategoryNotes:"clinicalNotes/clinicalCategoryNotes",currentClinicalNote:"clinicalNotes/currentClinicalNote"})},methods:{async fetchClinicalCategoryNotes(e){const t={clinicalCategoryCode:void 0===e?"":e,sectionID:this.$route.params.sectionID};await this.$store.dispatch("clinicalNotes/fetchClinicalNoteCategoryTree",t),this.clinicalCategoryNotesTree=this.clinicalNoteCategoryTree},async filterClinicalCategoryTree(){const e=this.clinicalNoteCategoryTree.filter((e=>e.code===this.selectedCategory));await this.fetchClinicalCategory(e[0])},async filterClinicalNote(){const e=this.clinicalNotes.filter((e=>e.code===this.selectedCategory));await this.fetchClinicalNote(e[0])},async fetchClinicalCategory(e){this.clinicalCategoryDetails=[e],this.clinicalCategoryCode=e.code,e.active?this.bools.disableInput=!1:this.bools.disableInput=!0},async fetchClinicalNotes(){await this.$store.dispatch("clinicalNotes/fetchClinicalNotes")},async fetchClinicalNote(e){return this.clinicalCategoryCode=e.clinical_category_code,this.selectedClinicalNoteName=e.name,this.clinicalNotes[0].active?this.bools.disableInput=!1:this.bools.disableInput=!0,this.clinicalNoteInfo=[e],this.clinicalNoteInfo},openClinicalNoteCategoryDialog(){this.addCategoryModal=!0},openClinicalNoteDialog(){this.addClinicalNoteModal=!0},async triggerUpdate(e){this.bools.disableActions=!0,"categories"===this.treeType?this.updateCategory(e):this.updateNotes(e)},async updateCategory(e){const t=this.$refs.categoryDetails.editDetails;let l="",i="",a="7679",s="";"deactivate"===e?(l=0,i=a,s=`Successfully deactivated Category - ${t.name}`):"activate"===e?(l=1,i="",s=`Successfully activated Category - ${t.name}`):(l=1,s=`Successfully updated Category - ${t.name}`);let o=null;o="string"===typeof t.categoricalType?"General Medical Notes"===t.categoricalType?0:"Visit Encounter Notes"===t.categoricalType?1:2:t.categoricalType;const n={id:t.id,name:t.name,description:t.description,section_type:t.sectionType,categorical_type:o,updated_by:a,active:l,inactive_by:i};var c=await this.$store.dispatch("clinicalNotes/updateClinicalNoteCategories",n);"success"===c.message?(await this.fetchClinicalCategoryNotes(),await this.filterClinicalCategoryTree(),this.showNotify("success",s)):this.showNotify("error",`Error: ${c}`)},async updateNotes(e){const t=this.$refs.clinicalNotes.editDetails;let l="",i="",a="7679",s="";"deactivate"===e?(l=0,i=a,s=`Deactivating Clinical Note - ${t.name}`):"activate"===e?(l=1,i="",s=`Activating Clinical Note - ${t.name}`):(l=1,s=`Updating Clinical Note - ${t.name}`);const o={id:t.id,name:t.name,description:t.description,categoryCode:t.clinicalCategoryCode,updatedBy:a,inactiveBy:i,active:l},n=await this.$store.dispatch("clinicalNotes/updateClinicalNotes",o);n.success?this.showNotify("success",s):this.showNotify("error",`Error: ${responseAPI}`),await this.fetchClinicalNotes(),await this.fetchClinicalCategoryNotes(),await this.filterClinicalNotes()},showNotify(e,t){let l="";l="success"===e?"blue-10":"negative",this.$q.notify({progress:!0,message:t,color:l}),this.bools.disableActions=!1},resetFilter(){this.filter="",this.$refs.filterRef.focus()}}});var Dt=l(4379),kt=l(218),xt=l(4554),Tt=l(5078),Zt=l(9200),Wt=l(9975);const It=(0,k.Z)(Nt,[["render",w]]),Vt=It;S()(Nt,"components",{QPage:Dt.Z,QBtn:F.Z,QSplitter:kt.Z,QInput:W.Z,QIcon:xt.Z,QTree:Tt.Z,QDialog:Ct.Z,QFab:Zt.Z,QFabAction:Wt.Z})}}]);