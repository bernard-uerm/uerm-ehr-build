"use strict";(self["webpackChunkuerm_ehr"]=self["webpackChunkuerm_ehr"]||[]).push([[64],{9172:(e,t,l)=>{l.d(t,{Z:()=>u});var i=l(3673);function a(e,t,l,a,s,o){const n=(0,i.up)("q-input");return(0,i.wg)(),(0,i.j4)(n,{type:"date",label:e.opts.label,required:e.opts.required,"error-message":e.opts.requiredMessage,"stack-label":"",outlined:"",modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t),disable:e.opts.disable},null,8,["label","required","error-message","modelValue","disable"])}const s=(0,i.aZ)({name:"Date",props:["opts"],data(){return{value:""}},created(){this.opts.withValue&&(this.value=this.opts.currentValue)}});var o=l(4260),n=l(4842),c=l(7518),r=l.n(c);const d=(0,o.Z)(s,[["render",a]]),u=d;r()(s,"components",{QInput:n.Z})},877:(e,t,l)=>{l.d(t,{Z:()=>p});var i=l(3673);const a={class:"row q-gutter-md"};function s(e,t,l,s,o,n){const c=(0,i.up)("q-input");return(0,i.wg)(),(0,i.iD)("div",a,[(0,i.Wm)(c,{"stack-label":"","error-message":e.opts.requiredMessage,required:e.opts.required,class:"col",type:"date",label:`${e.opts.label}: FROM`,modelValue:e.min,"onUpdate:modelValue":t[0]||(t[0]=t=>e.min=t),outlined:"",disable:e.opts.disable},null,8,["error-message","required","label","modelValue","disable"]),(0,i.Wm)(c,{"stack-label":"","error-message":e.opts.requiredMessage,required:e.opts.required,class:"col",type:"date",label:`${e.opts.label}: TO`,modelValue:e.max,"onUpdate:modelValue":t[1]||(t[1]=t=>e.max=t),outlined:"",disable:e.opts.disable},null,8,["error-message","required","label","modelValue","disable"])])}l(6801);const o=(0,i.aZ)({name:"Date Range",props:["opts"],data(){return{from:0,to:0}},created(){if(this.opts.withValue){const e=this.opts.currentValue.split("-");this.from=e[0].trim(),this.to=e[1].trim()}}});var n=l(4260),c=l(4842),r=l(7518),d=l.n(r);const u=(0,n.Z)(o,[["render",s]]),p=u;d()(o,"components",{QInput:c.Z})},1550:(e,t,l)=>{l.d(t,{Z:()=>N});l(246);var i=l(3673),a=l(2323);const s={class:"column relative-position"};function o(e,t,l,o,n,c){const r=(0,i.up)("q-item-label"),d=(0,i.up)("q-item-section"),u=(0,i.up)("q-item"),p=(0,i.up)("q-badge"),m=(0,i.up)("q-toggle"),g=(0,i.up)("q-select");return(0,i.wg)(),(0,i.iD)("div",s,[(0,i.Wm)(g,{modelValue:e.value,"onUpdate:modelValue":t[1]||(t[1]=t=>e.value=t),options:e.options,label:`ICD10: ${e.opts.label}`,onFilter:e.filterFn,"use-input":"",outlined:"","emit-value":"","map-options":"",loading:e.selectLoading,disable:e.opts.disable},{option:(0,i.w5)((e=>[(0,i.Wm)(u,(0,a.vs)((0,i.F4)(e.itemProps)),{default:(0,i.w5)((()=>[(0,i.Wm)(d,{side:"",style:{width:"80px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,a.zw)(e.opt.code),1)])),_:2},1024)])),_:2},1024),(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,a.zw)(e.opt.description),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),append:(0,i.w5)((()=>[(0,i.Wm)(p,{outline:"",color:"primary",label:e.searchBy,rounded:""},null,8,["label"]),(0,i.Wm)(m,{modelValue:e.form.searchByCode,"onUpdate:modelValue":t[0]||(t[0]=t=>e.form.searchByCode=t),class:"col-auto",size:"sm"},null,8,["modelValue"])])),_:1},8,["modelValue","options","label","onFilter","loading","disable"])])}const n=(0,i.aZ)({name:"ICD 10",props:["opts"],data(){return{icd:[],form:{searchByCode:!1,search:""},bools:{isLoading:!1},value:"",description:"",options:[],selectLoading:!1}},computed:{searchBy(){return this.form.searchByCode?"CODE":"NAME"}},methods:{async searchIcd(e){if(e.length<3)return;this.icd=[],this.description="",this.bools.isLoading=!0;const t=await this.$store.dispatch("helpers/searchIcd10",{search:e,type:this.form.searchByCode?"code":"name"});this.icd=t,this.bools.isLoading=!1},filterFn(e,t,l){t((async()=>{if(e.length>3){this.selectLoading=!0;const t=await this.$store.dispatch("helpers/searchIcd10",{search:e,type:this.form.searchByCode?"code":"name"});this.options=t,this.selectLoading=!1}}))}},created(){this.opts.withValue&&(this.value=this.opts.currentValue)}});var c=l(4260),r=l(4842),d=l(2165),u=l(8886),p=l(8870),m=l(7704),g=l(7011),h=l(3414),f=l(2035),y=l(3017),w=l(2350),b=l(9721),v=l(7518),C=l.n(v);const q=(0,c.Z)(n,[["render",o]]),N=q;C()(n,"components",{QInput:r.Z,QBtn:d.Z,QToggle:u.Z,QTooltip:p.Z,QScrollArea:m.Z,QList:g.Z,QItem:h.Z,QItemSection:f.Z,QSelect:y.Z,QItemLabel:w.Z,QBadge:b.Z})},5617:(e,t,l)=>{l.d(t,{Z:()=>u});var i=l(3673);function a(e,t,l,a,s,o){const n=(0,i.up)("q-input");return(0,i.wg)(),(0,i.j4)(n,{type:"number",label:e.opts.label,required:e.opts.required,"error-message":e.opts.requiredMessage,"stack-label":"",outlined:"",modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t),disable:e.opts.disable},null,8,["label","required","error-message","modelValue","disable"])}const s=(0,i.aZ)({name:"Number",props:["opts"],data(){return{value:""}},created(){this.opts.withValue&&(this.value=this.opts.currentValue)}});var o=l(4260),n=l(4842),c=l(7518),r=l.n(c);const d=(0,o.Z)(s,[["render",a]]),u=d;r()(s,"components",{QInput:n.Z})},5191:(e,t,l)=>{l.d(t,{Z:()=>p});var i=l(3673);const a={class:"row q-gutter-md"};function s(e,t,l,s,o,n){const c=(0,i.up)("q-input");return(0,i.wg)(),(0,i.iD)("div",a,[(0,i.Wm)(c,{"stack-label":"","error-message":e.opts.requiredMessage,required:e.opts.required,class:"col",type:"number",label:`${e.opts.label}: MIN`,modelValue:e.min,"onUpdate:modelValue":t[0]||(t[0]=t=>e.min=t),disable:e.opts.disable,outlined:""},null,8,["error-message","required","label","modelValue","disable"]),(0,i.Wm)(c,{"stack-label":"","error-message":e.opts.requiredMessage,required:e.opts.required,class:"col",type:"number",label:`${e.opts.label}: MAX`,modelValue:e.max,"onUpdate:modelValue":t[1]||(t[1]=t=>e.max=t),disable:e.opts.disable,outlined:""},null,8,["error-message","required","label","modelValue","disable"])])}l(6801);const o=(0,i.aZ)({name:"Number Range",props:["opts"],data(){return{min:0,max:0}},created(){if(this.opts.withValue){const e=this.opts.currentValue.split("-");this.min=e[0].trim(),this.max=e[1].trim()}}});var n=l(4260),c=l(4842),r=l(7518),d=l.n(r);const u=(0,n.Z)(o,[["render",s]]),p=u;d()(o,"components",{QInput:c.Z})},6047:(e,t,l)=>{l.d(t,{Z:()=>u});var i=l(3673);function a(e,t,l,a,s,o){const n=(0,i.up)("q-select");return(0,i.wg)(),(0,i.j4)(n,{label:e.opts.label,required:e.opts.required,"error-message":e.opts.requiredMessage,"stack-label":"",options:e.parseOptions(e.opts.options),outlined:"",disable:e.opts.disable,modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t)},null,8,["label","required","error-message","options","disable","modelValue"])}l(6801);const s=(0,i.aZ)({name:"Select",props:["opts"],methods:{parseOptions(e){return e.split(",").map((e=>e.trim()))}},data(){return{value:""}},created(){this.opts.withValue&&(this.value=this.opts.currentValue)}});var o=l(4260),n=l(3017),c=l(7518),r=l.n(c);const d=(0,o.Z)(s,[["render",a]]),u=d;r()(s,"components",{QSelect:n.Z})},6397:(e,t,l)=>{l.d(t,{Z:()=>u});var i=l(3673);function a(e,t,l,a,s,o){const n=(0,i.up)("q-input");return(0,i.wg)(),(0,i.j4)(n,{type:"text",label:e.opts.label,required:e.opts.required,"error-message":e.opts.requiredMessage,"stack-label":"",outlined:"",disable:e.opts.disable,modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t)},null,8,["label","required","error-message","disable","modelValue"])}const s=(0,i.aZ)({name:"Text",props:["opts"],data(){return{value:""}},created(){this.opts.withValue&&(this.value=this.opts.currentValue)}});var o=l(4260),n=l(4842),c=l(7518),r=l.n(c);const d=(0,o.Z)(s,[["render",a]]),u=d;r()(s,"components",{QInput:n.Z})},9355:(e,t,l)=>{l.d(t,{Z:()=>u});var i=l(3673);function a(e,t,l,a,s,o){const n=(0,i.up)("q-input");return(0,i.wg)(),(0,i.j4)(n,{type:"text",label:e.opts.label,required:e.opts.required,"error-message":e.opts.requiredMessage,"stack-label":"",outlined:"",autogrow:"",disable:e.opts.disable,modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t)},null,8,["label","required","error-message","disable","modelValue"])}const s=(0,i.aZ)({name:"TextAutogrow",props:["opts"],data(){return{value:""}},created(){this.opts.withValue&&(this.value=this.opts.currentValue)}});var o=l(4260),n=l(4842),c=l(7518),r=l.n(c);const d=(0,o.Z)(s,[["render",a]]),u=d;r()(s,"components",{QInput:n.Z})},7050:(e,t,l)=>{l.d(t,{Z:()=>p});var i=l(3673),a=l(8880);function s(e,t,l,s,o,n){const c=(0,i.up)("q-input");return(0,i.wg)(),(0,i.j4)(c,{type:"textarea",label:e.opts.label,required:e.opts.required,"error-message":e.opts.requiredMessage,"stack-label":"",outlined:"",disable:e.opts.disable,modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t),onKeydown:t[1]||(t[1]=(0,a.D2)((0,a.iM)((t=>e.value+="\n"),["exact","prevent"]),["enter"]))},null,8,["label","required","error-message","disable","modelValue"])}const o=(0,i.aZ)({name:"Textarea",props:["opts"],data(){return{value:""}},created(){this.opts.withValue&&(this.value=this.opts.currentValue)}});var n=l(4260),c=l(4842),r=l(7518),d=l.n(r);const u=(0,n.Z)(o,[["render",s]]),p=u;d()(o,"components",{QInput:c.Z})},1711:(e,t,l)=>{l.d(t,{Z:()=>f});var i=l(3673);function a(e,t,l,a,s,o){const n=(0,i.up)("q-route-tab"),c=(0,i.up)("q-tabs");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(c,{modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=t=>e.tab=t),class:"bg-uerm-silver full-height gt-xs","active-class":"bg-primary","active-color":"white","indicator-color":"yellow-10",align:"justify"},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{to:"/"+e.role+"/active",name:"active",label:"Active"},null,8,["to"]),(0,i.Wm)(n,{name:"forDischarge",label:"For Discharge",to:"/"+e.role+"/for-discharge"},null,8,["to"]),(0,i.Wm)(n,{name:"discharged",to:"/"+e.role+"/discharged",label:"Discharged"},null,8,["to"])])),_:1},8,["modelValue"]),(0,i.Wm)(c,{modelValue:e.tab,"onUpdate:modelValue":t[1]||(t[1]=t=>e.tab=t),class:"bg-uerm-silver full-height lt-sm","active-class":"bg-primary","active-color":"white","indicator-color":"yellow-10",align:"justify","outside-arrows":"","mobile-arrows":""},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{to:"/"+e.role+"/active",name:"active",label:"",icon:"fa fa-ambulance"},null,8,["to"]),(0,i.Wm)(n,{name:"forDischarge",label:"",to:"/"+e.role+"/for-discharge",icon:"fa fa-procedures"},null,8,["to"]),(0,i.Wm)(n,{name:"discharged",to:"/"+e.role+"/discharged",label:"",icon:"fa fa-hospital-user"},null,8,["to"])])),_:1},8,["modelValue"])])}var s=l(1959),o=l(3617);const n=(0,i.aZ)({name:"ClinicalTabs",computed:{...(0,o.Se)("user",["role"])},setup(){return{tab:(0,s.iH)("active")}},data(){return{bools:{isLoading:!1}}},watch:{tab(e){console.log(e),""!==e&&this.getEncounterCases(e)}},mounted(){this.getEncounterCases(this.tab)},methods:{checkRole(){this.role=null,this.role=this.$route.name},async getEncounterCases(e){const t={type:e,dateFrom:"2022-01-31",dateTo:"2022-01-31",userType:this.role,patientType:"E"};console.log(t),await this.$store.dispatch("encounters/getCases",t)}}});var c=l(4260),r=l(6375),d=l(2165),u=l(7547),p=l(2770),m=l(7518),g=l.n(m);const h=(0,c.Z)(n,[["render",a]]),f=h;g()(n,"components",{QBtnGroup:r.Z,QBtn:d.Z,QTabs:u.Z,QRouteTab:p.Z})},5296:(e,t,l)=>{l.d(t,{Z:()=>J});var i=l(3673);const a={key:0,class:"row justify-center"},s={key:1},o={key:0},n={class:"row q-pa-md q-col-gutter-md"},c={class:"col-lg-4 col-sm-12 col-xs-12 col-md-4"},r={class:"col-lg-4 col-sm-12 col-xs-12 col-md-4"},d={class:"col-lg-4 col-sm-12 col-xs-12 col-md-4"},u={key:1,class:"row q-pa-md q-col-gutter-md"},p={class:"col-lg-12 col-sm-12 col-xs-12 col-md-12"};function m(e,t,l,m,g,h){const f=(0,i.up)("q-circular-progress"),y=(0,i.up)("CategoryCard");return(0,i.wg)(),(0,i.iD)("div",null,[e.bools.isLoading?((0,i.wg)(),(0,i.iD)("div",a,[(0,i.Wm)(f,{indeterminate:"",size:"lg"})])):((0,i.wg)(),(0,i.iD)("div",s,["doctors"===e.role?((0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",n,[(0,i._)("div",c,[(0,i.Wm)(y,{title:"IPD",color:"info",textColor:"white",tableRows:this.encounterCases,nav:this.activeTab,count:this.encounterCases.length,location:this.location,role:this.role},null,8,["tableRows","nav","count","location","role"])]),(0,i._)("div",r,[(0,i.Wm)(y,{title:"ER",color:"red",textColor:"white",nav:this.activeTab,tableRows:this.encounterCases,count:this.encounterCases.length,location:this.location,role:this.role},null,8,["nav","tableRows","count","location","role"])]),(0,i._)("div",d,[(0,i.Wm)(y,{title:"OPD",color:"light-green",textColor:"white",nav:this.activeTab,tableRows:this.encounterCases,count:this.encounterCases.length,location:this.location,role:this.role},null,8,["nav","tableRows","count","location","role"])])])])):((0,i.wg)(),(0,i.iD)("div",u,[(0,i._)("div",p,["EMERGENCY ROOM"!==this.location?((0,i.wg)(),(0,i.j4)(y,{key:0,title:"IPD",color:"info",textColor:"white",tableRows:this.encounterCases,nav:this.activeTab,count:this.encounterCases.length,location:this.location,role:this.role},null,8,["tableRows","nav","count","location","role"])):((0,i.wg)(),(0,i.j4)(y,{key:1,title:"ER",color:"red",textColor:"white",nav:this.activeTab,tableRows:this.encounterCases,count:this.encounterCases.length,location:this.location,role:this.role},null,8,["nav","tableRows","count","location","role"]))])]))]))])}var g=l(3617),h=l(2323);const f={key:0,class:"text-right"},y={key:0},w={key:1},b={key:1},v={key:0,class:"text-right"},C={key:0},q={key:1},N={key:1};function D(e,t,l,a,s,o){const n=(0,i.up)("q-card-section"),c=(0,i.up)("request-table"),r=(0,i.up)("q-card"),d=(0,i.up)("q-skeleton");return(0,i.wg)(),(0,i.iD)("div",null,[e.loading?((0,i.wg)(),(0,i.j4)(r,{key:1,square:""},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{class:(0,h.C_)(`bg-primary text-${this.textColor} text-weight-bold text-h4`),align:"center"},{default:(0,i.w5)((()=>["nurses"===this.role?((0,i.wg)(),(0,i.iD)("div",v,["EMERGENCY ROOM"===this.location?((0,i.wg)(),(0,i.iD)("div",C,(0,h.zw)(this.location),1)):((0,i.wg)(),(0,i.iD)("div",q,"WARD: "+(0,h.zw)(this.location),1))])):((0,i.wg)(),(0,i.iD)("div",N,(0,h.zw)(this.title),1))])),_:1},8,["class"]),(0,i.Wm)(n,null,{default:(0,i.w5)((()=>[(0,i.Wm)(d,{height:"150px"})])),_:1})])),_:1})):((0,i.wg)(),(0,i.j4)(r,{key:0,square:""},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{class:(0,h.C_)(`bg-primary text-${this.textColor} text-weight-bold text-h4`),align:"center"},{default:(0,i.w5)((()=>["nurses"===this.role?((0,i.wg)(),(0,i.iD)("div",f,["EMERGENCY ROOM"===this.location?((0,i.wg)(),(0,i.iD)("div",y,(0,h.zw)(this.location),1)):((0,i.wg)(),(0,i.iD)("div",w,"WARD: "+(0,h.zw)(this.location),1))])):((0,i.wg)(),(0,i.iD)("div",b,(0,h.zw)(this.title),1))])),_:1},8,["class"]),(0,i.Wm)(c,{dataRows:this.tableRows,role:this.role},null,8,["dataRows","role"])])),_:1}))])}const k=(0,i._)("div",{class:"text-weight-light text-h5"},"Patients",-1),x=(0,i._)("br",null,null,-1);function _(e,t,l,a,s,o){const n=(0,i.up)("q-space"),c=(0,i.up)("q-btn"),r=(0,i.up)("q-tooltip"),d=(0,i.up)("q-td"),u=(0,i.up)("q-tr"),p=(0,i.up)("q-table");return(0,i.wg)(),(0,i.iD)("div",null,["nurses"===this.role?((0,i.wg)(),(0,i.j4)(p,{key:0,class:"my-sticky-header-table",rows:this.dataRows,columns:a.nursesColumns,"row-key":"caseNumber",dense:e.$q.screen.lt.md},{top:(0,i.w5)((e=>[k,(0,i.Wm)(n),(0,i.Wm)(c,{flat:"",round:"",dense:"",icon:e.inFullscreen?"fullscreen_exit":"fullscreen",onClick:e.toggleFullscreen,class:"q-ml-md"},null,8,["icon","onClick"])])),body:(0,i.w5)((e=>[(0,i.Wm)(u,{props:e,class:"cursor-pointer",onClick:t=>o.routeToEMR(e.row.encryptedCaseNo,e.row.colorIndicator)},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{anchor:"bottom start",class:"bg-yellow-8 text-black",self:"top middle"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,h.zw)(e.row.name),1)])),_:2},1024),(0,i.Wm)(d,{key:"colorIndicator",props:e,class:(0,h.C_)(`bg-${e.row.colorIndicator} `)},null,8,["props","class"]),(0,i.Wm)(d,{key:"caseNumber",props:e},{default:(0,i.w5)((()=>[(0,i.Uk)((0,h.zw)(e.row.caseNumber),1)])),_:2},1032,["props"]),(0,i.Wm)(d,{key:"name",props:e},{default:(0,i.w5)((()=>[(0,i.Uk)((0,h.zw)(e.row.name),1)])),_:2},1032,["props"]),(0,i.Wm)(d,{key:"patientID",props:e},{default:(0,i.w5)((()=>[(0,i.Uk)((0,h.zw)(e.row.patientID),1)])),_:2},1032,["props"]),(0,i.Wm)(d,{key:"admission",props:e},{default:(0,i.w5)((()=>[(0,i.Uk)((0,h.zw)(e.row.admission),1)])),_:2},1032,["props"])])),_:2},1032,["props","onClick"])])),_:1},8,["rows","columns","dense"])):((0,i.wg)(),(0,i.j4)(p,{key:1,class:"my-sticky-header-table",rows:this.dataRows,columns:a.doctorsColumns,"row-key":"caseNumber",dense:e.$q.screen.lt.md,flat:"",bordered:""},{body:(0,i.w5)((e=>[(0,i.Wm)(u,{props:e,class:"cursor-pointer",onClick:t=>o.routeToEMR(e.row.encryptedCaseNo,e.row.colorIndicator)},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{anchor:"bottom start",class:"bg-yellow-8 text-black",self:"top middle"},{default:(0,i.w5)((()=>[(0,i.Uk)(" Name: "+(0,h.zw)(e.row.name)+" ",1),x,(0,i.Uk)(" Case #: "+(0,h.zw)(e.row.caseNumber),1)])),_:2},1024),(0,i.Wm)(d,{key:"colorIndicator",props:e,class:(0,h.C_)(`bg-${e.row.colorIndicator}`)},null,8,["props","class"]),(0,i.Wm)(d,{key:"name",props:e},{default:(0,i.w5)((()=>[(0,i.Uk)((0,h.zw)(e.row.name),1)])),_:2},1032,["props"]),(0,i.Wm)(d,{key:"admission",props:e},{default:(0,i.w5)((()=>[(0,i.Uk)((0,h.zw)(e.row.admission),1)])),_:2},1032,["props"])])),_:2},1032,["props","onClick"])])),_:1},8,["rows","columns","dense"]))])}const T=[{name:"colorIndicator",required:!0,label:"",align:"center",field:"colorIndicator",sortable:!0,style:"width: 15px"},{name:"name",required:!0,label:"Name",align:"center",field:"name",sortable:!0},{name:"admission",align:"center",label:"Admission",field:"admission",sortable:!0}],Z=[{name:"colorIndicator",required:!0,label:"",align:"center",field:"colorIndicator",sortable:!0,style:"width: 15px"},{name:"caseNumber",required:!0,label:"Case #",align:"center",field:"caseNumber",sortable:!0},{name:"name",required:!0,label:"Name",align:"center",field:"name",sortable:!0},{name:"patientID",required:!0,label:"Patient ID",align:"center",field:"patientID",sortable:!0},{name:"admission",align:"center",label:"Admission",field:"admission",sortable:!0}],W={name:"RequestTable",props:["dataRows","role"],setup(){return{doctorsColumns:T,nursesColumns:Z}},data(){return{currentRoute:null}},mounted(){this.currentRoute=this.$route.params.routes},methods:{routeToEMR(e,t){this.$store.dispatch("helpers/setColorEMR",t),this.$router.push({name:"emr",params:{caseNo:`${e}`}})}}};var V=l(4260),I=l(8107),F=l(2025),M=l(2165),S=l(8186),A=l(8870),Q=l(3884),R=l(7518),$=l.n(R);const j=(0,V.Z)(W,[["render",_]]),E=j;$()(W,"components",{QTable:I.Z,QSpace:F.Z,QBtn:M.Z,QTr:S.Z,QTooltip:A.Z,QTd:Q.Z});const U=(0,i.aZ)({props:["title","content","color","textColor","count","tableRows","nav","location","role"],name:"CategoryCard",components:{RequestTable:E},data(){return{loading:null,show:!1,dataRows:[]}},mounted(){this.fetchData(this.nav)},watch:{nav(e){this.fetchData(e)}},computed:{...(0,g.Se)({encounterCases:"encounters/encounterCases"})},methods:{async fetchData(e){this.loading=!0,this.dataRows=this.encounterCases,setInterval((()=>{this.show=!this.show}),500),setTimeout((()=>{this.loading=!1}),1500)}}});var L=l(151),z=l(5589),O=l(9721),B=l(4103);const P=(0,V.Z)(U,[["render",D]]),G=P;$()(U,"components",{QCard:L.Z,QCardSection:z.Z,QBadge:O.Z,QSkeleton:B.ZP});const H=(0,i.aZ)({name:"Patients",components:{CategoryCard:G},computed:{...(0,g.Se)({patients:"patients/patients",pxType:"patients/pxType",encounterCases:"encounters/encounterCases",role:"user/role"}),type(){return this.pxType||this.$route.params.type}},data(){return{bools:{isLoading:!1},col:[{label:"CASENO",field:"caseno"}],activeTab:null,location:"EMERGENCY ROOM"}},watch:{"$route.params":{async handler(e){this.activeTab=e.routes},deep:!0},encounterCases(e){console.log(e)}},async created(){this.bools.isLoading=!0,this.bools.isLoading=!1},methods:{}});var Y=l(6122);const K=(0,V.Z)(H,[["render",m]]),J=K;$()(H,"components",{QCircularProgress:Y.Z,QTable:I.Z})},6351:(e,t,l)=>{l.d(t,{Z:()=>k});var i=l(3673);const a={class:"row q-pa-md q-pt-none q-col-gutter-md q-mt-none"},s={class:"col-lg-3 col-sm-6 col-xs-12 col-md-3"},o=(0,i.Uk)(" ACTIVE PATIENTS "),n=(0,i.Uk)(" 8 "),c={class:"col-lg-3 col-sm-6 col-xs-12 col-md-3"},r=(0,i.Uk)(" FOR DISCHARGE "),d=(0,i.Uk)(" 8 "),u={class:"col-lg-3 col-sm-6 col-xs-12 col-md-3"},p=(0,i.Uk)(" DISCHARGED "),m=(0,i.Uk)(" 8 "),g={class:"col-lg-3 col-sm-6 col-xs-12 col-md-3"},h=(0,i.Uk)(" TOTAL "),f=(0,i.Uk)(" 8 ");function y(e,t,l,y,w,b){const v=(0,i.up)("q-card-section"),C=(0,i.up)("q-card");return(0,i.wg)(),(0,i.iD)("div",a,[(0,i._)("div",s,[(0,i.Wm)(C,{square:"",class:"bg-yellow-14"},{default:(0,i.w5)((()=>[(0,i.Wm)(v,{align:"center",class:"text-h6 text-weight-bold"},{default:(0,i.w5)((()=>[o])),_:1}),(0,i.Wm)(v,{align:"center",class:"text-h5 text-weight-bold"},{default:(0,i.w5)((()=>[n])),_:1})])),_:1})]),(0,i._)("div",c,[(0,i.Wm)(C,{square:"",class:"bg-cyan text-white"},{default:(0,i.w5)((()=>[(0,i.Wm)(v,{align:"center",class:"text-h6 text-weight-bold"},{default:(0,i.w5)((()=>[r])),_:1}),(0,i.Wm)(v,{align:"center",class:"text-h5 text-weight-bold"},{default:(0,i.w5)((()=>[d])),_:1})])),_:1})]),(0,i._)("div",u,[(0,i.Wm)(C,{square:"",class:"bg-green text-white"},{default:(0,i.w5)((()=>[(0,i.Wm)(v,{align:"center",class:"text-h6 text-weight-bold"},{default:(0,i.w5)((()=>[p])),_:1}),(0,i.Wm)(v,{align:"center",class:"text-h5 text-weight-bold"},{default:(0,i.w5)((()=>[m])),_:1})])),_:1})]),(0,i._)("div",g,[(0,i.Wm)(C,{square:"",class:"bg-light-blue text-white"},{default:(0,i.w5)((()=>[(0,i.Wm)(v,{align:"center",class:"text-h6 text-weight-bold"},{default:(0,i.w5)((()=>[h])),_:1}),(0,i.Wm)(v,{align:"center",class:"text-h5 text-weight-bold"},{default:(0,i.w5)((()=>[f])),_:1})])),_:1})])])}const w=(0,i.aZ)({name:"QuickCensus"});var b=l(4260),v=l(151),C=l(5589),q=l(7518),N=l.n(q);const D=(0,b.Z)(w,[["render",y]]),k=D;N()(w,"components",{QCard:v.Z,QCardSection:C.Z})},4635:(e,t,l)=>{l.r(t),l.d(t,{default:()=>h});var i=l(3673);const a={key:0,class:"row justify-center"},s={key:1};function o(e,t,l,o,n,c){const r=(0,i.up)("q-circular-progress"),d=(0,i.up)("Fields");return(0,i.wg)(),(0,i.iD)("div",null,[e.bools.isLoading?((0,i.wg)(),(0,i.iD)("div",a,[(0,i.Wm)(r,{indeterminate:"",size:"lg",color:"primary"})])):((0,i.wg)(),(0,i.iD)("div",s,[(0,i.Wm)(d,{onSetFields:e.updateFields},null,8,["onSetFields"])]))])}var n=l(3617),c=l(7526);const r=(0,i.aZ)({name:"Edit Template",components:{Fields:c.Z},computed:{encryptedId(){return this.$route.params.id||null},clinicalNoteCode(){return this.fields.length>0?this.fields[0].clinicalNoteCode:""},...(0,n.Se)("helpers",["templateFields"])},data(){return{id:null,bools:{isLoading:!1},fields:[]}},methods:{updateFields(e){const t=e.map((e=>({...e,name:e.label,code:`${this.clinicalNoteCode}${e.label.split(" ").join("").toLowerCase()}`}))),l={id:this.id,fields:t};console.log(l),this.$store.dispatch("clinicalNotes/")}},async mounted(){this.bools.isLoading=!0;const e=await this.$store.dispatch("helpers/decrypt",this.encryptedId);this.id=e.decrypted;const t=await this.$store.dispatch("clinicalNotes/getTemplateById",e.decrypted);this.fields=t,this.fields=JSON.parse(t.format).fields,this.$store.commit("helpers/setTemplateFields",this.fields.map((e=>({type:e.type,name:e.name,code:"",label:e.name,required:e.required,requiredMessage:e.requiredMessage,options:e.options})))),this.bools.isLoading=!1}});var d=l(4260),u=l(6122),p=l(7518),m=l.n(p);const g=(0,d.Z)(r,[["render",o]]),h=g;m()(r,"components",{QCircularProgress:u.Z})},7526:(e,t,l)=>{l.d(t,{Z:()=>$});var i=l(3673),a=l(8880),s=l(2323);const o={class:"q-gutter-sm text-center"},n={key:0},c=(0,i._)("div",{class:"text-primary text-h6"},"Next: Set Options",-1),r={class:"absolute-top-right"},d={class:"row bg-blue-grey-2 q-pa-sm q-mt-sm q-gutter-md"},u={class:"col"},p={class:"col-auto"},m={key:0,class:"col"},g={key:1,class:"col-12"},h={key:2,class:"col"};function f(e,t,l,f,y,w){const b=(0,i.up)("q-btn"),v=(0,i.up)("q-card-section"),C=(0,i.up)("q-card-actions"),q=(0,i.up)("Date"),N=(0,i.up)("Text"),D=(0,i.up)("TextAutogrow"),k=(0,i.up)("Number"),x=(0,i.up)("Textarea"),_=(0,i.up)("Select"),T=(0,i.up)("ICD10"),Z=(0,i.up)("NumberRange"),W=(0,i.up)("DateRange"),V=(0,i.up)("q-input"),I=(0,i.up)("q-toggle"),F=(0,i.up)("q-card");return(0,i.wg)(),(0,i.j4)(F,{class:"column full-width"},{default:(0,i.w5)((()=>[(0,i.Wm)(v,{class:"col-auto q-mb-md"},{default:(0,i.w5)((()=>[(0,i._)("div",null,[(0,i._)("div",o,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.buttons,(t=>((0,i.wg)(),(0,i.j4)(b,{color:"green",key:t,label:t.label,onClick:(0,a.iM)((l=>e.addField(t.type)),["prevent"]),"no-wrap":"",rounded:"",icon:t.icon},null,8,["label","onClick","icon"])))),128))])])])),_:1}),(0,i.Wm)(v,{class:"q-gutter-md col",style:{overflow:"auto"}},{default:(0,i.w5)((()=>[e.hasSelected?((0,i.wg)(),(0,i.iD)("div",n,[c,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.fields,((t,l)=>((0,i.wg)(),(0,i.iD)("div",{key:t},[(0,i.Wm)(F,{class:"q-my-md bg-grey-3",flat:""},{default:(0,i.w5)((()=>[(0,i.Wm)(v,{class:"relative-position text-h6 text-weight-light text-white bg-blue-grey-5 text-uppercase"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(t.type)+" "+(0,s.zw)(t)+" ",1),(0,i._)("div",r,[(0,i.Wm)(C,{align:"right"},{default:(0,i.w5)((()=>["old"===t.status?((0,i.wg)(),(0,i.j4)(b,{key:0,label:t.active?"Deactivate":"Activate",size:"sm","icon-right":t.active?"fas fa-trash":"fas fa-check",color:t.active?"red":"green",rounded:"",unelevated:"",onClick:i=>e.toggleActivate(l,t.active)},null,8,["label","icon-right","color","onClick"])):((0,i.wg)(),(0,i.j4)(b,{key:1,label:"Remove",size:"sm","icon-right":"fas fa-times",color:"negative",rounded:"",unelevated:"",onClick:t=>e.removeField(l)},null,8,["onClick"]))])),_:2},1024)])])),_:2},1024),(0,i.Wm)(v,null,{default:(0,i.w5)((()=>["date"==t.type?((0,i.wg)(),(0,i.j4)(q,{key:0,opts:{label:t.label,requiredMessage:t.requiredMessage,required:t.required}},null,8,["opts"])):"text"==t.type?((0,i.wg)(),(0,i.j4)(N,{key:1,opts:{label:t.label,requiredMessage:t.requiredMessage,required:t.required}},null,8,["opts"])):"textAutogrow"==t.type?((0,i.wg)(),(0,i.j4)(D,{key:2,opts:{label:t.label,requiredMessage:t.requiredMessage,required:t.required}},null,8,["opts"])):"number"==t.type?((0,i.wg)(),(0,i.j4)(k,{key:3,opts:{label:t.label,requiredMessage:t.requiredMessage,required:t.required}},null,8,["opts"])):"textarea"==t.type?((0,i.wg)(),(0,i.j4)(x,{key:4,opts:{label:t.label,requiredMessage:t.requiredMessage,required:t.required}},null,8,["opts"])):"select"==t.type?((0,i.wg)(),(0,i.j4)(_,{key:5,opts:{label:t.label,requiredMessage:t.requiredMessage,required:t.required,options:t.options}},null,8,["opts"])):"icd10"==t.type?((0,i.wg)(),(0,i.j4)(T,{key:6,opts:{label:t.label,requiredMessage:t.requiredMessage,required:t.required}},null,8,["opts"])):"numberRange"==t.type?((0,i.wg)(),(0,i.j4)(Z,{key:7,opts:{label:t.label,requiredMessage:t.requiredMessage,required:t.required}},null,8,["opts"])):"dateRange"==t.type?((0,i.wg)(),(0,i.j4)(W,{key:8,opts:{label:t.label,requiredMessage:t.requiredMessage,required:t.required}},null,8,["opts"])):(0,i.kq)("",!0),(0,i._)("div",d,[(0,i._)("div",u,[(0,i.Wm)(V,{modelValue:t.label,"onUpdate:modelValue":e=>t.label=e,label:"Label","error-message":t.requiredMessage},null,8,["modelValue","onUpdate:modelValue","error-message"])]),(0,i._)("div",p,[(0,i.Wm)(I,{label:"Required",modelValue:t.required,"onUpdate:modelValue":e=>t.required=e},null,8,["modelValue","onUpdate:modelValue"])]),t.required?((0,i.wg)(),(0,i.iD)("div",m,[(0,i.Wm)(V,{label:"Required text",modelValue:t.requiredMessage,"onUpdate:modelValue":e=>t.requiredMessage=e},null,8,["modelValue","onUpdate:modelValue"])])):(0,i.kq)("",!0),"select"==t.type?((0,i.wg)(),(0,i.iD)("div",g)):(0,i.kq)("",!0),"select"==t.type?((0,i.wg)(),(0,i.iD)("div",h,[(0,i.Wm)(V,{label:"Options (seperate by comma)",modelValue:t.options,"onUpdate:modelValue":e=>t.options=e},null,8,["modelValue","onUpdate:modelValue"])])):(0,i.kq)("",!0)])])),_:2},1024)])),_:2},1024)])))),128))])):(0,i.kq)("",!0)])),_:1}),(0,i.Wm)(C,{align:"right",class:"col-auto row"},{default:(0,i.w5)((()=>[void 0===this.editTemplate?((0,i.wg)(),(0,i.j4)(b,{key:0,class:"col",color:"primary",label:"Set Fields",icon:"fas fa-save",disable:!e.hasSelected,flat:!e.hasSelected,onClick:t[0]||(t[0]=t=>e.$emit("setFields",e.fields))},null,8,["disable","flat"])):(0,i.kq)("",!0),this.editTemplate?((0,i.wg)(),(0,i.j4)(b,{key:1,class:"col",color:"primary",label:"Update Template",icon:"fas fa-save",disable:!e.hasSelected,flat:!e.hasSelected,onClick:t[1]||(t[1]=t=>e.$emit("setFields",e.fields))},null,8,["disable","flat"])):(0,i.kq)("",!0),this.clinicalNoteDialog?((0,i.wg)(),(0,i.j4)(b,{key:2,class:"col-auto",color:"negative",label:"Cancel",flat:!e.hasSelected,icon:"fas fa-times",onClick:t[2]||(t[2]=t=>e.$emit("closeDialog"))},null,8,["flat"])):(0,i.kq)("",!0)])),_:1})])),_:1})}l(6801),l(71);var y=l(3617),w=l(9172),b=l(6397),v=l(5617),C=l(7050),q=l(6047),N=l(1550),D=l(5191),k=l(877),x=l(9355);const _=(0,i.aZ)({name:"Fields",props:["clinicalNoteDialog","editTemplate"],components:{Date:w.Z,Text:b.Z,Number:v.Z,Textarea:C.Z,Select:q.Z,ICD10:N.Z,NumberRange:D.Z,DateRange:k.Z,TextAutogrow:x.Z},methods:{parseOptions(e){return e.split(",").map((e=>e.trim()))},addField(e){const t={type:e,label:"",required:!1,requiredMessage:"",options:"",active:1};this.fields.push(t)},moveItem(e,t){this.templateFields[e];const l=[...this.templateFields],i="up"==t?e-1:e+1;console.log(e,i),l.splice(i,0,l.splice(e,1)[0]),this.$store.commit("helpers/setTemplateFields",l)},toggleActivate(e,t){const l=t?0:1,i={status:l,index:e};this.$store.commit("helpers/toggleStatusField",i),this.mapFields()},removeField(e){this.fields=this.fields.filter(((t,l)=>l!=e))},selectField(e){e!=this.selectedField?this.selectedField=e:this.selectedField=""},mapFields(){this.fields=[...this.templateFields.map((e=>({...e})))]}},data(){return{selectedField:"",fields:[],buttons:[{label:"Text",type:"text",icon:"fas fa-font"},{label:"Number",type:"number",icon:"fas fa-dollar-sign"},{label:"Number Range",type:"numberRange",icon:"fas fa-coins"},{label:"Date",type:"date",icon:"fas fa-calendar"},{label:"Date Range",type:"dateRange",icon:"fas fa-calendar-plus"},{label:"Textarea",type:"textarea",icon:"fas fa-bars"},{label:"Select",type:"select",icon:"fas fa-list"},{label:"ICD 10",type:"icd10",icon:"fas fa-book-medical"}]}},computed:{hasSelected(){return this.fields.length>0},selectOptions(){return this.select.options.split(",")},...(0,y.Se)("helpers",["templateFields"])},mounted(){this.mapFields()}});var T=l(4260),Z=l(151),W=l(5589),V=l(2165),I=l(9367),F=l(4842),M=l(3017),S=l(8886),A=l(7518),Q=l.n(A);const R=(0,T.Z)(_,[["render",f]]),$=R;Q()(_,"components",{QCard:Z.Z,QCardSection:W.Z,QBtn:V.Z,QCardActions:I.Z,QInput:F.Z,QSelect:M.Z,QToggle:S.Z})},3756:(e,t,l)=>{l.r(t),l.d(t,{default:()=>T});var i=l(3673),a=l(8880);const s={class:"row"},o={class:"q-pl-md row q-gutter-md"},n={class:"column col"};function c(e,t,l,c,r,d){const u=(0,i.up)("q-select"),p=(0,i.up)("q-input"),m=(0,i.up)("q-card-section"),g=(0,i.up)("Date"),h=(0,i.up)("Text"),f=(0,i.up)("Number"),y=(0,i.up)("Textarea"),w=(0,i.up)("Select"),b=(0,i.up)("ICD10"),v=(0,i.up)("NumberRange"),C=(0,i.up)("DateRange"),q=(0,i.up)("q-btn"),N=(0,i.up)("q-card");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(N,{flat:""},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{class:"column q-gutter-md"},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{"stack-label":"",label:"Clinical Note",options:e.clinicalNotesGrouped.categories,modelValue:e.form.category,"onUpdate:modelValue":t[0]||(t[0]=t=>e.form.category=t),outlined:"","emit-value":"","map-options":""},null,8,["options","modelValue"]),(0,i.Wm)(p,{label:"Template Name","stack-label":"",outlined:"",modelValue:e.form.name,"onUpdate:modelValue":t[1]||(t[1]=t=>e.form.name=t)},null,8,["modelValue"])])),_:1}),(0,i.Wm)(m,null,{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.templateFields,((t,l)=>((0,i.wg)(),(0,i.iD)("div",{class:"q-py-sm",key:t},[(0,i._)("div",s,["date"==t.type?((0,i.wg)(),(0,i.j4)(g,{key:0,opts:t,class:"col"},null,8,["opts"])):"text"==t.type?((0,i.wg)(),(0,i.j4)(h,{key:1,opts:t,class:"col"},null,8,["opts"])):"number"==t.type?((0,i.wg)(),(0,i.j4)(f,{key:2,opts:t,class:"col"},null,8,["opts"])):"textarea"==t.type?((0,i.wg)(),(0,i.j4)(y,{key:3,opts:t,class:"col"},null,8,["opts"])):"select"==t.type?((0,i.wg)(),(0,i.j4)(w,{key:4,opts:t,class:"col"},null,8,["opts"])):"icd10"==t.type?((0,i.wg)(),(0,i.j4)(b,{key:5,opts:t,class:"col"},null,8,["opts"])):"numberRange"==t.type?((0,i.wg)(),(0,i.j4)(v,{key:6,opts:t,class:"col"},null,8,["opts"])):"dateRange"==t.type?((0,i.wg)(),(0,i.j4)(C,{key:7,opts:t,class:"col"},null,8,["opts"])):(0,i.kq)("",!0),(0,i._)("div",o,[(0,i.Wm)(q,{class:"col",icon:"fas fa-trash",round:"",color:"negative",size:"sm",flat:"",onClick:(0,a.iM)((t=>e.removeItem(l)),["prevent"])},null,8,["onClick"]),(0,i._)("div",n,[l>0?((0,i.wg)(),(0,i.j4)(q,{key:0,icon:"fas fa-arrow-up",round:"",color:"primary",size:"sm",flat:"",onClick:(0,a.iM)((t=>e.moveItem(l,"up")),["prevent"]),class:"col"},null,8,["onClick"])):(0,i.kq)("",!0),l!=e.templateFields.length-1?((0,i.wg)(),(0,i.j4)(q,{key:1,icon:"fas fa-arrow-down",round:"",color:"primary",size:"sm",flat:"",onClick:(0,a.iM)((t=>e.moveItem(l,"down")),["prevent"]),class:"col"},null,8,["onClick"])):(0,i.kq)("",!0)])])])])))),128))])),_:1})])),_:1})])}l(71);var r=l(3617),d=l(9172),u=l(6397),p=l(5617),m=l(7050),g=l(6047),h=l(1550),f=l(5191),y=l(877);const w=(0,i.aZ)({name:"NewTemplate",data(){return{form:{name:"",category:""}}},components:{Date:d.Z,Text:u.Z,Number:p.Z,Textarea:m.Z,Select:g.Z,ICD10:h.Z,NumberRange:f.Z,DateRange:y.Z},computed:{...(0,r.Se)("helpers",["templateFields"]),...(0,r.Se)("clinicalNotes",["clinicalNotes","clinicalNotesGrouped"])},async mounted(){await this.$store.dispatch("clinicalNotes/fetchClinicalNotes")},methods:{removeItem(e){const t=this.templateFields.filter(((t,l)=>l!=e));this.$store.commit("helpers/setTemplateFields",t)},moveItem(e,t){this.templateFields[e];const l=[...this.templateFields],i="up"==t?e-1:e+1;console.log(e,i),l.splice(i,0,l.splice(e,1)[0]),this.$store.commit("helpers/setTemplateFields",l)}}});var b=l(4260),v=l(151),C=l(5589),q=l(3017),N=l(4842),D=l(2165),k=l(7518),x=l.n(k);const _=(0,b.Z)(w,[["render",c]]),T=_;x()(w,"components",{QCard:v.Z,QCardSection:C.Z,QSelect:q.Z,QInput:N.Z,QBtn:D.Z})},4019:(e,t,l)=>{l.d(t,{Z:()=>d});var i=l(3673),a=l(2323);const s={class:"text-uppercase text-weight-bold text-blue-grey-5"};function o(e,t,l,o,n,c){return(0,i.wg)(),(0,i.iD)("div",s,(0,a.zw)(e.text),1)}const n=(0,i.aZ)({props:["text"]});var c=l(4260);const r=(0,c.Z)(n,[["render",o]]),d=r},8452:(e,t,l)=>{l.d(t,{Z:()=>W});var i=l(3673),a=l(2323);const s={key:0,class:"text-h4 text-weight-light"},o={class:"row q-gutter-md col"},n={class:"col-auto column"},c=(0,i._)("div",{class:"col-auto text-xs text-uppercase"},"Name:",-1),r={class:"col text-md text-weight-medium"},d={class:"row q-gutter-md col"},u={class:"col-auto column"},p=(0,i._)("div",{class:"col-auto text-xs text-uppercase"},"Gender:",-1),m={class:"col text-md text-weight-medium"},g={class:"col-auto column"},h=(0,i._)("div",{class:"col-auto text-xs text-uppercase"},"Religion:",-1),f={class:"col text-md text-weight-medium"},y={class:"col-auto column"},w=(0,i._)("div",{class:"col-auto text-xs text-uppercase"},"Nationality:",-1),b={class:"col text-md text-weight-medium"},v={class:"col-auto column"},C=(0,i._)("div",{class:"col-auto text-xs text-uppercase"},"Birth Date:",-1),q={class:"col text-md text-weight-medium"};function N(e,t,l,N,D,k){const x=(0,i.up)("q-separator");return(0,i.wg)(),(0,i.iD)("div",null,[e.header?((0,i.wg)(),(0,i.iD)("div",s,(0,a.zw)(e.header),1)):(0,i.kq)("",!0),(0,i._)("div",o,[(0,i._)("div",n,[c,(0,i._)("div",r,(0,a.zw)(e.info.lastname)+" "+(0,a.zw)(e.info.firstname)+" "+(0,a.zw)(e.info.middlename),1)])]),(0,i._)("div",d,[(0,i._)("div",u,[p,(0,i._)("div",m,(0,a.zw)(e.info.gender),1)]),(0,i._)("div",g,[h,(0,i._)("div",f,(0,a.zw)(e.info.religion),1)]),(0,i._)("div",y,[w,(0,i._)("div",b,(0,a.zw)(e.info.nationality),1)]),(0,i._)("div",v,[C,(0,i._)("div",q,(0,a.zw)(new Date(e.info.birthdate).toDateString().substring(4,15)),1)])]),e.spaced?((0,i.wg)(),(0,i.j4)(x,{key:1,spaced:"lg",color:"primary"})):(0,i.kq)("",!0)])}const D=(0,i.aZ)({name:"Basic Info",props:["info","spaced","header"]});var k=l(4260),x=l(5869),_=l(7518),T=l.n(_);const Z=(0,k.Z)(D,[["render",N]]),W=Z;T()(D,"components",{QSeparator:x.Z})},303:(e,t,l)=>{l.d(t,{Z:()=>d});var i=l(3673);function a(e,t,l,a,s,o){const n=(0,i.up)("ApexCharts");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(n,{type:e.chartOptions.chart.type,height:"350",options:e.chartOptions,series:e.series},null,8,["type","options","series"])])}var s=l(2585),o=l.n(s);const n=(0,i.aZ)({components:{ApexCharts:o()},data(){return{series:[{name:"High - 2013",data:[28,29,33,36,32,32,33]},{name:"Low - 2013",data:[12,11,14,18,17,13,13]}],chartOptions:{series:{data:[44,55,41,17,15,33,44]},chart:{type:"line",height:350,stacked:!0,toolbar:{show:!0},zoom:{enabled:!0}},dataLabels:{enabled:!0},responsive:[{breakpoint:480,options:{legend:{position:"bottom",offsetX:-10,offsetY:0}}}],legend:{position:"right",offsetY:40},fill:{opacity:1},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul"],title:{text:"Month"}},yaxis:{title:{text:"Temperature"},min:5,max:100}}}}});var c=l(4260);const r=(0,c.Z)(n,[["render",a]]),d=r},250:(e,t,l)=>{l.d(t,{Z:()=>V});var i=l(3673),a=l(2323);const s={key:0,class:"row justify-center"},o={key:1},n={class:"q-mb-md"},c={class:"row q-gutter-md col"},r={class:"col-auto column"},d=(0,i._)("div",{class:"col-auto text-xs text-uppercase"},"Last Encounter:",-1),u={class:"col text-md text-weight-medium"},p={class:"col-auto column"},m=(0,i._)("div",{class:"col-auto text-xs text-uppercase"},"Status:",-1),g={class:"text-uppercase text-weight-bold text-blue-grey-5"},h=(0,i.Uk)(" Patient Details: "),f={class:"text-weight-medium text-sm text-primary"},y={class:"column q-ml-md"},w={class:"q-mb-md"},b=(0,i._)("div",{class:"text-uppercase text-weight-bold text-blue-grey-5"}," Allergies: ",-1),v={class:"row q-gutter-md"};function C(e,t,l,C,q,N){const D=(0,i.up)("q-circular-progress"),k=(0,i.up)("q-icon"),x=(0,i.up)("q-separator"),_=(0,i.up)("BasicInfo");return(0,i.wg)(),(0,i.iD)("div",null,[e.bools.isLoading?((0,i.wg)(),(0,i.iD)("div",s,[(0,i.Wm)(D,{indeterminate:"",size:"lg"})])):((0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",n,[(0,i._)("div",c,[(0,i._)("div",r,[d,(0,i._)("div",u,(0,a.zw)(new Date(e.info.lastEncounter).toDateString().substring(4,15)),1)]),(0,i._)("div",p,[m,(0,i._)("div",{class:(0,a.C_)(["col text-md text-weight-medium text-uppercase",e.info.isActive?"text-green":"text-red"])},[(0,i.Wm)(k,{name:"radio_button_checked",color:e.info.isActive?"green":"red"},null,8,["color"]),(0,i.Uk)(" "+(0,a.zw)(e.info.isActive?"Active":"Inactive"),1)],2)])]),(0,i.Wm)(x,{spaced:"lg",color:"primary"}),(0,i._)("div",g,[h,(0,i._)("span",f,(0,a.zw)(e.info.patientno),1)]),(0,i._)("div",y,[(0,i.Wm)(_,{info:e.info},null,8,["info"])])]),(0,i.Wm)(x,{spaced:"lg",color:"primary"}),(0,i._)("div",w,[b,(0,i._)("div",v,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.allergies,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"col-auto",key:e},[(0,i.Wm)(k,{name:"radio_button_checked",color:"green"}),(0,i.Uk)(" "+(0,a.zw)(e),1)])))),128))])])]))])}var q=l(8452);const N=(0,i.aZ)({name:"Patient Info",props:["patientno"],components:{BasicInfo:q.Z},data(){return{info:{},bools:{isLoading:!1},allergies:["Egg","Peanuts","Milk"]}},async mounted(){this.bools.isLoading=!0,this.info=await this.$store.dispatch("patients/getBasicInfo",this.patientno),this.bools.isLoading=!1}});var D=l(4260),k=l(6122),x=l(4554),_=l(5869),T=l(7518),Z=l.n(T);const W=(0,D.Z)(N,[["render",C]]),V=W;Z()(N,"components",{QCircularProgress:k.Z,QIcon:x.Z,QSeparator:_.Z})},7198:(e,t,l)=>{l.d(t,{Z:()=>Y});var i=l(3673),a=l(2323);const s={key:0,class:"row justify-center"},o={key:1},n={class:"row q-gutter-sm"},c={class:"col"},r={class:"col"},d={class:"q-mt-lg"},u={class:"text-right"};function p(e,t,l,p,m,g){const h=(0,i.up)("q-circular-progress"),f=(0,i.up)("ImagingResult"),y=(0,i.up)("LaboratoryResult"),w=(0,i.up)("Heading"),b=(0,i.up)("q-btn"),v=(0,i.up)("q-item-section"),C=(0,i.up)("q-item-label"),q=(0,i.up)("q-item"),N=(0,i.up)("q-list");return(0,i.wg)(),(0,i.iD)("div",null,[e.bools.isLoading?((0,i.wg)(),(0,i.iD)("div",s,[(0,i.Wm)(h,{indeterminate:"",size:"lg"})])):((0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",n,[(0,i._)("div",c,[(0,i.Wm)(f,{patientno:e.patientno},null,8,["patientno"])]),(0,i._)("div",r,[(0,i.Wm)(y,{patientno:e.patientno},null,8,["patientno"])])]),(0,i._)("div",d,[(0,i.Wm)(w,{text:"Consultation History"}),(0,i._)("div",null,[(0,i.Wm)(N,null,{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.history,((e,t)=>((0,i.wg)(),(0,i.j4)(q,{key:e,class:(0,a.C_)([t>=5?"hidden":"","row"])},{default:(0,i.w5)((()=>[(0,i.Wm)(v,{class:"text-center col-3"},{default:(0,i.w5)((()=>[(0,i._)("div",{class:(0,a.C_)(["text-weight-medium",0==t?"text-primary":"text-info"])},(0,a.zw)(new Date(e.date).toDateString()),3),(0,i.Wm)(b,{rounded:"",size:"sm",label:"View",color:"primary",flat:""})])),_:2},1024),(0,i.Wm)(v,{class:"col"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,a.zw)(e.physician)+" ",1),(0,i.Wm)(C,{caption:""},{default:(0,i.w5)((()=>[(0,i.Uk)((0,a.zw)(e.specialty),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["class"])))),128))])),_:1})]),(0,i._)("div",u,[(0,i.Wm)(b,{to:`/patient-record/laboratories/${e.$route.params.patientno}`,label:"View All",color:"primary",size:"sm",outline:"",rounded:""},null,8,["to"])])])]))])}l(246);const m={class:"row q-gutter-sm"},g={class:"col-auto text-weight-medium"},h={class:"col-auto"},f={key:0,class:"row justify-center"},y={key:1,class:"row"},w={key:2,class:"bg-red-2 q-pa-md"},b={key:3,class:"text-right"};function v(e,t,l,s,o,n){const c=(0,i.up)("q-card-section"),r=(0,i.up)("q-card"),d=(0,i.up)("q-dialog"),u=(0,i.up)("Heading"),p=(0,i.up)("q-circular-progress"),v=(0,i.up)("q-btn");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(d,{modelValue:e.bools.isDialogOpen,"onUpdate:modelValue":t[0]||(t[0]=t=>e.bools.isDialogOpen=t)},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{flat:"",bordered:""},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{class:"bg-blue-2"},{default:(0,i.w5)((()=>[(0,i._)("div",m,[(0,i._)("div",g,(0,a.zw)(e.activeResult.description),1),(0,i._)("div",h,(0,a.zw)(new Date(e.activeResult.resultDate).toDateString()),1)])])),_:1}),(0,i.Wm)(c,{class:"bg-blue-grey-1",style:{"white-space":"pre-wrap"}},{default:(0,i.w5)((()=>[(0,i.Uk)((0,a.zw)(e.activeResult.result),1)])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(u,{text:"Imaging Results"}),e.bools.isLoading?((0,i.wg)(),(0,i.iD)("div",f,[(0,i.Wm)(p,{indeterminate:"",size:"lg"})])):((0,i.wg)(),(0,i.iD)("div",y,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.results,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"col-auto",key:t},[(0,i.Wm)(v,{label:new Date(t.resultDate).toDateString().substring(4,15),flat:"",rounded:"",icon:"fas fa-eye",color:"primary",onClick:l=>e.showResult(t)},null,8,["label","onClick"])])))),128))])),0!=e.results.length||e.bools.isLoading?((0,i.wg)(),(0,i.iD)("div",b,[(0,i.Wm)(v,{to:`/patient-record/imaging/${e.$route.params.patientno}`,label:"View All",color:"primary",size:"sm",outline:"",rounded:""},null,8,["to"])])):((0,i.wg)(),(0,i.iD)("div",w," No result Available "))])}var C=l(4019);const q=(0,i.aZ)({name:"ImagingResults",components:{Heading:C.Z},props:["patientno"],data(){return{bools:{isLoading:!1},results:[],activeResult:{}}},methods:{showResult(e){this.activeResult=e,this.bools.isDialogOpen=!0}},async mounted(){this.bools.isLoading=!0,this.results=await this.$store.dispatch("patients/imagingResults",{patientno:this.patientno,fetchAll:!1}),console.log(this.results),this.bools.isLoading=!1}});var N=l(4260),D=l(6778),k=l(151),x=l(5589),_=l(2165),T=l(8870),Z=l(7704),W=l(6122),V=l(7518),I=l.n(V);const F=(0,N.Z)(q,[["render",v]]),M=F;I()(q,"components",{QDialog:D.Z,QCard:k.Z,QCardSection:x.Z,QBtn:_.Z,QTooltip:T.Z,QScrollArea:Z.Z,QCircularProgress:W.Z});var S=l(8880);const A={key:0,class:"row justify-center"},Q={key:1,class:"row"},R={key:2,class:"bg-red-2 q-pa-md"},$={key:3,class:"text-right"};function j(e,t,l,a,s,o){const n=(0,i.up)("Heading"),c=(0,i.up)("q-circular-progress"),r=(0,i.up)("q-btn");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(n,{text:"Laboratory Results"}),e.bools.isLoading?((0,i.wg)(),(0,i.iD)("div",A,[(0,i.Wm)(c,{indeterminate:"",size:"lg"})])):((0,i.wg)(),(0,i.iD)("div",Q,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.results,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"col-auto",key:t},[(0,i.Wm)(r,{label:new Date(t.resultDate).toDateString().substring(4,15),flat:"",rounded:"",icon:"fas fa-eye",color:"primary",onClick:(0,S.iM)((l=>e.showPdfResult(t.resultUrl)),["prevent"])},null,8,["label","onClick"])])))),128))])),0!=e.results.length||e.bools.isLoading?((0,i.wg)(),(0,i.iD)("div",$,[(0,i.Wm)(r,{to:`/patient-record/laboratories/${e.$route.params.patientno}`,label:"View All",color:"primary",size:"sm",outline:"",rounded:""},null,8,["to"])])):((0,i.wg)(),(0,i.iD)("div",R," No result Available "))])}const E=(0,i.aZ)({components:{Heading:C.Z},name:"LaboratoryResults",props:["patientno"],data(){return{bools:{isLoading:!1},results:[]}},methods:{async showPdfResult(e){const t=await this.$store.dispatch("helpers/getQnapAuth"),l=t.sid||"xxx",i=e.split("\\"),a=`https://qdata.uerm.edu.ph/cgi-bin/filemanager/utilRequest.cgi?sid=${l}&func=get_viewer&source_path=/LIS/${i[5]}&source_file=${i[6]}`;window.open(a)}},async mounted(){this.bools.isLoading=!0,this.results=await this.$store.dispatch("patients/laboratoryResults",{patientno:this.patientno,fetchAll:!1}),this.bools.isLoading=!1}}),U=(0,N.Z)(E,[["render",j]]),L=U;I()(E,"components",{QCircularProgress:W.Z,QBtn:_.Z});const z=(0,i.aZ)({props:["patientno"],components:{ImagingResult:M,LaboratoryResult:L,Heading:C.Z},data(){return{pno:"",bools:{isLoading:!1},history:[],imaging:[],laboratories:["2022-02-08","2022-01-15","2021-08-25","2021-05-03","2021-01-01"]}},async mounted(){this.bools.isLoading=!0,this.history=await this.$store.dispatch("patients/history",this.patientno),this.bools.isLoading=!1}});var O=l(7011),B=l(3414),P=l(2035),G=l(2350);const H=(0,N.Z)(z,[["render",p]]),Y=H;I()(z,"components",{QCircularProgress:W.Z,QList:O.Z,QItem:B.Z,QItemSection:P.Z,QBtn:_.Z,QItemLabel:G.Z})},8798:(e,t,l)=>{l.r(t),l.d(t,{default:()=>It});var i=l(3673);const a={class:"q-pa-md"},s={class:"q-mb-md row items-center justify-between"},o=(0,i._)("div",{class:"text-center text-weight-light text-h4"}," CLINICAL NOTE CATEGORIES ",-1),n={class:"text-center text-weight-light text-h4"},c={class:"q-pa-md"},r={key:0,class:"q-pa-md"},d={key:1,class:"q-pa-md"},u={class:"row q-col-gutter-md"},p={key:2,class:"row items-center justify-center",style:{height:"500px"}},m=(0,i._)("div",{class:"text-h5"},"NO SELECTED CATEGORY",-1),g=[m],h={class:"fixed-bottom-left row justify-center q-pb-md q-pl-md"},f={class:"fixed-bottom-right row justify-center q-pb-md q-pr-md"};function y(e,t,l,m,y,w){const b=(0,i.up)("q-btn"),v=(0,i.up)("q-icon"),C=(0,i.up)("q-input"),q=(0,i.up)("q-tree"),N=(0,i.up)("EditCategoryDetails"),D=(0,i.up)("EditClinicalNote"),k=(0,i.up)("ClinicalNoteTemplateDetails"),x=(0,i.up)("q-splitter"),_=(0,i.up)("AddClinicalNoteCategoryModal"),T=(0,i.up)("q-dialog"),Z=(0,i.up)("AddClinicalNoteModal"),W=(0,i.up)("q-fab-action"),V=(0,i.up)("q-fab"),I=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(I,null,{default:(0,i.w5)((()=>[(0,i._)("div",a,[(0,i._)("div",s,[o,(0,i._)("div",n,[(0,i.Wm)(b,{flat:"",onClick:t[0]||(t[0]=e=>this.$router.go(-1)),icon:"fa fa-arrow-left"})])]),(0,i.Wm)(x,{modelValue:e.splitterModel,"onUpdate:modelValue":t[4]||(t[4]=t=>e.splitterModel=t)},{before:(0,i.w5)((()=>[(0,i._)("div",c,[(0,i.Wm)(C,{ref:"filterRef",filled:"",modelValue:e.filter,"onUpdate:modelValue":t[1]||(t[1]=t=>e.filter=t),label:"Filter Clinical Category Notes"},{append:(0,i.w5)((()=>[""!==e.filter?((0,i.wg)(),(0,i.j4)(v,{key:0,name:"clear",class:"cursor-pointer",onClick:e.resetFilter},null,8,["onClick"])):(0,i.kq)("",!0)])),_:1},8,["modelValue"]),this.clinicalCategoryNotesTree.length>0?((0,i.wg)(),(0,i.j4)(q,{key:0,nodes:this.clinicalCategoryNotesTree,"default-expand-all":"","node-key":"code","label-key":"name","selected-color":"primary",selected:e.selectedCategory,"onUpdate:selected":t[2]||(t[2]=t=>e.selectedCategory=t),filter:e.filter},null,8,["nodes","selected","filter"])):(0,i.kq)("",!0)])])),after:(0,i.w5)((()=>[this.clinicalCategoryDetails.length>0?((0,i.wg)(),(0,i.iD)("div",r,[(0,i.Wm)(N,{clinicalCategoryDetails:this.clinicalCategoryDetails,inactiveInput:this.bools.inactiveInput,disableActions:this.bools.disableActions,ref:"categoryDetails"},null,8,["clinicalCategoryDetails","inactiveInput","disableActions"])])):this.clinicalNoteInfo.length>0?((0,i.wg)(),(0,i.iD)("div",d,[(0,i._)("div",u,[(0,i.Wm)(D,{class:"col-12",clinicalNotes:this.clinicalNoteInfo,disableInput:this.bools.disableInput,disableActions:this.bools.disableActions,ref:"clinicalNotes"},null,8,["clinicalNotes","disableInput","disableActions"]),(0,i.Wm)(k,{class:"col-12",clinicalNotes:this.clinicalNoteInfo,selectedVal:this.selectedCategory,selectedClinicalNote:this.selectedCategory,selectedClinicalNoteName:this.selectedClinicalNoteName,onRefreshNotes:t[3]||(t[3]=t=>e.fetchClinicalNotes())},null,8,["clinicalNotes","selectedVal","selectedClinicalNote","selectedClinicalNoteName"])])])):((0,i.wg)(),(0,i.iD)("div",p,g))])),_:1},8,["modelValue"]),(0,i.Wm)(T,{maximized:"",modelValue:e.addCategoryModal,"onUpdate:modelValue":t[6]||(t[6]=t=>e.addCategoryModal=t)},{default:(0,i.w5)((()=>[(0,i.Wm)(_,{onCloseDialog:t[5]||(t[5]=t=>e.addCategoryModal=!1)})])),_:1},8,["modelValue"]),(0,i.Wm)(T,{maximized:"",modelValue:e.addClinicalNoteModal,"onUpdate:modelValue":t[8]||(t[8]=t=>e.addClinicalNoteModal=t)},{default:(0,i.w5)((()=>[(0,i.Wm)(Z,{clinicalNoteCategory:this.clinicalCategoryCode,onCloseDialog:t[7]||(t[7]=t=>e.addClinicalNoteModal=!1)},null,8,["clinicalNoteCategory"])])),_:1},8,["modelValue"]),(0,i._)("div",h,[(0,i.Wm)(V,{color:"amber","text-color":"black",icon:"fas fa-plus",direction:"right"},{default:(0,i.w5)((()=>[(0,i.Wm)(W,{unelevated:"",square:"",label:"NEW CLINICAL NOTE CATEGORY",icon:"fas fa-plus-circle",color:"blue-3",class:"text-grey-9 bg-white",outline:"",disable:this.bools.disableActions,onClick:e.openClinicalNoteCategoryDialog},null,8,["disable","onClick"])])),_:1})]),(0,i._)("div",f,[this.bools.clinicalCategoryEditMode?((0,i.wg)(),(0,i.j4)(V,{key:0,color:"amber","text-color":"black",icon:"fas fa-plus",direction:"left"},{default:(0,i.w5)((()=>[(0,i.Wm)(W,{unelevated:"",square:"",label:"ADD NEW CLINICAL NOTES",icon:"fas fa-plus-circle",color:"blue-3",class:"text-grey-9 bg-white",outline:"",disable:this.bools.disableInput,onClick:e.openClinicalNoteDialog},null,8,["disable","onClick"]),(0,i.Wm)(W,{unelevated:"",square:"",label:"UPDATE",icon:"fas fa-plus-circle",color:"blue-3",class:"text-green bg-white",outline:"",disable:this.bools.disableInput,onClick:t[9]||(t[9]=t=>e.triggerUpdate("update"))},null,8,["disable"]),this.bools.disableInput?((0,i.wg)(),(0,i.j4)(W,{key:1,unelevated:"",square:"",label:"ACTIVATE",icon:"fas fa-check",color:"success",class:"text-white bg-green",outline:"",onClick:t[11]||(t[11]=t=>e.triggerUpdate("activate"))})):((0,i.wg)(),(0,i.j4)(W,{key:0,unelevated:"",square:"",label:"DEACTIVATE",icon:"fas fa-trash",color:"negative",class:"text-white bg-negative",outline:"",onClick:t[10]||(t[10]=t=>e.triggerUpdate("deactivate"))}))])),_:1})):(0,i.kq)("",!0)])])])),_:1})}l(246);var w=l(3617);const b=(0,i.Uk)("ADD CLINICAL NOTE CATEGORY"),v={class:"col-12"},C={class:"col-12"},q={class:"col-12"},N={class:"col-12"};function D(e,t,l,a,s,o){const n=(0,i.up)("q-card-section"),c=(0,i.up)("q-input"),r=(0,i.up)("q-select"),d=(0,i.up)("q-btn"),u=(0,i.up)("q-btn-group"),p=(0,i.up)("q-form"),m=(0,i.up)("q-card");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(m,{class:"full-height full-width"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{onSubmit:e.saveClinicalNoteCategory,ref:"formData"},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{class:"text-h5 text-weight-light bg-dark text-white"},{default:(0,i.w5)((()=>[b])),_:1}),(0,i.Wm)(n,null,{default:(0,i.w5)((()=>[(0,i._)("div",v,[(0,i.Wm)(c,{label:"Name",modelValue:e.addDetails.name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.addDetails.name=t),outlined:"",flat:"",color:"primary",rules:[e=>e&&e.length>0||"Please enter Name"]},null,8,["modelValue","rules"])]),(0,i._)("div",C,[(0,i.Wm)(c,{label:"Description",modelValue:e.addDetails.description,"onUpdate:modelValue":t[1]||(t[1]=t=>e.addDetails.description=t),outlined:"",type:"textarea",flat:"",color:"primary",hint:""},null,8,["modelValue"])]),(0,i._)("div",q,[(0,i.Wm)(r,{label:"Section Type",outlined:"","use-input":"",onFilter:e.filterFn,modelValue:e.addDetails.sectionType,"onUpdate:modelValue":t[2]||(t[2]=t=>e.addDetails.sectionType=t),options:e.sectionTypes,hint:""},null,8,["onFilter","modelValue","options"])]),(0,i._)("div",N,[(0,i.Wm)(r,{outlined:"","use-input":"",modelValue:e.addDetails.categoricalType,"onUpdate:modelValue":t[3]||(t[3]=t=>e.addDetails.categoricalType=t),options:e.categoricalTypes,label:"Categorical Type","emit-value":"","map-options":"",hint:""},null,8,["modelValue","options"])])])),_:1}),(0,i.Wm)(n,{class:"fixed-bottom text-h5 text-weight-light bg-dark text-white"},{default:(0,i.w5)((()=>[(0,i.Wm)(u,null,{default:(0,i.w5)((()=>[(0,i.Wm)(d,{type:"submit",label:"Save Clinical Note",color:"primary",icon:"fa fa-save"}),(0,i.Wm)(d,{label:"Close",color:"negative",onClick:e.closeDialog,icon:"fa fa-times"},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["onSubmit"])])),_:1})])}l(5363),l(7768);const k=(0,i.aZ)({name:"AddClinicalNOteCategoryModal",props:["clinicalNoteCategory"],data(){return{tab:"info",addDetails:[{name:"",description:"",sectionType:"",createdBy:"",categoricalType:""}],sectionTypes:["EHR","ENC"],categoricalTypes:[{label:"General Medical Notes",value:0},{label:"Visit Encounter Notes",value:1},{label:"Admission Encounter Notes",value:2}]}},methods:{async saveClinicalNoteCategory(){this.$refs.formData.validate().then((async e=>{if(!e)return!1;var t={code:this.addDetails.name.replaceAll(" ","").toLowerCase(),name:this.addDetails.name,description:this.addDetails.description,section_type:this.addDetails.sectionType,categorical_type:this.addDetails.categoricalType,created_by:"7679",panel:0,role_id:1},l=await this.$store.dispatch("clinicalNotes/saveClinicalNoteCategories",t);console.log(t,"final"),l.success?(this.showNotify("success",`Successfully saved Clinical ${t.name}`),this.$emit("closeAddDialog",!1)):(this.formErrorMessage=l,this.showNotify("error",l)),this.closeDialog()}))},showNotify(e,t){let l="";l="success"===e?"blue-10":"negative",this.$q.notify({progress:!0,message:t,color:l})},closeDialog(){this.$emit("closeDialog",!0)},filterFn(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.sectionTypes.value=this.sectionTypes.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.sectionTypes.value=this.sectionTypes})}}});var x=l(4260),_=l(151),T=l(5269),Z=l(5589),W=l(4842),V=l(3017),I=l(6375),F=l(2165),M=l(7518),S=l.n(M);const A=(0,x.Z)(k,[["render",D]]),Q=A;S()(k,"components",{QCard:_.Z,QForm:T.Z,QCardSection:Z.Z,QInput:W.Z,QSelect:V.Z,QBtnGroup:I.Z,QBtn:F.Z});var R=l(2323);const $={class:"row justify-between items-center"},j={class:"text-h5 text-weight-light"},E={class:"col-12"},U={class:"col-12"},L={class:"col-12"},z={class:"col-12"};function O(e,t,l,a,s,o){const n=(0,i.up)("q-card-section"),c=(0,i.up)("q-input"),r=(0,i.up)("q-select"),d=(0,i.up)("q-form"),u=(0,i.up)("q-card");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(u,{class:"full-height full-width"},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{onSubmit:e.saveClinicalNoteCategory,ref:"formData"},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{class:"text-weight-light bg-dark text-uppercase text-white"},{default:(0,i.w5)((()=>[(0,i._)("div",$,[(0,i._)("div",j," EDIT CLINICAL NOTE CATEGORY - "+(0,R.zw)(e.editDetails.name),1),(0,i._)("div",null,[(0,i._)("div",null," CREATED: "+(0,R.zw)(this.clinicalCategoryDetails[0].datetime_created),1),(0,i._)("div",null," UPDATED: "+(0,R.zw)(this.clinicalCategoryDetails[0].datetime_updated),1)])])])),_:1}),(0,i.Wm)(n,null,{default:(0,i.w5)((()=>[(0,i._)("div",E,[(0,i.Wm)(c,{label:"Name",modelValue:e.editDetails.name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.editDetails.name=t),outlined:"",flat:"",color:"primary",disable:this.inactiveInput||this.disableActions,rules:[e=>e&&e.length>0||"Please enter Name"]},null,8,["modelValue","disable","rules"])]),(0,i._)("div",U,[(0,i.Wm)(c,{label:"Description",modelValue:e.editDetails.description,"onUpdate:modelValue":t[1]||(t[1]=t=>e.editDetails.description=t),outlined:"",type:"textarea",flat:"",color:"primary",hint:"",disable:this.inactiveInput||this.disableActions},null,8,["modelValue","disable"])]),(0,i._)("div",L,[(0,i.Wm)(r,{label:"Section Type",outlined:"","use-input":"",onFilter:e.filterFn,modelValue:e.editDetails.sectionType,"onUpdate:modelValue":t[2]||(t[2]=t=>e.editDetails.sectionType=t),options:e.sectionTypes,disable:this.inactiveInput||this.disableActions,hint:""},null,8,["onFilter","modelValue","options","disable"])]),(0,i._)("div",z,[(0,i.Wm)(r,{outlined:"","use-input":"",modelValue:e.editDetails.categoricalType,"onUpdate:modelValue":t[3]||(t[3]=t=>e.editDetails.categoricalType=t),options:e.categoricalTypes,label:"Categorical Type","emit-value":"","map-options":"",hint:"",disable:this.inactiveInput||this.disableActions},null,8,["modelValue","options","disable"])])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])}const B=(0,i.aZ)({name:"EditCategoryDetails",props:["clinicalCategoryDetails","inactiveInput","disableActions"],data(){return{tab:"info",editDetails:{id:"",name:"",description:"",sectionType:"",updatedBy:"",active:"",categoricalType:"",inactive_by:""},sectionTypes:["EHR","ENC"],categoricalTypes:[{label:"General Medical Notes",value:0},{label:"Visit Encounter Notes",value:1},{label:"Admission Encounter Notes",value:2}]}},watch:{clinicalCategoryDetails(e){this.formatClinicalCategory()}},created(){this.formatClinicalCategory()},methods:{async formatClinicalCategory(){console.log(this.clinicalCategoryDetails,"teststes"),this.editDetails.id=this.clinicalCategoryDetails[0].id,this.editDetails.name=this.clinicalCategoryDetails[0].name,this.editDetails.description=this.clinicalCategoryDetails[0].description,this.editDetails.sectionType=this.clinicalCategoryDetails[0].section_type,"0"===this.clinicalCategoryDetails[0].categorical_type?this.editDetails.categoricalType="General Medical Notes":"1"===this.clinicalCategoryDetails[0].categorical_type?this.editDetails.categoricalType="Visit Encounter Notes":this.editDetails.categoricalType="Admission Encounter Notes",this.editDetails.active=this.clinicalCategoryDetails[0].active},async saveClinicalNoteCategory(){this.$refs.formData.validate().then((async e=>{if(!e)return!1;var t={name:this.editDetails.name,description:this.editDetails.description,section_type:this.editDetails.sectionType,categorical_type:this.editDetails.categoricalType,updated_by:"7679"};console.log(t,"dsklfdsklfdskljfdsjk");var l=await this.$store.dispatch("clinicalNotes/saveClinicalNoteCategories",t);console.log(l,"teststs"),l.length>0?(this.showNotify("success",`Successfully saved Clinical ${t.name}`),this.$emit("closeAddDialog",!1)):(this.formErrorMessage=l,this.showNotify("error",l)),this.closeDialog()}))},showNotify(e,t){let l="";l="success"===e?"blue-10":"negative",this.$q.notify({progress:!0,message:t,color:l})},closeDialog(){this.$emit("closeDialog",!0)},filterFn(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.sectionTypes.value=this.sectionTypes.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.sectionTypes.value=this.sectionTypes})}}}),P=(0,x.Z)(B,[["render",O]]),G=P;S()(B,"components",{QCard:_.Z,QForm:T.Z,QCardSection:Z.Z,QInput:W.Z,QSelect:V.Z});const H={class:"row justify-between items-center"},Y={class:"text-h5 text-weight-light"},K={class:"col-12"},J={class:"col-12"};function X(e,t,l,a,s,o){const n=(0,i.up)("q-card-section"),c=(0,i.up)("q-input"),r=(0,i.up)("q-form"),d=(0,i.up)("q-card");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(d,{class:"full-height full-width"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{onSubmit:e.saveClinicalNoteCategory,ref:"formData"},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{class:"text-weight-light bg-dark text-uppercase text-white"},{default:(0,i.w5)((()=>[(0,i._)("div",H,[(0,i._)("div",Y," EDIT CLINICAL NOTE - "+(0,R.zw)(e.editDetails.name),1),(0,i._)("div",null,[(0,i._)("div",null," CREATED: "+(0,R.zw)(this.clinicalNotes[0].datetime_created),1),(0,i._)("div",null," UPDATED: "+(0,R.zw)(this.clinicalNotes[0].datetime_updated),1)])])])),_:1}),(0,i.Wm)(n,null,{default:(0,i.w5)((()=>[(0,i._)("div",K,[(0,i.Wm)(c,{label:"Name",modelValue:e.editDetails.name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.editDetails.name=t),outlined:"",flat:"",color:"primary",disable:this.disableInput||this.disableActions,rules:[e=>e&&e.length>0||"Please enter Name"]},null,8,["modelValue","disable","rules"])]),(0,i._)("div",J,[(0,i.Wm)(c,{label:"Description",modelValue:e.editDetails.description,"onUpdate:modelValue":t[1]||(t[1]=t=>e.editDetails.description=t),outlined:"",type:"textarea",flat:"",color:"primary",hint:"",disable:this.disableInput||this.disableActions},null,8,["modelValue","disable"])])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])}const ee=(0,i.aZ)({name:"EditClinicalNoteDetails",props:["clinicalNotes","disableInput","disableActions"],data(){return{tab:"info",editDetails:{id:"",name:"",description:"",sectionType:"",updatedBy:"",active:"",inactive_by:"",clinicalCategoryCode:""},sectionTypes:["EHR","ENC"]}},watch:{clinicalNotes(e){console.log(e,"val"),this.formatData()}},created(){console.log(this.clinicalNotes),this.formatData()},methods:{async formatData(){this.editDetails.id=this.clinicalNotes[0].id,this.editDetails.name=this.clinicalNotes[0].name,this.editDetails.description=this.clinicalNotes[0].description,this.editDetails.active=this.clinicalNotes[0].active,this.editDetails.clinicalCategoryCode=this.clinicalNotes[0].clinical_category_code},async saveClinicalNoteCategory(){this.$refs.formData.validate().then((async e=>{if(!e)return!1;var t={name:this.editDetails.name,description:this.editDetails.description,section_type:this.editDetails.sectionType,updated_by:"7679"},l=await this.$store.dispatch("clinicalNotes/saveClinicalNoteCategories",t);l.success?(this.showNotify("success",`Successfully saved Clinical ${t.name}`),this.$emit("closeAddDialog",!1)):(this.formErrorMessage=l,this.showNotify("error",l)),this.closeDialog()}))},showNotify(e,t){let l="";l="success"===e?"blue-10":"negative",this.$q.notify({progress:!0,message:t,color:l})},closeDialog(){this.$emit("closeDialog",!0)},filterFn(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.sectionTypes.value=this.sectionTypes.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.sectionTypes.value=this.sectionTypes})}}}),te=(0,x.Z)(ee,[["render",X]]),le=te;S()(ee,"components",{QCard:_.Z,QForm:T.Z,QCardSection:Z.Z,QInput:W.Z});const ie=(0,i.Uk)("ADD CLINICAL NOTES"),ae={class:"col-12"},se={class:"col-12"};function oe(e,t,l,a,s,o){const n=(0,i.up)("q-card-section"),c=(0,i.up)("q-btn"),r=(0,i.up)("q-input"),d=(0,i.up)("q-card"),u=(0,i.up)("q-scroll-area"),p=(0,i.up)("q-btn-group"),m=(0,i.up)("q-form");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(d,{class:"full-height full-width"},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{onSubmit:e.saveClinicalNote,ref:"clinicalNote"},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{class:"text-h5 text-weight-light bg-dark text-white"},{default:(0,i.w5)((()=>[ie])),_:1}),(0,i.Wm)(n,null,{default:(0,i.w5)((()=>[(0,i.Wm)(u,{visible:"",style:{height:"800px"}},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.clinicalNoteInfo,((t,l)=>((0,i.wg)(),(0,i.iD)("div",{class:"row q-pa-md",key:l},[(0,i.Wm)(d,{class:"col-12 q-pa-md"},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{align:"right"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{round:"",color:"negative",class:"absolute",style:{top:"0",transform:"translateY(-60%)"},icon:"fa fa-times",onClick:t=>e.removeClinicalNote(l)},null,8,["onClick"])])),_:2},1024),(0,i._)("div",ae,[(0,i.Wm)(r,{label:"Name",modelValue:t.name,"onUpdate:modelValue":e=>t.name=e,outlined:"",flat:"",color:"primary",rules:[e=>e&&e.length>0||"Please enter Name"]},null,8,["modelValue","onUpdate:modelValue","rules"])]),(0,i._)("div",se,[(0,i.Wm)(r,{type:"textarea",label:"Description",outlined:"",flat:"",color:"primary",modelValue:t.description,"onUpdate:modelValue":e=>t.description=e},null,8,["modelValue","onUpdate:modelValue"])])])),_:2},1024)])))),128))])),_:1})])),_:1}),(0,i.Wm)(n,{class:"fixed-bottom text-h5 text-weight-light bg-dark text-white"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[(0,i.Wm)(c,{label:"Add Clinical Note",onClick:e.addClinicalNote,color:"green",icon:"fa fa-plus"},null,8,["onClick"]),(0,i.Wm)(c,{type:"submit",label:"Save Clinical Note",color:"primary",icon:"fa fa-save"}),(0,i.Wm)(c,{label:"Close",color:"negative",onClick:e.closeDialog,icon:"fa fa-times"},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["onSubmit"])])),_:1})])}l(71);const ne=(0,i.aZ)({name:"AddClinicalNoteModal",props:["clinicalNoteCategory"],data(){return{tab:"info",clinicalNoteInfo:[{name:"",description:"",clinicalCategory:""}]}},computed:{...(0,w.Se)({clinicalCategoryList:"clinicalNotes/clinicalCategoryList"})},created(){this.clinicalNoteInfo[0].clinicalCategory=this.clinicalNoteCategory},methods:{async saveClinicalNote(){this.$refs.clinicalNote.validate().then((async e=>{if(!e)return!1;for(var t of this.clinicalNoteInfo){var l={code:t.name.replaceAll(" ","").toLowerCase(),name:t.name,description:t.description,categoryCode:t.clinicalCategory};console.log(l);var i=await this.$store.dispatch("clinicalNotes/saveClinicalNotes",l)}i.success?(this.showNotify("success","Successfully saved Clinical Note(s)"),this.$emit("closeAddDialog",!1)):(this.formErrorMessage=i.message,this.showNotify("error",i.message)),this.closeDialog()}))},addClinicalNote(){var e={name:"",description:"",clinicalCategory:this.clinicalNoteCategory};this.clinicalNoteInfo.push(e)},removeClinicalNote(e){const t=Array.from(this.clinicalNoteInfo);t.splice(e,1),this.clinicalNoteInfo=t},showNotify(e,t){let l="";l="success"===e?"blue-10":"negative",this.$q.notify({progress:!0,message:t,color:l})},closeDialog(){this.$emit("closeDialog",!0)}}});var ce=l(7704);const re=(0,x.Z)(ne,[["render",oe]]),de=re;S()(ne,"components",{QCard:_.Z,QForm:T.Z,QCardSection:Z.Z,QScrollArea:ce.Z,QBtn:F.Z,QInput:W.Z,QBtnGroup:I.Z});const ue={class:"row justify-between items-center"},pe={class:"text-h5 text-weight-light"},me={key:0,class:"row justify-center"},ge={key:1,class:"text-h5 text-weight-light"},he=(0,i._)("div",{class:"text-h5 text-weight-light"},"LOADING",-1);function fe(e,t,l,a,s,o){const n=(0,i.up)("q-btn"),c=(0,i.up)("q-card-section"),r=(0,i.up)("q-btn-group"),d=(0,i.up)("q-spinner-gears"),u=(0,i.up)("q-inner-loading"),p=(0,i.up)("q-card"),m=(0,i.up)("ClinicalFields"),g=(0,i.up)("q-dialog"),h=(0,i.up)("EditTemplateDialog"),f=(0,i.up)("ViewTemplate");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[(0,i.Wm)(c,{class:"text-weight-light bg-dark text-uppercase text-white"},{default:(0,i.w5)((()=>[(0,i._)("div",ue,[(0,i._)("div",pe," CLINICAL NOTE TEMPLATES - "+(0,R.zw)(this.selectedClinicalNoteName),1),(0,i._)("div",null,[(0,i.Wm)(n,{label:"Add Clinical Note Template",color:"green",onClick:e.openDialog},null,8,["onClick"])])])])),_:1}),this.loading?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(c,{key:0,align:"center"},{default:(0,i.w5)((()=>[this.clinicalTemplate.length>0?((0,i.wg)(),(0,i.iD)("div",me,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(this.clinicalTemplate,((t,l)=>((0,i.wg)(),(0,i.iD)("div",{class:"q-pa-md",key:l},[(0,i._)("div",null,[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i.Wm)(n,{rounded:"",label:t.code,color:"yellow-10",onClick:l=>e.editClinicalNoteTemplate(t)},null,8,["label","onClick"]),(0,i.Wm)(n,{rounded:"",icon:"fa fa-eye",color:"yellow-9",onClick:l=>e.viewTemplate(t)},null,8,["onClick"])])),_:2},1024)])])))),128))])):((0,i.wg)(),(0,i.iD)("div",ge," NO TEMPLATE AVAILABLE "))])),_:1})),this.loading?((0,i.wg)(),(0,i.j4)(c,{key:1,align:"center"},{default:(0,i.w5)((()=>[he])),_:1})):(0,i.kq)("",!0),(0,i.Wm)(u,{showing:this.loading},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{size:"50px",color:"dark"})])),_:1},8,["showing"])])),_:1}),(0,i.Wm)(g,{square:"",modelValue:e.dialog,"onUpdate:modelValue":t[1]||(t[1]=t=>e.dialog=t),maximized:""},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{clinicalNoteInfo:this.clinicalNotes[0],onCloseDialog:t[0]||(t[0]=t=>e.dialog=!1)},null,8,["clinicalNoteInfo"])])),_:1},8,["modelValue"]),(0,i.Wm)(g,{square:"",modelValue:e.editDialog,"onUpdate:modelValue":t[4]||(t[4]=t=>e.editDialog=t),"full-height":"","full-width":"",maximized:""},{default:(0,i.w5)((()=>[(0,i.Wm)(h,{selectedClinicalNote:this.selectedClinicalNote,templateDetails:this.templateDetails,onCloseEdit:t[2]||(t[2]=t=>e.editDialog=!1),onRefreshNotes:t[3]||(t[3]=t=>e.refresh())},null,8,["selectedClinicalNote","templateDetails"])])),_:1},8,["modelValue"]),(0,i.Wm)(g,{modelValue:e.viewDialog,"onUpdate:modelValue":t[6]||(t[6]=t=>e.viewDialog=t),"full-height":"","full-width":"",maximized:""},{default:(0,i.w5)((()=>[(0,i.Wm)(f,{onCloseDialog:t[5]||(t[5]=t=>e.viewDialog=!1),templateFormat:e.viewTemplateDetails},null,8,["templateFormat"])])),_:1},8,["modelValue"])])}var ye=l(8880);const we={ref:"newTemplate"},be=(0,i._)("div",{class:"row justify-between items-center"},[(0,i._)("div",{class:"text-h5 text-weight-light"}," ADD NEW CLINICAL NOTE TEMPLATES ")],-1),ve={class:"q-pa-md"},Ce={class:"row"},qe={class:"q-pl-md row q-gutter-md"},Ne={class:"column col"},De={key:0,class:"flex flex-center"},ke={key:1,class:"row justify-center"};function xe(e,t,l,a,s,o){const n=(0,i.up)("q-card-section"),c=(0,i.up)("q-input"),r=(0,i.up)("Date"),d=(0,i.up)("Text"),u=(0,i.up)("Number"),p=(0,i.up)("Textarea"),m=(0,i.up)("Select"),g=(0,i.up)("ICD10"),h=(0,i.up)("q-btn"),f=(0,i.up)("q-btn-group"),y=(0,i.up)("Fields"),w=(0,i.up)("q-card");return(0,i.wg)(),(0,i.iD)("div",we,[(0,i.Wm)(w,{square:"",class:"full-height full-width"},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{class:"text-weight-light bg-dark text-uppercase text-white"},{default:(0,i.w5)((()=>[be])),_:1}),(0,i.Wm)(n,null,{default:(0,i.w5)((()=>[(0,i._)("div",ve,[(0,i.Wm)(c,{label:"Template Name","stack-label":"",outlined:"",modelValue:e.form.name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.form.name=t)},null,8,["modelValue"])]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.templateFields,((t,l)=>((0,i.wg)(),(0,i.iD)("div",{class:"q-py-sm",key:t},[(0,i._)("div",Ce,["date"==t.type?((0,i.wg)(),(0,i.j4)(r,{key:0,opts:t,class:"col"},null,8,["opts"])):"text"==t.type?((0,i.wg)(),(0,i.j4)(d,{key:1,opts:t,class:"col"},null,8,["opts"])):"number"==t.type?((0,i.wg)(),(0,i.j4)(u,{key:2,opts:t,class:"col"},null,8,["opts"])):"textarea"==t.type?((0,i.wg)(),(0,i.j4)(p,{key:3,opts:t,class:"col"},null,8,["opts"])):"select"==t.type?((0,i.wg)(),(0,i.j4)(m,{key:4,opts:t,class:"col"},null,8,["opts"])):"icd10"==t.type?((0,i.wg)(),(0,i.j4)(g,{key:5,opts:t,class:"col"},null,8,["opts"])):(0,i.kq)("",!0),(0,i._)("div",qe,[(0,i.Wm)(h,{class:"col",icon:"fas fa-trash",round:"",color:"negative",size:"sm",flat:"",onClick:(0,ye.iM)((t=>e.removeItem(l)),["prevent"])},null,8,["onClick"]),(0,i._)("div",Ne,[l>0?((0,i.wg)(),(0,i.j4)(h,{key:0,icon:"fas fa-arrow-up",round:"",color:"primary",size:"sm",flat:"",onClick:(0,ye.iM)((t=>e.moveItem(l,"up")),["prevent"]),class:"col"},null,8,["onClick"])):(0,i.kq)("",!0),l!=e.templateFields.length-1?((0,i.wg)(),(0,i.j4)(h,{key:1,icon:"fas fa-arrow-down",round:"",color:"primary",size:"sm",flat:"",onClick:(0,ye.iM)((t=>e.moveItem(l,"down")),["prevent"]),class:"col"},null,8,["onClick"])):(0,i.kq)("",!0)])])])])))),128)),this.fieldsShow?((0,i.wg)(),(0,i.iD)("div",ke,[(0,i.Wm)(y,{onSetFields:e.setFields,clinicalNoteDialog:!1},null,8,["onSetFields"])])):((0,i.wg)(),(0,i.iD)("div",De,[(0,i.Wm)(f,null,{default:(0,i.w5)((()=>[this.templateFields.length>0?((0,i.wg)(),(0,i.j4)(h,{key:0,push:"",color:"positive",label:"Save Template",icon:"fas fa-save",unelevated:"",onClick:(0,ye.iM)(e.saveTemplate,["prevent"])},null,8,["onClick"])):(0,i.kq)("",!0),(0,i.Wm)(h,{push:"",color:"teal",label:"Add Fields",icon:"fas fa-plus",unelevated:"",onClick:(0,ye.iM)(e.showFields,["prevent"])},null,8,["onClick"])])),_:1})]))])),_:1})])),_:1})],512)}var _e=l(9172),Te=l(6397),Ze=l(5617),We=l(7050),Ve=l(6047),Ie=l(1550),Fe=l(7526);const Me=(0,i.aZ)({name:"ClinicalFields",props:["clinicalNoteInfo"],data(){return{form:{name:"",clinicalNoteCode:""},fieldsShow:!1}},components:{Date:_e.Z,Text:Te.Z,Number:Ze.Z,Textarea:We.Z,Select:Ve.Z,ICD10:Ie.Z,Fields:Fe.Z},computed:{...(0,w.Se)("helpers",["templateFields"]),...(0,w.Se)("clinicalNotes",["clinicalInputTypes"])},async mounted(){this.setInitValues(),this.form.clinicalNoteCode=this.clinicalNoteInfo.code,await this.$store.dispatch("clinicalNotes/fetchClinicalInputTypes")},methods:{removeItem(e){const t=this.templateFields.filter(((t,l)=>l!=e));this.$store.commit("helpers/setTemplateFields",t)},moveItem(e,t){this.templateFields[e];const l=[...this.templateFields],i="up"==t?e-1:e+1;console.log(e,i),l.splice(i,0,l.splice(e,1)[0]),this.$store.commit("helpers/setTemplateFields",l)},async saveTemplate(){const e=this.form;e.fields=this.templateFields;let t=[],l="7679";for(const[s,o]of e.fields.entries()){const i=this.clinicalInputTypes.filter((e=>e.code===o.type)),a={clinicalNoteTemplateCode:e.name.toLowerCase().replaceAll(" ","").replaceAll("-",""),type:o.type,inputId:i[0].id,code:`${e.clinicalNoteCode}${o.label}`.toLowerCase().replaceAll(" ","").replaceAll("-",""),name:o.label,required:o.required,requiredMessage:o.requiredMessage,options:o.options,sequence:s+1,createdBy:l,active:1};t.push(a)}const i={clinicalNoteTemplateCode:e.name.toLowerCase().replaceAll(" ","").replaceAll("-",""),clinicalNoteTemplateName:e.name,clinicalNoteCode:e.clinicalNoteCode,createdBy:l,clinicalNoteTemplateFields:t};console.log(i);const a=await this.$store.dispatch("clinicalNotes/saveClinicalNoteTemplateFields",i);console.log(a),a.length>0&&(this.showNotify("success","Clinical Note Template Created"),this.closeDialog())},showNotify(e,t){let l="";l="success"===e?"blue-10":"negative",this.$q.notify({progress:!0,message:t,color:l})},closeDialog(){this.$emit("closeDialog",!0)},showFields(){this.fieldsShow=!0},setFields(e){console.log(e,"valvbalvavla"),this.$store.commit("helpers/setTemplateFields",e),this.fieldsShow=!1},setInitValues(){this.$store.commit("helpers/setTemplateFields",[]),this.form.name="",this.form.clinicalNoteCode="",this.fieldsShow=!1}}});var Se=l(9367);const Ae=(0,x.Z)(Me,[["render",xe]]),Qe=Ae;S()(Me,"components",{QCard:_.Z,QCardSection:Z.Z,QInput:W.Z,QBtn:F.Z,QBtnGroup:I.Z,QCardActions:Se.Z});const Re={class:"full-height full-width"},$e={key:0,class:"row justify-center"},je={key:1};function Ee(e,t,l,a,s,o){const n=(0,i.up)("q-circular-progress"),c=(0,i.up)("FieldSets");return(0,i.wg)(),(0,i.iD)("div",Re,[e.bools.isLoading?((0,i.wg)(),(0,i.iD)("div",$e,[(0,i.Wm)(n,{indeterminate:"",size:"lg",color:"primary"})])):((0,i.wg)(),(0,i.iD)("div",je,[(0,i.Wm)(c,{onSetFields:e.updateFields,editTemplate:!0,ref:"updateField",onCloseDialog:t[0]||(t[0]=t=>e.closeEdit()),templateDetails:this.templateDetails},null,8,["onSetFields","templateDetails"])]))])}const Ue={class:"row items-center justify-between"},Le={key:0},ze={class:"absolute-top-right"},Oe={class:"row bg-blue-grey-2 q-pa-sm q-mt-sm q-gutter-md"},Be={class:"col"},Pe={class:"col-auto"},Ge={class:"col-auto"},He={key:0,class:"col"},Ye={key:1,class:"col-12"},Ke={key:2,class:"col"},Je=(0,i._)("div",{class:"text-h5 text-weight-light flex flex-center q-pb-xl q-mb-xl",align:"center"}," LOADING ... ",-1);function Xe(e,t,l,a,s,o){const n=(0,i.up)("q-btn"),c=(0,i.up)("q-card-section"),r=(0,i.up)("q-card-actions"),d=(0,i.up)("Date"),u=(0,i.up)("Text"),p=(0,i.up)("TextAutogrow"),m=(0,i.up)("Number"),g=(0,i.up)("Textarea"),h=(0,i.up)("Select"),f=(0,i.up)("ICD10"),y=(0,i.up)("NumberRange"),w=(0,i.up)("DateRange"),b=(0,i.up)("q-input"),v=(0,i.up)("q-toggle"),C=(0,i.up)("q-card"),q=(0,i.up)("q-scroll-area"),N=(0,i.up)("q-spinner-box"),D=(0,i.up)("q-inner-loading"),k=(0,i.up)("q-btn-group"),x=(0,i.up)("q-form");return(0,i.wg)(),(0,i.j4)(C,{class:"bg-white",square:""},{default:(0,i.w5)((()=>[(0,i.Wm)(x,{class:"q-px-smq-pb-md bg-white",style:{height:"90%"},ref:"editData"},{default:(0,i.w5)((()=>[e.visible?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(c,{key:0,class:"bg-grey-2 text-uppercase q-mb-xl text-h5 text-weight-light fixed-top fit",align:"center"},{default:(0,i.w5)((()=>[(0,i._)("div",Ue,[(0,i._)("div",null,(0,R.zw)(this.templateDetails.name),1),(0,i._)("div",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.buttons,(t=>((0,i.wg)(),(0,i.j4)(n,{color:"green",key:t,label:t.label,onClick:(0,ye.iM)((l=>e.addField(t.type)),["prevent"]),rounded:"",icon:t.icon,class:"q-ma-sm"},null,8,["label","onClick","icon"])))),128))])])])),_:1})),e.visible?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(c,{key:1,class:"bg-white q-pb-xl full-height",style:{"margin-top":"75px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(q,{visible:!0,style:{height:"80vh"},ref:"scrollArea"},{default:(0,i.w5)((()=>[e.hasSelected?((0,i.wg)(),(0,i.iD)("div",Le,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.fields,((t,l)=>((0,i.wg)(),(0,i.iD)("div",{key:t},[(0,i._)("div",null,[(0,i.Wm)(C,{class:"q-my-md bg-grey-3",flat:""},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{class:"text-h6 text-weight-light text-white bg-blue-grey-5 text-uppercase"},{default:(0,i.w5)((()=>[l>0?((0,i.wg)(),(0,i.j4)(n,{key:0,icon:"fas fa-arrow-up",round:"",color:"white",size:"md",flat:"",onClick:(0,ye.iM)((t=>e.moveItem(l,"up")),["prevent"]),class:"col"},null,8,["onClick"])):(0,i.kq)("",!0),l!=e.templateFields.length-1?((0,i.wg)(),(0,i.j4)(n,{key:1,icon:"fas fa-arrow-down",round:"",color:"white",size:"md",flat:"",onClick:(0,ye.iM)((t=>e.moveItem(l,"down")),["prevent"]),class:"col"},null,8,["onClick"])):(0,i.kq)("",!0),(0,i.Uk)(" "+(0,R.zw)(t.type)+" ",1),(0,i._)("div",ze,[(0,i.Wm)(r,{align:"right"},{default:(0,i.w5)((()=>["old"===t.status?((0,i.wg)(),(0,i.j4)(n,{key:0,label:t.active?"Deactivate":"Activate",size:"sm","icon-right":t.active?"fas fa-trash":"fas fa-check",color:t.active?"red":"green",rounded:"",unelevated:"",onClick:i=>e.toggleActivate(l,t.active)},null,8,["label","icon-right","color","onClick"])):((0,i.wg)(),(0,i.j4)(n,{key:1,label:"Remove",size:"sm","icon-right":"fas fa-times",color:"negative",rounded:"",unelevated:"",onClick:t=>e.removeField(l)},null,8,["onClick"]))])),_:2},1024)])])),_:2},1024),(0,i.Wm)(c,null,{default:(0,i.w5)((()=>["date"==t.type?((0,i.wg)(),(0,i.j4)(d,{key:0,opts:{label:t.label,requiredMessage:t.requiredMessage,required:t.required,title:t.selectedTitle,disable:0===t.active}},null,8,["opts"])):"text"==t.type?((0,i.wg)(),(0,i.j4)(u,{key:1,opts:{label:t.label,requiredMessage:t.requiredMessage,required:t.required,title:t.selectedTitle,disable:0===t.active}},null,8,["opts"])):"textAutogrow"==t.type?((0,i.wg)(),(0,i.j4)(p,{key:2,opts:{label:t.label,requiredMessage:t.requiredMessage,required:t.required,title:t.selectedTitle,disable:0===t.active}},null,8,["opts"])):"number"==t.type?((0,i.wg)(),(0,i.j4)(m,{key:3,opts:{label:t.label,requiredMessage:t.requiredMessage,required:t.required,title:t.selectedTitle,disable:0===t.active}},null,8,["opts"])):"textarea"==t.type?((0,i.wg)(),(0,i.j4)(g,{key:4,opts:{label:t.label,requiredMessage:t.requiredMessage,required:t.required,title:t.selectedTitle,disable:0===t.active}},null,8,["opts"])):"select"==t.type?((0,i.wg)(),(0,i.j4)(h,{key:5,opts:{label:t.label,requiredMessage:t.requiredMessage,required:t.required,title:t.selectedTitle,disable:0===t.active,options:t.options}},null,8,["opts"])):"icd10"==t.type?((0,i.wg)(),(0,i.j4)(f,{key:6,opts:{label:t.label,requiredMessage:t.requiredMessage,required:t.required,title:t.selectedTitle,disable:0===t.active}},null,8,["opts"])):"numberRange"==t.type?((0,i.wg)(),(0,i.j4)(y,{key:7,opts:{label:t.label,requiredMessage:t.requiredMessage,required:t.required,title:t.selectedTitle,disable:0===t.active}},null,8,["opts"])):"dateRange"==t.type?((0,i.wg)(),(0,i.j4)(w,{key:8,opts:{label:t.label,requiredMessage:t.requiredMessage,required:t.required,title:t.selectedTitle,disable:0===t.active}},null,8,["opts"])):(0,i.kq)("",!0),(0,i._)("div",Oe,[(0,i._)("div",Be,[(0,i.Wm)(b,{modelValue:t.label,"onUpdate:modelValue":e=>t.label=e,label:"Label","error-message":t.requiredMessage,rules:[e=>e&&e.length>0||"Please enter Label"],ref_for:!0,ref:"input",disable:0===t.active},null,8,["modelValue","onUpdate:modelValue","error-message","rules","disable"])]),(0,i._)("div",Pe,[(0,i.Wm)(v,{label:"Required",modelValue:t.required,"onUpdate:modelValue":e=>t.required=e,disable:0===t.active},null,8,["modelValue","onUpdate:modelValue","disable"])]),(0,i._)("div",Ge,[(0,i.Wm)(v,{label:"Title",modelValue:t.selectedTitle,"onUpdate:modelValue":e=>t.selectedTitle=e,disable:0===t.selectedTitle,onClick:l=>e.titleSelected(t)},null,8,["modelValue","onUpdate:modelValue","disable","onClick"])]),t.required?((0,i.wg)(),(0,i.iD)("div",He,[(0,i.Wm)(b,{label:"Required text",modelValue:t.requiredMessage,"onUpdate:modelValue":e=>t.requiredMessage=e,disable:0===t.active},null,8,["modelValue","onUpdate:modelValue","disable"])])):(0,i.kq)("",!0),"select"==t.type?((0,i.wg)(),(0,i.iD)("div",Ye)):(0,i.kq)("",!0),"select"==t.type?((0,i.wg)(),(0,i.iD)("div",Ke,[(0,i.Wm)(b,{label:"Options (seperate by comma)",modelValue:t.options,"onUpdate:modelValue":e=>t.options=e},null,8,["modelValue","onUpdate:modelValue"])])):(0,i.kq)("",!0)])])),_:2},1024)])),_:2},1024)])])))),128))])):(0,i.kq)("",!0)])),_:1},512)])),_:1})),this.visible?((0,i.wg)(),(0,i.j4)(c,{key:2,style:{height:"100vh"}})):(0,i.kq)("",!0),(0,i.Wm)(D,{showing:e.visible,class:"q-pt-xl q-mt-xl"},{default:(0,i.w5)((()=>[(0,i.Wm)(N,{size:"150px",color:"primary"}),Je])),_:1},8,["showing"]),(0,i.Wm)(r,{align:"right",class:"bg-grey-2 fixed-bottom"},{default:(0,i.w5)((()=>[(0,i.Wm)(k,null,{default:(0,i.w5)((()=>[void 0===this.editTemplate?((0,i.wg)(),(0,i.j4)(n,{key:0,class:"col",color:"primary",label:"Set Fields",icon:"fas fa-save",disable:!e.hasSelected,flat:!e.hasSelected,onClick:t[0]||(t[0]=t=>e.$emit("setFields",e.fields))},null,8,["disable","flat"])):(0,i.kq)("",!0),this.editTemplate?((0,i.wg)(),(0,i.j4)(n,{key:1,class:"col",color:"primary",label:"Update Template",icon:"fas fa-save",disable:!e.hasSelected,flat:!e.hasSelected,onClick:t[1]||(t[1]=t=>e.$emit("setFields",e.fields))},null,8,["disable","flat"])):(0,i.kq)("",!0),(0,i.Wm)(n,{class:"col-auto",color:"negative",label:"Close",flat:!e.hasSelected,icon:"fas fa-times",onClick:t[2]||(t[2]=t=>e.$emit("closeDialog",!0))},null,8,["flat"])])),_:1})])),_:1})])),_:1},512)])),_:1})}l(6801);var et=l(5191),tt=l(877),lt=l(9355);const it=(0,i.aZ)({name:"FieldSets",props:["clinicalNoteDialog","editTemplate","templateDetails"],components:{Date:_e.Z,Text:Te.Z,Number:Ze.Z,Textarea:We.Z,Select:Ve.Z,ICD10:Ie.Z,NumberRange:et.Z,DateRange:tt.Z,TextAutogrow:lt.Z},methods:{parseOptions(e){return e.split(",").map((e=>e.trim()))},async addField(e){this.visible=!0;const t={type:e,label:"",required:!1,requiredMessage:"",options:"",active:1};this.fields.push(t),await new Promise((e=>{setTimeout((()=>{this.visible=!1,e()}),1500)})),this.$refs["input"][this.fields.length-1].focus(),this.$refs.scrollArea.setScrollPosition("vertical",1e5)},moveItem(e,t){this.templateFields[e];const l=[...this.templateFields],i="up"==t?e-1:e+1;l.splice(i,0,l.splice(e,1)[0]),this.$store.commit("helpers/setTemplateFields",l),this.mapFields()},toggleActivate(e,t){const l=t?0:1,i={status:l,index:e};this.$store.commit("helpers/toggleStatusField",i),this.mapFields()},removeField(e){this.fields=this.fields.filter(((t,l)=>l!=e))},titleSelected(e){if(e.selectedTitle){for(var t of this.fields)t.selectedTitle=!1;e.selectedTitle=!0}this.$store.commit("helpers/toggleSelectedTitle",e)},selectField(e){e!=this.selectedField?this.selectedField=e:this.selectedField=""},mapFields(){this.fields=[...this.templateFields.map((e=>({...e})))]}},data(){return{selectedField:"",selectedTitle:!1,visible:!1,fields:[],buttons:[{label:"Text",type:"text",icon:"fas fa-font"},{label:"Number",type:"number",icon:"fas fa-dollar-sign"},{label:"Number Range",type:"numberRange",icon:"fas fa-coins"},{label:"Date",type:"date",icon:"fas fa-calendar"},{label:"Date Range",type:"dateRange",icon:"fas fa-calendar-plus"},{label:"Textarea",type:"textarea",icon:"fas fa-bars"},{label:"Select",type:"select",icon:"fas fa-list"},{label:"ICD 10",type:"icd10",icon:"fas fa-book-medical"}]}},computed:{hasSelected(){return this.fields.length>0},selectOptions(){return this.select.options.split(",")},...(0,w.Se)("helpers",["templateFields"])},mounted(){this.mapFields()}});var at=l(8886),st=l(6941),ot=l(5862);const nt=(0,x.Z)(it,[["render",Xe]]),ct=nt;S()(it,"components",{QCard:_.Z,QForm:T.Z,QCardSection:Z.Z,QBtn:F.Z,QScrollArea:ce.Z,QCardActions:Se.Z,QInput:W.Z,QToggle:at.Z,QInnerLoading:st.Z,QSpinnerBox:ot.Z,QBtnGroup:I.Z});const rt=(0,i.aZ)({name:"EditTemplate",props:["templateDetails","selectedClinicalNote"],components:{FieldSets:ct},computed:{clinicalNoteCode(){return this.fields.length>0?this.fields[0].clinicalNoteCode:""},...(0,w.Se)("helpers",["templateFields"]),...(0,w.Se)("helpers",["removedFields"]),...(0,w.Se)("clinicalNotes",["clinicalNoteDetails"]),...(0,w.Se)("clinicalNotes",["clinicalInputTypes"]),...(0,w.Se)("clinicalNotes",["currentClinicalNote"])},data(){return{id:null,bools:{isLoading:!1},fields:[],updateFormat:[]}},methods:{closeEdit(){this.$emit("closeEdit",!0)},async updateFields(e){this.$refs.updateField.$refs.editData.validate().then((async t=>{if(!t)return!1;const l=e.map((e=>({...e,name:e.label})));let i="7679",a=[];for(const[e,d]of l.entries()){const t=this.clinicalNoteDetails.filter((e=>e.clinical_field_code===d.code)),l=this.clinicalInputTypes.filter((e=>e.code===d.type)),i={id:t.length>0?t[0].clinical_note_field_id:"",code:d.code,clinicalNoteTemplateCode:this.templateDetails.code,name:d.name,type:d.type,inputId:l[0].id,sequence:e+1,active:d.active,required:d.required,requiredMessage:d.requiredMessage,options:d.options};a.push(i)}let s=a;const o=e.filter((e=>e.selectedTitle));let n=null;o.length>0&&(n=o[0].name);const c={user:{code:i},clinicalNote:{code:this.selectedClinicalNote},clinicalNoteTemplate:{id:this.templateDetails.id,code:this.templateDetails.code,name:this.templateDetails.name,title:n},clinicalNoteTemplateFields:s};this.updateFormat=c;const r=await this.$store.dispatch("clinicalNotes/updateClinicalNoteTemplates",c);r.length>0&&(this.showNotify("success","Clinical Note Template Fields update"),this.closeEdit())}))},showNotify(e,t){let l="";l="success"===e?"blue-10":"negative",this.$q.notify({progress:!0,message:t,color:l})},setTemplateFields(){this.$store.commit("helpers/setTemplateFields",this.fields.map((e=>({type:e.type,name:e.name,label:e.name,selectedTitle:e.selectedTitle,required:e.required,requiredMessage:e.requiredMessage,options:e.options,code:e.code,active:e.active}))))}},async mounted(){this.bools.isLoading=!0;const e=JSON.parse(this.templateDetails.fields);this.fields=e.fields;const t=e.title;for(var l of this.fields)l.name===t?l.selectedTitle=!0:l.selectedTitle=!1;this.$emit("refreshNotes",!0),this.setTemplateFields(),await this.$store.dispatch("clinicalNotes/fetchClinicalInputTypes"),this.bools.isLoading=!1}});var dt=l(6122);const ut=(0,x.Z)(rt,[["render",Ee]]),pt=ut;S()(rt,"components",{QCircularProgress:dt.Z});const mt={class:"row justify-between items-center"},gt={class:"text-h5 text-weight-light"};function ht(e,t,l,a,s,o){const n=(0,i.up)("q-btn"),c=(0,i.up)("q-card-section"),r=(0,i.up)("Date"),d=(0,i.up)("Text"),u=(0,i.up)("Number"),p=(0,i.up)("Textarea"),m=(0,i.up)("Select"),g=(0,i.up)("ICD10"),h=(0,i.up)("NumberRange"),f=(0,i.up)("DateRange"),y=(0,i.up)("q-scroll-area"),w=(0,i.up)("q-card");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(w,{square:"",class:"full-height"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{align:"center"},{default:(0,i.w5)((()=>[(0,i._)("div",mt,[(0,i._)("div",gt,(0,R.zw)(this.parsedTemplate.name),1),(0,i._)("div",null,[(0,i.Wm)(n,{class:"col-auto",color:"negative",label:"Close",icon:"fas fa-times",onClick:t[0]||(t[0]=t=>e.$emit("closeDialog",!0))})])])])),_:1}),(0,i.Wm)(c,null,{default:(0,i.w5)((()=>[(0,i.Wm)(y,{style:{height:"86vh"},ref:"scrollArea",visible:!0},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(this.parsedTemplate.fields,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{key:t,class:"q-ma-md"},["date"==e.type?((0,i.wg)(),(0,i.j4)(r,{key:0,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required,type:e.type,clinicalNoteCode:e.clinicalNoteCode,clinicalFieldCode:e.clinicalFieldCode},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):"text"==e.type?((0,i.wg)(),(0,i.j4)(d,{key:1,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required,type:e.type,clinicalNoteCode:e.clinicalNoteCode,clinicalFieldCode:e.clinicalFieldCode},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):"number"==e.type?((0,i.wg)(),(0,i.j4)(u,{key:2,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required,type:e.type,clinicalNoteCode:e.clinicalNoteCode,clinicalFieldCode:e.clinicalFieldCode},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):"textarea"==e.type?((0,i.wg)(),(0,i.j4)(p,{key:3,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required,type:e.type,clinicalNoteCode:e.clinicalNoteCode,clinicalFieldCode:e.clinicalFieldCode},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):"select"==e.type?((0,i.wg)(),(0,i.j4)(m,{key:4,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required,options:e.options,type:e.type,clinicalNoteCode:e.clinicalNoteCode,clinicalFieldCode:e.clinicalFieldCode},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):"icd10"==e.type?((0,i.wg)(),(0,i.j4)(g,{key:5,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required,type:e.type,clinicalNoteCode:e.clinicalNoteCode,clinicalFieldCode:e.clinicalFieldCode},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):"numberRange"==e.type?((0,i.wg)(),(0,i.j4)(h,{key:6,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required,type:e.type,clinicalNoteCode:e.clinicalNoteCode,clinicalFieldCode:e.clinicalFieldCode},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):"dateRange"==e.type?((0,i.wg)(),(0,i.j4)(f,{key:7,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required,type:e.type,clinicalNoteCode:e.clinicalNoteCode,clinicalFieldCode:e.clinicalFieldCode},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):(0,i.kq)("",!0)])))),128))])),_:1},512)])),_:1})])),_:1})])}const ft=(0,i.aZ)({name:"ViewTemplate",props:["templateFormat"],data(){return{parsedTemplate:[]}},created(){this.formatTemplate()},components:{Date:_e.Z,Text:Te.Z,Number:Ze.Z,Textarea:We.Z,Select:Ve.Z,ICD10:Ie.Z,NumberRange:et.Z,DateRange:tt.Z},methods:{formatTemplate(){const e=JSON.parse(this.templateFormat.format);this.parsedTemplate=e}}}),yt=(0,x.Z)(ft,[["render",ht]]),wt=yt;S()(ft,"components",{QCard:_.Z,QCardSection:Z.Z,QBtn:F.Z,QScrollArea:ce.Z});const bt=(0,i.aZ)({name:"ClinicalNoteTemplateDetails",props:["selectedVal","selectedClinicalNote","selectedClinicalNoteName"],data(){return{dialog:!1,editDialog:!1,viewDialog:!1,templateDetails:[],loading:!1,viewTemplateDetails:[]}},computed:{...(0,w.Se)({clinicalTemplate:"clinicalNotes/clinicalTemplate",clinicalNoteDetails:"clinicalNotes/clinicalNoteDetails",clinicalTemplateDetails:"clinicalNotes/templateDetails"})},mounted(){this.fetchClinicalNoteTemplate()},watch:{dialog(e){e||this.fetchClinicalNoteTemplate()},selectedVal(e){this.fetchClinicalNoteTemplate()},selectedClinicalNote(e){this.fetchClinicalNoteTemplate()}},methods:{async fetchClinicalNoteTemplate(){this.loading=!0,setTimeout((async()=>{await this.$store.dispatch("clinicalNotes/fetchTemplates",this.selectedClinicalNote),await this.$store.dispatch("clinicalNotes/fetchClinicalNoteDetails",this.selectedClinicalNote),this.loading=!1}),1e3)},openDialog(){this.dialog=!0},async viewTemplate(e){this.viewDialog=!0,this.viewTemplateDetails=e},async editClinicalNoteTemplate(e){const t=this.clinicalTemplate.filter((t=>t.code===e.code));this.editDialog=!0;const l={id:t[0].id,name:t[0].name,code:t[0].code,clinicalNoteCode:t[0].clinical_note_code,fields:t[0].format};this.templateDetails=l},refresh(){this.$emit("refreshNotes")}},components:{ClinicalFields:Qe,EditTemplateDialog:pt,ViewTemplate:wt}});var vt=l(6394),Ct=l(6778);const qt=(0,x.Z)(bt,[["render",fe]]),Nt=qt;S()(bt,"components",{QCard:_.Z,QCardSection:Z.Z,QBtn:F.Z,QBtnGroup:I.Z,QInnerLoading:st.Z,QSpinnerGears:vt.Z,QDialog:Ct.Z});const Dt=(0,i.aZ)({name:"ClinicalNoteCategories",components:{AddClinicalNoteModal:de,AddClinicalNoteCategoryModal:Q,EditCategoryDetails:G,EditClinicalNote:le,ClinicalNoteTemplateDetails:Nt},data(){return{splitterModel:15,selectedCategory:[],addCategoryModal:null,filter:"",filterRef:null,addModal:!1,editModal:!1,selectedClinicalNoteCategory:[],selectedClinicalNote:"",selectedClinicalNoteName:"",clinicalCategoryNotesTree:[],addClinicalNoteModal:!1,clinicalCategoryDetails:[],clinicalCategoryCode:"",clinicalCategoryName:"",clinicalNoteInfo:[],treeType:"",bools:{clinicalCategoryEditMode:!1,inactiveInput:!1,disableInput:!1,disableActions:!1,disableCategoryInput:!1}}},watch:{addCategoryModal(e){e||this.fetchClinicalCategoryNotes()},addClinicalNoteModal(e){e||this.fetchClinicalCategoryNotes()},async selectedCategory(e){this.bools.clinicalCategoryEditMode=!0;const t=this.clinicalNoteCategoryTree.filter((t=>t.code===e)),l=this.clinicalNotes.filter((t=>t.code===e));t.length>0&&(this.treeType="categories",this.fetchClinicalCategory(t[0]),this.clinicalNoteInfo=[]),l.length>0&&(this.treeType="notes",this.clinicalCategoryDetails=[],this.fetchClinicalNote(l[0]))},clinicalCategoryDetails(e){},clinicalCategoryNotes(e){}},async created(){this.fetchClinicalCategoryNotes(),this.fetchClinicalNotes()},computed:{...(0,w.Se)({clinicalNoteCategoryTree:"clinicalNotes/clinicalNoteCategoryTree",clinicalNotes:"clinicalNotes/clinicalNotes",clinicalNoteCategories:"clinicalNotes/clinicalNoteCategories",clinicalCategoryNotes:"clinicalNotes/clinicalCategoryNotes",currentClinicalNote:"clinicalNotes/currentClinicalNote"})},methods:{async fetchClinicalCategoryNotes(e){const t={clinicalCategoryCode:void 0===e?"":e,sectionID:this.$route.params.sectionID};await this.$store.dispatch("clinicalNotes/fetchClinicalNoteCategoryTree",t),this.clinicalCategoryNotesTree=this.clinicalNoteCategoryTree},async filterClinicalCategoryTree(){const e=this.clinicalNoteCategoryTree.filter((e=>e.code===this.selectedCategory));await this.fetchClinicalCategory(e[0])},async filterClinicalNote(){const e=this.clinicalNotes.filter((e=>e.code===this.selectedCategory));await this.fetchClinicalNote(e[0])},async fetchClinicalCategory(e){this.clinicalCategoryDetails=[e],this.clinicalCategoryCode=e.code,e.active?this.bools.disableInput=!1:this.bools.disableInput=!0},async fetchClinicalNotes(){await this.$store.dispatch("clinicalNotes/fetchClinicalNotes")},async fetchClinicalNote(e){return this.clinicalCategoryCode=e.clinical_category_code,this.selectedClinicalNoteName=e.name,this.clinicalNotes[0].active?this.bools.disableInput=!1:this.bools.disableInput=!0,this.clinicalNoteInfo=[e],this.clinicalNoteInfo},openClinicalNoteCategoryDialog(){this.addCategoryModal=!0},openClinicalNoteDialog(){this.addClinicalNoteModal=!0},async triggerUpdate(e){this.bools.disableActions=!0,"categories"===this.treeType?this.updateCategory(e):this.updateNotes(e)},async updateCategory(e){const t=this.$refs.categoryDetails.editDetails;let l="",i="",a="7679",s="";"deactivate"===e?(l=0,i=a,s=`Successfully deactivated Category - ${t.name}`):"activate"===e?(l=1,i="",s=`Successfully activated Category - ${t.name}`):(l=1,s=`Successfully updated Category - ${t.name}`);let o=null;o="string"===typeof t.categoricalType?"General Medical Notes"===t.categoricalType?0:"Visit Encounter Notes"===t.categoricalType?1:2:t.categoricalType;const n={id:t.id,name:t.name,description:t.description,section_type:t.sectionType,categorical_type:o,updated_by:a,active:l,inactive_by:i};var c=await this.$store.dispatch("clinicalNotes/updateClinicalNoteCategories",n);"success"===c.message?(await this.fetchClinicalCategoryNotes(),await this.filterClinicalCategoryTree(),this.showNotify("success",s)):this.showNotify("error",`Error: ${c}`)},async updateNotes(e){const t=this.$refs.clinicalNotes.editDetails;let l="",i="",a="7679",s="";"deactivate"===e?(l=0,i=a,s=`Deactivating Clinical Note - ${t.name}`):"activate"===e?(l=1,i="",s=`Activating Clinical Note - ${t.name}`):(l=1,s=`Updating Clinical Note - ${t.name}`);const o={id:t.id,name:t.name,description:t.description,categoryCode:t.clinicalCategoryCode,updatedBy:a,inactiveBy:i,active:l},n=await this.$store.dispatch("clinicalNotes/updateClinicalNotes",o);n.success?this.showNotify("success",s):this.showNotify("error",`Error: ${responseAPI}`),await this.fetchClinicalNotes(),await this.fetchClinicalCategoryNotes(),await this.filterClinicalNotes()},showNotify(e,t){let l="";l="success"===e?"blue-10":"negative",this.$q.notify({progress:!0,message:t,color:l}),this.bools.disableActions=!1},resetFilter(){this.filter="",this.$refs.filterRef.focus()}}});var kt=l(4379),xt=l(218),_t=l(4554),Tt=l(5078),Zt=l(9200),Wt=l(9975);const Vt=(0,x.Z)(Dt,[["render",y]]),It=Vt;S()(Dt,"components",{QPage:kt.Z,QBtn:F.Z,QSplitter:xt.Z,QInput:W.Z,QIcon:_t.Z,QTree:Tt.Z,QDialog:Ct.Z,QFab:Zt.Z,QFabAction:Wt.Z})}}]);