(()=>{var e={4001:(e,t,n)=>{"use strict";n(5363),n(71);var a=n(8880),o=n(9592),i=n(3673);function r(e,t,n,a,o,r){const c=(0,i.up)("router-view");return(0,i.wg)(),(0,i.j4)(c)}const c=(0,i.aZ)({name:"App"});var s=n(4260);const l=(0,s.Z)(c,[["render",r]]),p=l;var u=n(7679),h=n(7083),d=n(9582);const m=[{path:"/",component:()=>Promise.all([n.e(736),n.e(64),n.e(871)]).then(n.bind(n,8946)),children:[{name:"dashboard",path:"",component:()=>Promise.all([n.e(736),n.e(441)]).then(n.bind(n,1441))}]},{path:"/admin",component:()=>Promise.all([n.e(736),n.e(341)]).then(n.bind(n,2341)),children:[{name:"ClinicalNoteCategories",path:"categories",component:()=>Promise.all([n.e(736),n.e(64),n.e(598)]).then(n.bind(n,598)),children:[{name:"CategorySections",path:"sections/:sectionID",component:()=>Promise.all([n.e(736),n.e(64)]).then(n.bind(n,6322))}]},{name:"ClinicalNotes",path:"clinical-notes/:categoryCode",component:()=>Promise.all([n.e(736),n.e(64),n.e(429)]).then(n.bind(n,3429))},{name:"Template",path:"template",component:()=>Promise.all([n.e(736),n.e(64),n.e(583)]).then(n.bind(n,3583)),children:[{name:"NewTemplate",path:"new",component:()=>Promise.all([n.e(736),n.e(64)]).then(n.bind(n,3756))},{name:"EditTemplate",path:"edit/:id",component:()=>Promise.all([n.e(736),n.e(64)]).then(n.bind(n,4635))}]}]},{path:"/patient-dashboard",component:()=>Promise.all([n.e(736),n.e(64),n.e(871)]).then(n.bind(n,8946)),children:[{path:":patientno",component:()=>Promise.all([n.e(736),n.e(64),n.e(59)]).then(n.bind(n,59))}]},{path:"/patient-record",component:()=>Promise.all([n.e(736),n.e(64),n.e(871)]).then(n.bind(n,8946)),children:[{path:"imaging/:patientno",component:()=>Promise.all([n.e(736),n.e(64),n.e(513)]).then(n.bind(n,3513))},{path:"laboratories/:patientno",component:()=>Promise.all([n.e(736),n.e(64),n.e(548)]).then(n.bind(n,7548))},{path:"consultation/:patientno",component:()=>Promise.all([n.e(736),n.e(386)]).then(n.bind(n,5386))}]},{path:"/doctors",component:()=>Promise.all([n.e(736),n.e(64),n.e(871)]).then(n.bind(n,8946)),children:[{name:"doctors",path:"/doctors/:routes",component:()=>Promise.all([n.e(736),n.e(64),n.e(526)]).then(n.bind(n,7585))}]},{path:"/nurses",component:()=>Promise.all([n.e(736),n.e(64),n.e(871)]).then(n.bind(n,8946)),children:[{name:"nurses",path:"/nurses/:routes",component:()=>Promise.all([n.e(736),n.e(64),n.e(430)]).then(n.bind(n,4543))}]},{path:"/emr",component:()=>Promise.all([n.e(736),n.e(64),n.e(871)]).then(n.bind(n,8946)),children:[{name:"emr",path:"/emr/case/:caseNo",component:()=>Promise.all([n.e(736),n.e(64),n.e(711)]).then(n.bind(n,8080))},{name:"emr-checked",path:"/emr/case/:caseNo/checked",component:()=>Promise.all([n.e(736),n.e(64),n.e(711)]).then(n.bind(n,8080))},{name:"emr-test",path:"/emr/emr-test",component:()=>Promise.all([n.e(736),n.e(689)]).then(n.bind(n,2230))}]},{path:"/chat",component:()=>Promise.all([n.e(736),n.e(337)]).then(n.bind(n,3337)),children:[{name:"Chat",path:"/",component:()=>Promise.all([n.e(736),n.e(64),n.e(711)]).then(n.bind(n,8080))}]},{path:"/:catchAll(.*)*",component:()=>Promise.all([n.e(736),n.e(614)]).then(n.bind(n,5614))}],f=m,y=(0,h.BC)((function(){const e=d.r5,t=(0,d.p7)({scrollBehavior:()=>({left:0,top:0}),routes:f,history:e("/vue/ehr/")});return t}));async function g(e,t){const a="function"===typeof u["default"]?await(0,u["default"])({}):u["default"],{storeKey:i}=await Promise.resolve().then(n.bind(n,7679)),r="function"===typeof y?await y({store:a}):y;a.$router=r;const c=e(p);return c.use(o.Z,t),{app:c,store:a,storeKey:i,router:r}}var C=n(4434),N=n(5151);const T={config:{notify:{},dialog:{}},plugins:{Notify:C.Z,Dialog:N.Z}},v="/vue/ehr/",b=/\/\//,w=e=>(v+e).replace(b,"/");async function S({app:e,router:t,store:n,storeKey:a},o){let i=!1;const r=e=>{try{return w(t.resolve(e).href)}catch(n){}return Object(e)===e?null:e},c=e=>{if(i=!0,"string"===typeof e&&/^https?:\/\//.test(e))return void(window.location.href=e);const t=r(e);null!==t&&(window.location.href=t,window.location.reload())},s=window.location.href.replace(window.location.origin,"");for(let p=0;!1===i&&p<o.length;p++)try{await o[p]({app:e,router:t,store:n,ssrContext:null,redirect:c,urlPath:s,publicPath:v})}catch(l){return l&&l.url?void c(l.url):void console.error("[Quasar] boot error:",l)}!0!==i&&(e.use(t),e.use(n,a),e.mount("#q-app"))}g(a.ri,T).then((e=>Promise.all([Promise.resolve().then(n.bind(n,5474))]).then((t=>{const n=t.map((e=>e.default)).filter((e=>"function"===typeof e));S(e,n)}))))},5474:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c,api:()=>r});var a=n(7083),o=n(52),i=n.n(o);const r=i().create({baseURL:"https://api.example.com"}),c=(0,a.xr)((({app:e})=>{e.config.globalProperties.$axios=i(),e.config.globalProperties.$api=r}))},7261:()=>{},7679:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Ht});var a={};n.r(a),n.d(a,{buildHashTable:()=>F,colorEMR:()=>E,drawerRight:()=>S,infiniteScroll:()=>j,initValuesFields:()=>$,isEmpty:()=>I,mainNavigation:()=>b,patientEncounterInfoTab:()=>P,removedFields:()=>_,showClinicalNoteDetails:()=>D,templateFields:()=>O,userRole:()=>w});var o={};n.r(o),n.d(o,{openRightDrawer:()=>J,setColorEMR:()=>R,setInfiniteScroll:()=>A,setInitValuesFields:()=>M,setPatientEncounterInfoTab:()=>G,setRemovedField:()=>q,setShowClinicalNoteDetails:()=>x,setTemplateFields:()=>k,toggleSelectedTitle:()=>U,toggleStatusField:()=>B});var i={};n.r(i),n.d(i,{decrypt:()=>H,encrypt:()=>Z,formatDate:()=>X,getQnapAuth:()=>K,openRightDrawer:()=>V,searchIcd10:()=>z,setColorEMR:()=>W,setInfiniteScroll:()=>Q,setInitValuesFields:()=>ee,setPatientEncounterInfoTab:()=>Y,showClinicalNoteDetails:()=>L});var r={};n.r(r),n.d(r,{admissionEncounterNotes:()=>Ce,clinicalCategoryList:()=>pe,clinicalCategoryNotes:()=>se,clinicalInputTypes:()=>le,clinicalNoteCategories:()=>oe,clinicalNoteCategoryTree:()=>ae,clinicalNoteDetailValues:()=>ce,clinicalNoteDetails:()=>re,clinicalNoteTemplateFormat:()=>he,clinicalNotes:()=>ie,clinicalNotesGrouped:()=>ue,clinicalTemplate:()=>de,currentClinicalNote:()=>me,generalNotes:()=>ye,templateDetails:()=>fe,visitEncounterNotes:()=>ge});var c={};n.r(c),n.d(c,{setAdmissionEncounterNotes:()=>$e,setClinicalCategoryNotes:()=>Se,setClinicalInputTypes:()=>Ee,setClinicalNoteCategories:()=>Te,setClinicalNoteCategoryTree:()=>Ne,setClinicalNoteDetailValues:()=>we,setClinicalNoteDetails:()=>be,setClinicalNoteTemplateDetails:()=>je,setClinicalNoteTemplateFormat:()=>Pe,setClinicalNotes:()=>ve,setClinicalTemplate:()=>De,setGeneralDataNotes:()=>Oe,setVisitEncounterNotes:()=>_e});var s={};n.r(s),n.d(s,{fetchClinicalCategories:()=>Fe,fetchClinicalCategoryNotes:()=>Je,fetchClinicalInputTypes:()=>Ae,fetchClinicalNoteCategoryTree:()=>Ie,fetchClinicalNoteDetailValues:()=>xe,fetchClinicalNoteDetails:()=>Ge,fetchClinicalNotes:()=>Re,fetchTemplates:()=>Ye,getTemplateById:()=>Le,saveClinicalNoteCategories:()=>Be,saveClinicalNoteFields:()=>Ve,saveClinicalNoteTemplate:()=>Ue,saveClinicalNoteTemplateFields:()=>We,saveClinicalNotes:()=>ke,updateClinicalNoteCategories:()=>Me,updateClinicalNoteTemplates:()=>Ze,updateClinicalNotes:()=>qe});var l={};n.r(l),n.d(l,{active:()=>nt,patientDepts:()=>et,patients:()=>Qe,patientsGrouped:()=>Xe,pxType:()=>ze,searchList:()=>tt});var p={};n.r(p),n.d(p,{populatePatientSearch:()=>ot,populatePatients:()=>at});var u={};n.r(u),n.d(u,{getActiveStat:()=>ut,getBasicInfo:()=>rt,getOPDPatients:()=>ht,getPatientsByDr:()=>pt,history:()=>ct,imagingResults:()=>st,laboratoryResults:()=>lt,search:()=>it});var h={};n.r(h),n.d(h,{accountType:()=>yt,credentials:()=>gt,role:()=>ft});var d={};n.r(d),n.d(d,{changeAccount:()=>Ct});var m={};n.r(m),n.d(m,{isPatientSearching:()=>bt});var f={};n.r(f),n.d(f,{isPatientSearching:()=>wt});var y={};n.r(y),n.d(y,{clinicalEncounterDetails:()=>Ot,clinicalEncounters:()=>jt,clinicalEncountersPage:()=>_t,clinicalEncountersRows:()=>$t,encounterCases:()=>Dt,patientGeneralNotes:()=>It});var g={};n.r(g),n.d(g,{setClinicalEncounterDetails:()=>Jt,setClinicalEncounters:()=>Rt,setEncounterCases:()=>Ft,setPatientGeneralNotes:()=>Gt});var C={};n.r(C),n.d(C,{fetchGeneralNotes:()=>Lt,getCases:()=>xt,getClinicalEncounterDetails:()=>kt,getClinicalEncounters:()=>At,saveClinicalEncounter:()=>qt,saveClinicalEncounterDetails:()=>Bt,savePatientEncounterDetails:()=>Mt,savePatientGeneralNotes:()=>Yt,updateClinicalEncounter:()=>Ut,updateClinicalEncounterDetails:()=>Vt,updatePatientEncounterDetails:()=>Wt});var N=n(7083),T=n(3617);function v(){return{role:"nurses",drawerRight:!0,colorEMR:"primary",patientEncounterInfoTab:"otherInfo",showClinicalNoteDetails:!1,currentCNDDetails:null,clinicalNoteTitle:null,currentCNTab:null,userRole:"nurses",infiniteScroll:!0,templateFields:[],removedFields:[],initValuesFields:!1,mainNavigation:[{name:"HOME",icon:"fa fa-hospital",route:"/"},{name:"TOOLS",icon:"fa fa-tools",route:"/role/tools"},{name:"ANALYTICS",icon:"fa fa-chart-line",route:"/role/analytics"}],isEmpty:e=>!!(null===e||void 0===e||""===e||Array.isArray(e)&&0===e.length||"object"===typeof e&&0===Object.keys(e).length),buildHashTable:(e,t="key")=>{if(null==e||!Array.isArray(e))throw"`arr` argument is required and should be an array.";const n={};return e.forEach((e=>n[e[t]]={...e})),n}}}function b(e){return e.mainNavigation}function w(e){return e.userRole}function S(e){return e.drawerRight}function E(e){return e.colorEMR}function P(e){return e.patientEncounterInfoTab}function D(e){return e.showClinicalNoteDetails}function j(e){return e.infiniteScroll}function O(e){return e.templateFields}function _(e){return e.removedFields}function $(e){return e.initValuesFields}function I(e){return e.isEmpty}function F(e){return e.buildHashTable}n(71);function J(e,t){e.drawerRight=t}function R(e,t){e.colorEMR=t}function G(e,t){e.patientEncounterInfoTab=t}function x(e,t){e.showClinicalNoteDetails=t}function A(e,t){e.infiniteScroll=t}function k(e,t){for(var n of t)n.status="old",n.active=n.active?1:0;e.templateFields=t}function q(e,t){for(var n of t)n.active=0;e.removedFields=t}function B(e,t){for(const[n,a]of e.templateFields.entries())t.index===n&&(a.active=t.status)}function M(e,t){e.initValuesFields=t}function U(e,t){for(var n of e.templateFields)t.selectedTitle&&t.code===n.code?n.selectedTitle=!0:n.selectedTitle=!1}n(2100),n(246),n(5363);function V(e,t){e.commit("openRightDrawer",t)}function W(e,t){e.commit("setColorEMR",t)}function Y(e,t){e.commit("setPatientEncounterInfoTab",t)}function L(e,t){e.commit("setShowClinicalNoteDetails",t.show),e.commit("setCurrentCNDDetails",t.code)}async function Z(e,t){const n="https://api.uerm.edu.ph/auth/encrypt?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6",a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({string:t.toString()})}).then((e=>e.json()));return a}async function H(e,t){const n="https://api.uerm.edu.ph/auth/decrypt?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6",a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({string:t.toString()})}).then((e=>e.json()));return a}async function K(e,t){const n="https://api.uerm.edu.ph/auth/qnap?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6",a=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));return a}async function Q(e,t){e.commit("setInfiniteScroll",t)}async function z(e,t){const n=`https://api.uerm.edu.ph/ehr/search-icd-10/${t.search}/${t.type}?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6`,a=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));for(var o of a)o.label=o.code,o.value=o.description;return a}function X(e,t){var n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];const a=t.date.replace(/T/," ").replace(/Z/," ").substr("0","16"),o=new Date(a),i=new Intl.DateTimeFormat("en",{year:"numeric"}).format(o),r=new Intl.DateTimeFormat("en",{month:"long"}).format(o),c=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(o);let s=o.getMinutes(),l=o.getHours();s<10&&(s="0"+s);let p="AM";l>12&&(l-=12,p="PM");const u=`${l}:${s} ${p}`;let h=n[o.getDay()],d="";return t.withDayName?(d=`${h.toUpperCase()}, ${r.toUpperCase()} ${c}, ${i} ${u} `,d):(d=`${r.toUpperCase()} ${c}, ${i} ${u} `,d)}function ee(e,t){e.commit("setInitValuesFields",t)}const te={namespaced:!0,getters:a,mutations:o,actions:i,state:v};function ne(){return{clinicalNoteCategoryTree:[],tmpClinicalRecord:[],tmpClinicalNote:[],clinicalNoteCategories:[],clinicalNotes:[],clinicalNoteDetails:[],clinicalNoteDetailValues:[],clinicalInputTypes:[],clinicalCategoryNotes:[],clinicalNoteTemplateFormat:[],clinicalTemplate:[],currentClinicalNote:null,templateDetails:[],generalNotes:[],visitEncounterNotes:[],admissionEncounterNotes:[]}}function ae(e){return e.clinicalNoteCategoryTree}function oe(e){return e.clinicalNoteCategories}function ie(e){return e.clinicalNotes}function re(e){return e.clinicalNoteDetails}function ce(e){return e.clinicalNoteDetailValues}function se(e){return e.clinicalCategoryNotes}function le(e){return e.clinicalInputTypes}function pe(e){let t=e.clinicalNoteCategories.map((e=>({label:e.name,value:e.code})));return t=[...new Set(t)],t}function ue(e){let t=e.clinicalNotes.map((e=>({code:e.code,name:e.name,label:e.name,value:e.code})));return t=[...new Set(t)],{categories:t,notes:e.clinicalNotes}}function he(e){return e.clinicalNoteTemplateFormat}function de(e){return e.clinicalTemplate}function me(e){return e.currentClinicalNote}function fe(e){return e.templateDetails}function ye(e){return e.generalNotes}function ge(e){return e.visitEncounterNotes}function Ce(e){return e.admissionEncounterNotes}function Ne(e,t){e.clinicalNoteCategoryTree=t}function Te(e,t){e.clinicalNoteCategories=t}function ve(e,t){e.currentClinicalNote=t[0].code,e.clinicalNotes=t}function be(e,t){e.clinicalNoteDetails=t}function we(e,t){e.clinicalNoteDetailValues=t}function Se(e,t){e.clinicalCategoryNotes=t}function Ee(e,t){e.clinicalInputTypes=t}function Pe(e,t){e.clinicalNoteTemplateFormat=t}function De(e,t){e.clinicalTemplate=t}function je(e,t){e.templateDetails=t}function Oe(e,t){e.generalNotes=t}function _e(e,t){e.visitEncounterNotes=t}function $e(e,t){e.admissionEncounterNotes=t}async function Ie(e){let t="https://api.uerm.edu.ph/health-records/clinical-note-category-tree";const n=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));if(n.length>0){for(var a of n){a.icon=""===a.icon?null:a.icon,a.icon=null===a.icon?"fa fa-first-aid":a.icon;const e=a.children.sort(((e,t)=>e.name>t.name?1:t.name>e.name?-1:0));for(var o of(a.children=e,a.children)){const e=o.children.sort(((e,t)=>e.name>t.name?1:t.name>e.name?-1:0));o.children=e}}var i=n.filter((e=>"0"===e.categorical_type));e.commit("setGeneralDataNotes",i);var r=n.filter((e=>"1"===e.categorical_type));e.commit("setVisitEncounterNotes",r);var c=n.filter((e=>"2"===e.categorical_type));e.commit("setAdmissionEncounterNotes",c),e.commit("setClinicalNoteCategoryTree",n)}return n}async function Fe(e,t){let n="";n=t?t.clinicalCategoryCode?`https://api.uerm.edu.ph/health-records/clinical-category-notes?categoryCode=${t.clinicalCategoryCode}`:`https://api.uerm.edu.ph/health-records/clinical-note-categories/${t.sectionID}`:"https://api.uerm.edu.ph/health-records/clinical-note-categories";const a=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));if(a.length>0){for(var o of a){const t=await e.dispatch("helpers/formatDate",{withDayName:!0,date:o.datetime_created},{root:!0});o.datetime_created=t;const n=await e.dispatch("helpers/formatDate",{withDayName:!0,date:o.datetime_updated},{root:!0});o.datetime_updated=n,o.filterName=o.clinical_category_name.toUpperCase(),o.label=o.clinical_category_name.toUpperCase(),o.name=o.clinical_category_name,o.id=o.clinical_category_id}e.commit("setClinicalNoteCategories",a)}}async function Je(e,t){let n="";t?t.sectionID&&(n=`https://api.uerm.edu.ph/health-records/clinical-note-categories/${t.sectionID}`):n="https://api.uerm.edu.ph/health-records/clinical-note-categories/";const a=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));if(a.length>0){var o=[],i=[];for(var r of a){r.filterName=r.clinical_category_name.toUpperCase();const e={label:r.clinical_category_name.toUpperCase(),categorical_type:r.categorical_type,icon:""===r.icon?null:r.icon};o.push(e)}for(var c of(o=o.filter(((e,t,n)=>t===n.findIndex((t=>t.label===e.label)))),o)){var s=a.filter((e=>e.clinical_category_name.toUpperCase()===c.label));for(var l of s)null!==l.clinical_note_name?l.label=l.clinical_note_name.toUpperCase():l.label="";const e={label:c.label,icon:c.icon,categoricalType:c.categorical_type,categoryCode:s[0].clinical_category,children:s};i.push(e)}var p=i.filter((e=>"0"===e.categoricalType));e.commit("setGeneralDataNotes",p);var u=i.filter((e=>"1"===e.categoricalType));e.commit("setVisitEncounterNotes",u);var h=i.filter((e=>"2"===e.categoricalType));e.commit("setAdmissionEncounterNotes",h),e.commit("setClinicalCategoryNotes",i)}else e.commit("setClinicalCategoryNotes",[])}async function Re(e,t){let n="";t?t.clinicalNoteCode?n=`https://api.uerm.edu.ph/health-records/clinical-notes?clinicalNoteCode=${t.clinicalNoteCode}`:t.sectionType&&(n=`https://api.uerm.edu.ph/health-records/clinical-notes?sectionType=${t.sectionType}`):n="https://api.uerm.edu.ph/health-records/clinical-notes";const a=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));if(a.length>0){for(let t of a){const n=await e.dispatch("helpers/formatDate",{withDayName:!0,date:t.datetime_created},{root:!0});t.datetime_created=n;const a=await e.dispatch("helpers/formatDate",{withDayName:!0,date:t.datetime_updated},{root:!0});t.datetime_updated=a,t.filterName=t.name.toUpperCase(),null!==t.template_format&&(t.template_format=JSON.parse(t.template_format))}return e.commit("setClinicalNotes",a),a}e.commit("setClinicalNotes",[])}async function Ge(e,t){const n=await fetch(`https://api.uerm.edu.ph/health-records/clinical-note-details?clinicalNoteCode=${t}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));if(n.length>0){var a=[];for(var o of n){console.log(o);const e={type:o.input_type.toLowerCase(),label:o.clinical_field,required:o.clinical_field_required,requiredMessage:o.clinical_field_required_message,options:o.options,code:o.clinical_field_code};a.push(e)}e.commit("setClinicalNoteTemplateDetails",a),e.commit("setClinicalNoteDetails",n)}else e.commit("setClinicalNoteDetails",[])}async function xe(e,t){const n=await fetch(`https://api.uerm.edu.ph/health-records/clinical-note-detail-values?clinicalFieldCode=${t}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));n.length>0?e.commit("setClinicalNoteDetailValues",n):e.commit("setClinicalNoteDetailValues",[])}async function Ae(e,t){const n=await fetch(`https://api.uerm.edu.ph/health-records/clinical-input-types?clinicalFieldCode=${t}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));if(n.length>0){for(var a of n)a.type=name.toLowerCase();e.commit("setClinicalInputTypes",n)}else e.commit("setClinicalInputTypes",[])}async function ke(e,t){try{const e=await fetch("https://api.uerm.edu.ph/health-records/save-clinical-notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json()));return e[0].ERR?{message:e[0].MSG,error:e[0].ERR}:{success:e[0].MSG}}catch(n){return console.log(n),{error:n}}}async function qe(e,t){try{const e=await fetch("https://api.uerm.edu.ph/health-records/update-clinical-notes",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json()));return console.log(e),e[0].ERR?{message:e[0].MSG,error:e[0].ERR}:{success:e[0].MSG}}catch(n){return console.log(n),{error:n}}}async function Be(e,t){try{const e=await fetch("https://api.uerm.edu.ph/health-records/clinical-note-categories",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json()));return e.length>0?{success:1,response:e}:e}catch(n){return console.log(n),{error:n}}}async function Me(e,t){try{console.log(`https://api.uerm.edu.ph/health-records/clinical-note-categories/${t.id}`);const e=await fetch(`https://api.uerm.edu.ph/health-records/clinical-note-categories/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json()));return e}catch(n){return console.log(n),{error:n}}}async function Ue(e,t){try{const e=await fetch("https://api.uerm.edu.ph/health-records/save-clinical-note-template",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json()));return e.length>0?e:{error:e}}catch(n){return console.log(n),{error:n}}}async function Ve(e,t){try{const e=await fetch("https://api.uerm.edu.ph/health-records/save-clinical-note-fields",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json()));return console.log(e),e.length>0?e:{error:e}}catch(n){return console.log(n),{error:n}}}async function We(e,t){try{const e=await fetch("https://api.uerm.edu.ph/health-records/clinical-note-templates",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json()));return console.log(e),e.length>0?e:{error:e}}catch(n){return console.log(n),{error:n}}}async function Ye(e,t){let n="";n=t?`https://api.uerm.edu.ph/ehr/clinical-note-templates?clinicalNoteCode=${t}`:"https://api.uerm.edu.ph/ehr/clinical-note-templates?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6",console.log(n,"url");const a=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));return a.length>0?(console.log(a,"respoisne"),e.commit("setClinicalTemplate",a)):e.commit("setClinicalTemplate",[]),a}async function Le(e,t){const n="https://api.uerm.edu.ph/ehr/template?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6";console.log(n);const a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})}).then((e=>e.json()));return console.log(a),a}async function Ze(e,t){try{console.log(t);const e=await fetch("https://api.uerm.edu.ph/health-records/clinical-note-templates",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json()));return console.log(e),e}catch(n){return console.log(n),{error:n}}}const He={namespaced:!0,getters:r,mutations:c,actions:s,state:ne};function Ke(){return{px:[],pxSearch:[],pxType:null,showDrPatients:!1,drCode:"476",activePatientsByDr:[]}}function Qe(e){return e.px}function ze(e){return e.pxType}function Xe(e){const t={},n=e.showDrPatients?e.px.filter((t=>t.drCode==e.drCode)):e.px;let a=[];a=n.map((e=>e.caseDept)),a=[...new Set(a)];for(let o of a)t[o]=[];for(let o of n)t[o.caseDept].push({...o,patientName:`${o.lastname}, ${o.firstname} ${o.middlename}`,birthDate:new Date(o.birthDate).toISOString().split("T")[0]});return t}function et(e){let t=[],n=[];const a=e.showDrPatients?e.px.filter((t=>t.drCode==e.drCode)):e.px;n=a.map((e=>e.caseDept)),n=[...new Set(n)];for(let o of n)t.push({description:o,qty:a.filter((e=>e.caseDept==o)).length});return t}function tt(e){return e.pxSearch}function nt(e){return e.activePatientsByDr}function at(e,t){e.px=t}function ot(e,t){e.pxSearch=t}async function it(e,t){const n="https://api.uerm.edu.ph/ehr/search-name?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6",a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({search:t})}).then((e=>e.json()));e.commit("populatePatientSearch",a)}async function rt(e,t){const n="https://api.uerm.edu.ph/ehr/basic-info?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6",a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({patientno:t})}).then((e=>e.json()));return a}async function ct(e,t){const n="https://api.uerm.edu.ph/ehr/consultation-history?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6",a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({patientno:t})}).then((e=>e.json()));return a}async function st(e,t){const n="https://api.uerm.edu.ph/ehr/imaging-results?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6",a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({patientno:t.patientno,fetchAll:t.fetchAll})}).then((e=>e.json()));return a}async function lt(e,t){const n="https://api.uerm.edu.ph/ehr/lab-results?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6",a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({patientno:t.patientno,fetchAll:t.fetchAll})}).then((e=>e.json()));return a}async function pt(e,t){const n="https://api.uerm.edu.ph/ehr/active-patients-dr?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6",a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:t})}).then((e=>e.json()));return a}async function ut(e,t){const n="https://api.uerm.edu.ph/ehr/active-cases-stat?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6",a=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));return a}async function ht(e){const t="https://api.uerm.edu.ph/ehr/active-patients-opd?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6",n=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));return n}const dt={namespaced:!0,getters:l,mutations:p,actions:u,state:Ke};function mt(){return{role:"nurses",credentials:{code:"100",accountType:"DR",userID:"1"}}}function ft(e){return e.role}function yt(e){return e.credentials.accountType}function gt(e){return e.credentials}function Ct(e,t){e.credentials.accountType=t.code,e.role=t.role}var Nt=n(9441);const Tt={namespaced:!0,state:mt,getters:h,mutations:d,actions:Nt};function vt(){return{isPatientSearching:!1}}function bt(e){return e.isPatientSearching}function wt(e,t){e.isPatientSearching=t}var St=n(7261);const Et={namespaced:!0,state:vt,getters:m,mutations:f,actions:St};function Pt(){return{encounterCases:[],clinicalEncounters:[],clinicalEncounterDetails:[],clinicalEncountersPage:1,clinicalEncountersRows:5,patientGeneralNotes:[]}}function Dt(e){return e.encounterCases}function jt(e){return e.clinicalEncounters}function Ot(e){return e.clinicalEncounterDetails}function _t(e){return e.clinicalEncountersPage}function $t(e){return e.clinicalEncountersRows}function It(e){return e.patientGeneralNotes}function Ft(e,t){e.encounterCases=t}function Jt(e,t){e.clinicalEncounterDetails=t}function Rt(e,t){e.clinicalEncounters=t}function Gt(e,t){e.patientGeneralNotes=t}async function xt(e,t){var n="";"active"===t.type?n=`https://api.uerm.edu.ph/health-records/encounter-cases?active=1&dateFrom=${t.dateFrom}&dateTo=${t.dateTo}`:"forDischarge"===t.type?n=`https://api.uerm.edu.ph/health-records/encounter-cases?forDischarge=1&dateFrom=${t.dateFrom}&dateTo=${t.dateTo}`:"discharged"===t.type?n=`https://api.uerm.edu.ph/health-records/encounter-cases?discharged=1&dateFrom=${t.dateFrom}&dateTo=${t.dateTo}`:"checking"===t.type&&(n=`https://api.uerm.edu.ph/health-records/encounter-cases?caseNo=${t.caseNo}`);const a=await fetch(`${n}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));if(a.length>0){var o="";for(var i of(o="checking"===t.type?a:a.filter((e=>e.patient_type===t.patientType)),o)){const n=await e.dispatch("helpers/encrypt",i.case_no,{root:!0});i.encryptedCaseNo=n.encrypted;const a=await e.dispatch("helpers/encrypt",i.patient_no,{root:!0});i.encryptedPatientNo=a.encrypted,i.name=`${i.last_name}, ${i.first_name} ${i.middle_name}`,"E"===t.patientType?i.colorIndicator="red":"O"===t.patientType?i.colorIndicator="light-green":"I"===t.patientType&&(i.colorIndicator="light-blue"),i.caseNumber=i.case_no,i.patientID=i.patient_no;const o=i.datetime_admitted.replace(/T/," ").replace(/Z/," ").substr("0","16"),l=new Date(`${o}`),p=new Intl.DateTimeFormat("en",{year:"numeric"}).format(l),u=new Intl.DateTimeFormat("en",{month:"long"}).format(l),h=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(l);var r=l.getMinutes(),c=l.getHours();r<10&&(r="0"+r);var s="AM";c>12&&(c-=12,s="PM");const d=`${c}:${r} ${s}`;i.admission=`${u} ${h}, ${p} ${d}`;const m=i.date_of_birth.replace(/T/," ").replace(/Z/," ").substr("0","16"),f=new Date(`${m}`),y=new Intl.DateTimeFormat("en",{year:"numeric"}).format(f),g=new Intl.DateTimeFormat("en",{month:"long"}).format(f),C=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(f);i.birthDate=`${g} ${C}, ${y}`}e.commit("setEncounterCases",o)}else e.commit("setEncounterCases",[])}async function At(e,t){let n="";n=t.paginated?`https://api.uerm.edu.ph/health-records/clinical-encounters/?caseNo=${t.caseNo}&patientNo=${t.patientNo}&paginated=${t.paginated}&pageNo=${t.pageNo}&rowsPage=${t.rowsPage}`:t.checking?t.byCategoryCode?`https://api.uerm.edu.ph/health-records/clinical-encounters/?checking=true&byCategorCode=true&patientNo=${t.patientNo}&clinicalCategoryCode=${t.clinicalCategoryCode}`:t.byCategoricalType?`https://api.uerm.edu.ph/health-records/clinical-encounters/?checking=true&byCategoricalType=true&caseNo=${t.caseNo}&categoricalType=${t.categoricalType}`:`https://api.uerm.edu.ph/health-records/clinical-encounters/?checking=true&patientNo=${t.patientNo}&clinicalNoteCode=${t.clinicalNoteCode}`:`https://api.uerm.edu.ph/health-records/clinical-encounters/?caseNo=${t.caseNo}&clinicalNoteCode=${t.clinicalNoteCode}`,console.log(n);const a=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));if(a.length>0){for(var o of a){const t=await e.dispatch("helpers/formatDate",{withDayName:!0,date:o.update_datetime},{root:!0});o.update_datetime=t;const n=await e.dispatch("helpers/formatDate",{withDayName:!0,date:o.save_datetime},{root:!0});o.save_datetime=n,o.result_format=JSON.parse(o.result_format),o.title=o.result_format.title,o.user_name=o.user_name.toUpperCase()}e.commit("setClinicalEncounters",a)}else e.commit("setClinicalEncounters",[]),await e.dispatch("helpers/setInfiniteScroll",!1,{root:!0})}async function kt(e,t){let n=`https://api.uerm.edu.ph/health-records/clinical-encounter-details/?clinicalEncounterID=${t.clinicalEncounterID}`;const a=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));a.length>0&&e.commit("setClinicalEncounterDetails",a),console.log(a,"dsfsfs")}async function qt(e,t){let n="https://api.uerm.edu.ph/health-records/save-clinical-encounter";const a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json()));return a}async function Bt(e,t){let n="https://api.uerm.edu.ph/health-records/save-clinical-encounter-details";const a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json()));return a}async function Mt(e,t){let n="https://api.uerm.edu.ph/health-records/clinical-encounters";const a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return a.json()}async function Ut(e,t){let n="https://api.uerm.edu.ph/health-records/update-clinical-encounter";const a=await fetch(n,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json()));return a}async function Vt(e,t){let n="https://api.uerm.edu.ph/health-records/update-clinical-encounter-details";const a=await fetch(n,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json()));return a}async function Wt(e,t){let n=`https://api.uerm.edu.ph/health-records/clinical-encounters/${t.clinicalEncounterID}`;const a=await fetch(n,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t.finalUpdateData)});return a.json()}async function Yt(e,t){let n="https://api.uerm.edu.ph/health-records/patient-general-notes";const a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json()));return void 0!==a.success&&await e.dispatch("helpers/setInitValuesFields",!0,{root:!0}),a}async function Lt(e,t){let n=`https://api.uerm.edu.ph/health-records/patient-general-notes/${t.patientNo}`;const a=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));a.length>0&&e.commit("setPatientGeneralNotes",a)}const Zt={namespaced:!0,getters:y,mutations:g,actions:C,state:Pt},Ht=(0,N.h)((function(){const e=(0,T.MT)({modules:{helpers:te,clinicalNotes:He,patients:dt,user:Tt,bools:Et,encounters:Zt},strict:!1});return e}))},9441:()=>{}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,n),i.exports}n.m=e,(()=>{var e=[];n.O=(t,a,o,i)=>{if(!a){var r=1/0;for(p=0;p<e.length;p++){for(var[a,o,i]=e[p],c=!0,s=0;s<a.length;s++)(!1&i||r>=i)&&Object.keys(n.O).every((e=>n.O[e](a[s])))?a.splice(s--,1):(c=!1,i<r&&(r=i));if(c){e.splice(p--,1);var l=o();void 0!==l&&(t=l)}}return t}i=i||0;for(var p=e.length;p>0&&e[p-1][2]>i;p--)e[p]=e[p-1];e[p]=[a,o,i]}})(),(()=>{n.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return n.d(t,{a:t}),t}})(),(()=>{n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}})(),(()=>{n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,a)=>(n.f[a](e,t),t)),[]))})(),(()=>{n.u=e=>"js/"+(64===e?"chunk-common":e)+"."+{59:"70c66b25",64:"f43ac842",337:"14f9165e",341:"5083f6fb",386:"f54d41fd",429:"c7028c9d",430:"5883b8e5",441:"67daf98a",513:"0d3ffa9f",526:"fd482c0f",548:"2d6ba235",583:"320e56d0",598:"b88eb6b5",614:"d2cb4aee",689:"ae48f5e2",711:"a5b84b57",871:"2f3ef371"}[e]+".js"})(),(()=>{n.miniCssF=e=>"css/"+({143:"app",736:"vendor"}[e]||e)+"."+{143:"25c9bb49",337:"b3823c91",430:"e2d37627",441:"659a2831",526:"e2d37627",711:"f576b162",736:"759c7fc2",871:"f576b162"}[e]+".css"})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="uerm-ehr:";n.l=(a,o,i,r)=>{if(e[a])e[a].push(o);else{var c,s;if(void 0!==i)for(var l=document.getElementsByTagName("script"),p=0;p<l.length;p++){var u=l[p];if(u.getAttribute("src")==a||u.getAttribute("data-webpack")==t+i){c=u;break}}c||(s=!0,c=document.createElement("script"),c.charset="utf-8",c.timeout=120,n.nc&&c.setAttribute("nonce",n.nc),c.setAttribute("data-webpack",t+i),c.src=a),e[a]=[o];var h=(t,n)=>{c.onerror=c.onload=null,clearTimeout(d);var o=e[a];if(delete e[a],c.parentNode&&c.parentNode.removeChild(c),o&&o.forEach((e=>e(n))),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=h.bind(null,c.onerror),c.onload=h.bind(null,c.onload),s&&document.head.appendChild(c)}}})(),(()=>{n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{n.p="/vue/ehr/"})(),(()=>{var e=(e,t,n,a)=>{var o=document.createElement("link");o.rel="stylesheet",o.type="text/css";var i=i=>{if(o.onerror=o.onload=null,"load"===i.type)n();else{var r=i&&("load"===i.type?"missing":i.type),c=i&&i.target&&i.target.href||t,s=new Error("Loading CSS chunk "+e+" failed.\n("+c+")");s.code="CSS_CHUNK_LOAD_FAILED",s.type=r,s.request=c,o.parentNode.removeChild(o),a(s)}};return o.onerror=o.onload=i,o.href=t,document.head.appendChild(o),o},t=(e,t)=>{for(var n=document.getElementsByTagName("link"),a=0;a<n.length;a++){var o=n[a],i=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(i===e||i===t))return o}var r=document.getElementsByTagName("style");for(a=0;a<r.length;a++){o=r[a],i=o.getAttribute("data-href");if(i===e||i===t)return o}},a=a=>new Promise(((o,i)=>{var r=n.miniCssF(a),c=n.p+r;if(t(r,c))return o();e(a,c,o,i)})),o={143:0};n.f.miniCss=(e,t)=>{var n={337:1,430:1,441:1,526:1,711:1,871:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=a(e).then((()=>{o[e]=0}),(t=>{throw delete o[e],t})))}})(),(()=>{var e={143:0};n.f.j=(t,a)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)a.push(o[2]);else{var i=new Promise(((n,a)=>o=e[t]=[n,a]));a.push(o[2]=i);var r=n.p+n.u(t),c=new Error,s=a=>{if(n.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var i=a&&("load"===a.type?"missing":a.type),r=a&&a.target&&a.target.src;c.message="Loading chunk "+t+" failed.\n("+i+": "+r+")",c.name="ChunkLoadError",c.type=i,c.request=r,o[1](c)}};n.l(r,s,"chunk-"+t,t)}},n.O.j=t=>0===e[t];var t=(t,a)=>{var o,i,[r,c,s]=a,l=0;if(r.some((t=>0!==e[t]))){for(o in c)n.o(c,o)&&(n.m[o]=c[o]);if(s)var p=s(n)}for(t&&t(a);l<r.length;l++)i=r[l],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(p)},a=self["webpackChunkuerm_ehr"]=self["webpackChunkuerm_ehr"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=n.O(void 0,[736],(()=>n(4001)));a=n.O(a)})();