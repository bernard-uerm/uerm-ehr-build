(()=>{var e={4001:(e,t,n)=>{"use strict";n(5363),n(71);var o=n(8880),a=n(9592),i=n(3673);function c(e,t,n,o,a,c){const r=(0,i.up)("router-view");return(0,i.wg)(),(0,i.j4)(r)}const r=(0,i.aZ)({name:"App"});var l=n(4260);const s=(0,l.Z)(r,[["render",c]]),h=s;var u=n(7679),p=n(7083),d=n(9582);const m=[{path:"/",component:()=>Promise.all([n.e(736),n.e(64),n.e(307)]).then(n.bind(n,3080)),children:[{name:"dashboard",path:"",component:()=>Promise.all([n.e(736),n.e(441)]).then(n.bind(n,1441))}]},{path:"/admin",component:()=>Promise.all([n.e(736),n.e(341)]).then(n.bind(n,2341)),children:[{name:"ClinicalNoteCategories",path:"categories",component:()=>Promise.all([n.e(736),n.e(64),n.e(598)]).then(n.bind(n,598)),children:[{name:"CategorySections",path:"sections/:sectionID",component:()=>Promise.all([n.e(736),n.e(64)]).then(n.bind(n,6322))}]},{name:"ClinicalNotes",path:"clinical-notes/:categoryCode",component:()=>Promise.all([n.e(736),n.e(64),n.e(429)]).then(n.bind(n,3429))},{name:"Template",path:"template",component:()=>Promise.all([n.e(736),n.e(64),n.e(583)]).then(n.bind(n,3583)),children:[{name:"NewTemplate",path:"new",component:()=>Promise.all([n.e(736),n.e(64)]).then(n.bind(n,3756))},{name:"EditTemplate",path:"edit/:id",component:()=>Promise.all([n.e(736),n.e(64)]).then(n.bind(n,4635))}]}]},{path:"/patient-dashboard",component:()=>Promise.all([n.e(736),n.e(64),n.e(307)]).then(n.bind(n,3080)),children:[{path:":patientno",component:()=>Promise.all([n.e(736),n.e(64),n.e(59)]).then(n.bind(n,59))}]},{path:"/patient-record",component:()=>Promise.all([n.e(736),n.e(64),n.e(307)]).then(n.bind(n,3080)),children:[{path:"imaging/:patientno",component:()=>Promise.all([n.e(736),n.e(64),n.e(513)]).then(n.bind(n,3513))},{path:"laboratories/:patientno",component:()=>Promise.all([n.e(736),n.e(64),n.e(548)]).then(n.bind(n,7548))},{path:"consultation/:patientno",component:()=>Promise.all([n.e(736),n.e(386)]).then(n.bind(n,5386))}]},{path:"/doctors",component:()=>Promise.all([n.e(736),n.e(64),n.e(307)]).then(n.bind(n,3080)),children:[{name:"doctors",path:"/doctors/:routes",component:()=>Promise.all([n.e(736),n.e(64),n.e(526)]).then(n.bind(n,7585))}]},{path:"/nurses",component:()=>Promise.all([n.e(736),n.e(64),n.e(307)]).then(n.bind(n,3080)),children:[{name:"nurses",path:"/nurses/:routes",component:()=>Promise.all([n.e(736),n.e(64),n.e(430)]).then(n.bind(n,4543))}]},{path:"/emr",component:()=>Promise.all([n.e(736),n.e(64),n.e(307)]).then(n.bind(n,3080)),children:[{name:"emr",path:"/emr/case/:caseNo",component:()=>Promise.all([n.e(736),n.e(64),n.e(153)]).then(n.bind(n,9040))},{name:"emr-checked",path:"/emr/case/:caseNo/checked",component:()=>Promise.all([n.e(736),n.e(64),n.e(153)]).then(n.bind(n,9040))},{name:"emr-test",path:"/emr/emr-test",component:()=>Promise.all([n.e(736),n.e(689)]).then(n.bind(n,2230))}]},{path:"/chat",component:()=>Promise.all([n.e(736),n.e(337)]).then(n.bind(n,3337)),children:[{name:"Chat",path:"/",component:()=>Promise.all([n.e(736),n.e(64),n.e(153)]).then(n.bind(n,9040))}]},{path:"/:catchAll(.*)*",component:()=>Promise.all([n.e(736),n.e(614)]).then(n.bind(n,5614))}],f=m,y=(0,p.BC)((function(){const e=d.r5,t=(0,d.p7)({scrollBehavior:()=>({left:0,top:0}),routes:f,history:e("/vue/ehr/")});return t}));async function g(e,t){const o="function"===typeof u["default"]?await(0,u["default"])({}):u["default"],{storeKey:i}=await Promise.resolve().then(n.bind(n,7679)),c="function"===typeof y?await y({store:o}):y;o.$router=c;const r=e(h);return r.use(a.Z,t),{app:r,store:o,storeKey:i,router:c}}var C=n(4434),N=n(5151);const T={config:{notify:{},dialog:{}},plugins:{Notify:C.Z,Dialog:N.Z}},v="/vue/ehr/",b=/\/\//,w=e=>(v+e).replace(b,"/");async function S({app:e,router:t,store:n,storeKey:o},a){let i=!1;const c=e=>{try{return w(t.resolve(e).href)}catch(n){}return Object(e)===e?null:e},r=e=>{if(i=!0,"string"===typeof e&&/^https?:\/\//.test(e))return void(window.location.href=e);const t=c(e);null!==t&&(window.location.href=t,window.location.reload())},l=window.location.href.replace(window.location.origin,"");for(let h=0;!1===i&&h<a.length;h++)try{await a[h]({app:e,router:t,store:n,ssrContext:null,redirect:r,urlPath:l,publicPath:v})}catch(s){return s&&s.url?void r(s.url):void console.error("[Quasar] boot error:",s)}!0!==i&&(e.use(t),e.use(n,o),e.mount("#q-app"))}g(o.ri,T).then((e=>Promise.all([Promise.resolve().then(n.bind(n,5474))]).then((t=>{const n=t.map((e=>e.default)).filter((e=>"function"===typeof e));S(e,n)}))))},5474:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r,api:()=>c});var o=n(7083),a=n(52),i=n.n(a);const c=i().create({baseURL:"https://api.example.com"}),r=(0,o.xr)((({app:e})=>{e.config.globalProperties.$axios=i(),e.config.globalProperties.$api=c}))},7261:()=>{},7679:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>an});var o={};n.r(o),n.d(o,{buildHashTable:()=>I,clinicalNoteFilter:()=>J,clinicalNoteTreeValues:()=>R,colorEMR:()=>E,drawerRight:()=>S,infiniteScroll:()=>j,initValuesFields:()=>F,isEmpty:()=>$,loadTree:()=>G,mainNavigation:()=>b,patientEncounterInfoTab:()=>P,removedFields:()=>_,showClinicalNoteDetails:()=>D,templateFields:()=>O,userRole:()=>w});var a={};n.r(a),n.d(a,{loadTree:()=>H,openRightDrawer:()=>x,setClinicalNoteFilter:()=>L,setClinicalNoteTreeValues:()=>Z,setColorEMR:()=>A,setInfiniteScroll:()=>q,setInitValuesFields:()=>W,setPatientEncounterInfoTab:()=>k,setRemovedField:()=>M,setShowClinicalNoteDetails:()=>V,setTemplateFields:()=>B,toggleSelectedTitle:()=>Y,toggleStatusField:()=>U});var i={};n.r(i),n.d(i,{decrypt:()=>te,encrypt:()=>ee,formatDate:()=>ie,getQnapAuth:()=>ne,loadTree:()=>se,openRightDrawer:()=>K,searchIcd10:()=>ae,setClinicalNoteFilter:()=>re,setClinicalNoteTreeValues:()=>le,setColorEMR:()=>Q,setInfiniteScroll:()=>oe,setInitValuesFields:()=>ce,setPatientEncounterInfoTab:()=>z,showClinicalNoteDetails:()=>X});var c={};n.r(c),n.d(c,{admissionEncounterNotes:()=>De,clinicalCategoryList:()=>Ne,clinicalCategoryNotes:()=>ge,clinicalInputTypes:()=>Ce,clinicalNoteCategories:()=>de,clinicalNoteCategoryTree:()=>pe,clinicalNoteDetailValues:()=>ye,clinicalNoteDetails:()=>fe,clinicalNoteTemplateFormat:()=>ve,clinicalNotes:()=>me,clinicalNotesGrouped:()=>Te,clinicalTemplate:()=>be,currentClinicalNote:()=>we,generalNotes:()=>Ee,templateDetails:()=>Se,visitEncounterNotes:()=>Pe});var r={};n.r(r),n.d(r,{setAdmissionEncounterNotes:()=>Ve,setClinicalCategoryNotes:()=>Ie,setClinicalInputTypes:()=>Je,setClinicalNoteCategories:()=>Oe,setClinicalNoteCategoryTree:()=>je,setClinicalNoteDetailValues:()=>$e,setClinicalNoteDetails:()=>Fe,setClinicalNoteTemplateDetails:()=>xe,setClinicalNoteTemplateFormat:()=>Re,setClinicalNotes:()=>_e,setClinicalTemplate:()=>Ge,setGeneralDataNotes:()=>Ae,setVisitEncounterNotes:()=>ke});var l={};n.r(l),n.d(l,{fetchClinicalCategories:()=>Be,fetchClinicalCategoryNotes:()=>Me,fetchClinicalInputTypes:()=>Le,fetchClinicalNoteCategoryTree:()=>qe,fetchClinicalNoteDetailValues:()=>Ye,fetchClinicalNoteDetails:()=>We,fetchClinicalNotes:()=>Ue,fetchTemplates:()=>tt,getTemplateById:()=>nt,saveClinicalNoteCategories:()=>Ke,saveClinicalNoteFields:()=>Xe,saveClinicalNoteTemplate:()=>ze,saveClinicalNoteTemplateFields:()=>et,saveClinicalNotes:()=>Ze,updateClinicalNoteCategories:()=>Qe,updateClinicalNoteTemplates:()=>ot,updateClinicalNotes:()=>He});var s={};n.r(s),n.d(s,{active:()=>ut,patientDepts:()=>st,patients:()=>ct,patientsGrouped:()=>lt,pxType:()=>rt,searchList:()=>ht});var h={};n.r(h),n.d(h,{populatePatientSearch:()=>dt,populatePatients:()=>pt});var u={};n.r(u),n.d(u,{getActiveStat:()=>Tt,getBasicInfo:()=>ft,getOPDPatients:()=>vt,getPatientsByDr:()=>Nt,history:()=>yt,imagingResults:()=>gt,laboratoryResults:()=>Ct,search:()=>mt});var p={};n.r(p),n.d(p,{accountType:()=>Et,credentials:()=>Pt,role:()=>St});var d={};n.r(d),n.d(d,{changeAccount:()=>Dt});var m={};n.r(m),n.d(m,{isPatientSearching:()=>Ft});var f={};n.r(f),n.d(f,{isPatientSearching:()=>$t});var y={};n.r(y),n.d(y,{clinicalEncounterDetails:()=>At,clinicalEncounters:()=>xt,clinicalEncountersPage:()=>kt,clinicalEncountersRows:()=>Vt,encounterCases:()=>Gt,patientGeneralNotes:()=>qt});var g={};n.r(g),n.d(g,{setClinicalEncounterDetails:()=>Mt,setClinicalEncounters:()=>Ut,setEncounterCases:()=>Bt,setPatientGeneralNotes:()=>Wt});var C={};n.r(C),n.d(C,{fetchGeneralNotes:()=>nn,getCases:()=>Yt,getClinicalEncounterDetails:()=>Zt,getClinicalEncounters:()=>Lt,saveClinicalEncounter:()=>Ht,saveClinicalEncounterDetails:()=>Kt,savePatientEncounterDetails:()=>Qt,savePatientGeneralNotes:()=>tn,updateClinicalEncounter:()=>zt,updateClinicalEncounterDetails:()=>Xt,updatePatientEncounterDetails:()=>en});var N=n(7083),T=n(3617);function v(){return{role:"nurses",drawerRight:!0,colorEMR:"primary",patientEncounterInfoTab:"otherInfo",showClinicalNoteDetails:!1,currentCNDDetails:null,clinicalNoteTitle:null,currentCNTab:null,userRole:"nurses",infiniteScroll:!0,templateFields:[],removedFields:[],initValuesFields:!1,clinicalNoteFilter:"",clinicalNoteTreeValues:[],loadTree:!1,mainNavigation:[{name:"HOME",icon:"fa fa-hospital",route:"/"},{name:"TOOLS",icon:"fa fa-tools",route:"/role/tools"},{name:"ANALYTICS",icon:"fa fa-chart-line",route:"/role/analytics"}],isEmpty:e=>!!(null===e||void 0===e||""===e||Array.isArray(e)&&0===e.length||"object"===typeof e&&0===Object.keys(e).length),buildHashTable:(e,t="key")=>{if(null==e||!Array.isArray(e))throw"`arr` argument is required and should be an array.";const n={};return e.forEach((e=>n[e[t]]={...e})),n}}}function b(e){return e.mainNavigation}function w(e){return e.userRole}function S(e){return e.drawerRight}function E(e){return e.colorEMR}function P(e){return e.patientEncounterInfoTab}function D(e){return e.showClinicalNoteDetails}function j(e){return e.infiniteScroll}function O(e){return e.templateFields}function _(e){return e.removedFields}function F(e){return e.initValuesFields}function $(e){return e.isEmpty}function I(e){return e.buildHashTable}function J(e){return e.clinicalNoteFilter}function R(e){return e.clinicalNoteTreeValues}function G(e){return e.loadTree}n(71);function x(e,t){e.drawerRight=t}function A(e,t){e.colorEMR=t}function k(e,t){e.patientEncounterInfoTab=t}function V(e,t){e.showClinicalNoteDetails=t}function q(e,t){e.infiniteScroll=t}function B(e,t){for(var n of t)n.status="old",n.active=n.active?1:0;e.templateFields=t}function M(e,t){for(var n of t)n.active=0;e.removedFields=t}function U(e,t){for(const[n,o]of e.templateFields.entries())t.index===n&&(o.active=t.status)}function W(e,t){e.initValuesFields=t}function Y(e,t){for(var n of e.templateFields)t.selectedTitle&&t.code===n.code?n.selectedTitle=!0:n.selectedTitle=!1}function L(e,t){e.clinicalNoteFilter=t}function Z(e,t){e.clinicalNoteTreeValues=t}function H(e,t){e.loadTree=t}n(2100),n(246),n(5363);function K(e,t){e.commit("openRightDrawer",t)}function Q(e,t){e.commit("setColorEMR",t)}function z(e,t){e.commit("setPatientEncounterInfoTab",t)}function X(e,t){e.commit("setShowClinicalNoteDetails",t.show),e.commit("setCurrentCNDDetails",t.code)}async function ee(e,t){const n="http://localhost:3000/auth/encrypt?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6",o=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({string:t.toString()})}).then((e=>e.json()));return o}async function te(e,t){const n="http://localhost:3000/auth/decrypt?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6",o=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({string:t.toString()})}).then((e=>e.json()));return o}async function ne(e,t){const n="http://localhost:3000/auth/qnap?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6",o=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));return o}async function oe(e,t){e.commit("setInfiniteScroll",t)}async function ae(e,t){const n=`http://localhost:3000/ehr/search-icd-10/${t.search}/${t.type}?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6`,o=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));for(var a of o)a.label=a.code,a.value=a.description;return o}function ie(e,t){var n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];const o=t.date.replace(/T/," ").replace(/Z/," ").substr("0","16"),a=new Date(o),i=new Intl.DateTimeFormat("en",{year:"numeric"}).format(a),c=new Intl.DateTimeFormat("en",{month:"long"}).format(a),r=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(a);let l=a.getMinutes(),s=a.getHours();l<10&&(l="0"+l);let h="AM";s>12&&(s-=12,h="PM");const u=`${s}:${l} ${h}`;let p=n[a.getDay()],d="";return t.withDayName?(d=`${p.toUpperCase()}, ${c.toUpperCase()} ${r}, ${i} ${u} `,d):(d=`${c.toUpperCase()} ${r}, ${i} ${u} `,d)}function ce(e,t){e.commit("setInitValuesFields",t)}function re(e,t){e.commit("setClinicalNoteFilter",t)}function le(e,t){e.commit("setClinicalNoteTreeValues",t)}function se(e,t){e.commit("loadTree",t)}const he={namespaced:!0,getters:o,mutations:a,actions:i,state:v};function ue(){return{clinicalNoteCategoryTree:[],tmpClinicalRecord:[],tmpClinicalNote:[],clinicalNoteCategories:[],clinicalNotes:[],clinicalNoteDetails:[],clinicalNoteDetailValues:[],clinicalInputTypes:[],clinicalCategoryNotes:[],clinicalNoteTemplateFormat:[],clinicalTemplate:[],currentClinicalNote:null,templateDetails:[],generalNotes:[],visitEncounterNotes:[],admissionEncounterNotes:[]}}function pe(e){return e.clinicalNoteCategoryTree}function de(e){return e.clinicalNoteCategories}function me(e){return e.clinicalNotes}function fe(e){return e.clinicalNoteDetails}function ye(e){return e.clinicalNoteDetailValues}function ge(e){return e.clinicalCategoryNotes}function Ce(e){return e.clinicalInputTypes}function Ne(e){let t=e.clinicalNoteCategories.map((e=>({label:e.name,value:e.code})));return t=[...new Set(t)],t}function Te(e){let t=e.clinicalNotes.map((e=>({code:e.code,name:e.name,label:e.name,value:e.code})));return t=[...new Set(t)],{categories:t,notes:e.clinicalNotes}}function ve(e){return e.clinicalNoteTemplateFormat}function be(e){return e.clinicalTemplate}function we(e){return e.currentClinicalNote}function Se(e){return e.templateDetails}function Ee(e){return e.generalNotes}function Pe(e){return e.visitEncounterNotes}function De(e){return e.admissionEncounterNotes}function je(e,t){e.clinicalNoteCategoryTree=t}function Oe(e,t){e.clinicalNoteCategories=t}function _e(e,t){e.currentClinicalNote=t[0].code,e.clinicalNotes=t}function Fe(e,t){e.clinicalNoteDetails=t}function $e(e,t){e.clinicalNoteDetailValues=t}function Ie(e,t){e.clinicalCategoryNotes=t}function Je(e,t){e.clinicalInputTypes=t}function Re(e,t){e.clinicalNoteTemplateFormat=t}function Ge(e,t){e.clinicalTemplate=t}function xe(e,t){e.templateDetails=t}function Ae(e,t){e.generalNotes=t}function ke(e,t){e.visitEncounterNotes=t}function Ve(e,t){e.admissionEncounterNotes=t}async function qe(e){let t="http://localhost:3000/health-records/clinical-note-category-tree";const n=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));if(n.length>0){for(var o of n){o.icon=""===o.icon?null:o.icon,o.icon=null===o.icon?"fa fa-first-aid":o.icon;const e=o.children.sort(((e,t)=>e.name>t.name?1:t.name>e.name?-1:0));for(var a of(o.children=e,o.children)){const e=a.children.sort(((e,t)=>e.name>t.name?1:t.name>e.name?-1:0));a.children=e}}var i=n.filter((e=>"0"===e.categorical_type));e.commit("setGeneralDataNotes",i);var c=n.filter((e=>"1"===e.categorical_type));e.commit("setVisitEncounterNotes",c);var r=n.filter((e=>"2"===e.categorical_type));e.commit("setAdmissionEncounterNotes",r),e.commit("setClinicalNoteCategoryTree",n)}return n}async function Be(e,t){let n="";n=t?t.clinicalCategoryCode?`http://localhost:3000/health-records/clinical-category-notes?categoryCode=${t.clinicalCategoryCode}`:`http://localhost:3000/health-records/clinical-note-categories/${t.sectionID}`:"http://localhost:3000/health-records/clinical-note-categories";const o=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));if(o.length>0){for(var a of o){const t=await e.dispatch("helpers/formatDate",{withDayName:!0,date:a.datetime_created},{root:!0});a.datetime_created=t;const n=await e.dispatch("helpers/formatDate",{withDayName:!0,date:a.datetime_updated},{root:!0});a.datetime_updated=n,a.filterName=a.clinical_category_name.toUpperCase(),a.label=a.clinical_category_name.toUpperCase(),a.name=a.clinical_category_name,a.id=a.clinical_category_id}e.commit("setClinicalNoteCategories",o)}}async function Me(e,t){let n="";t?t.sectionID&&(n=`http://localhost:3000/health-records/clinical-note-categories/${t.sectionID}`):n="http://localhost:3000/health-records/clinical-note-categories/";const o=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));if(o.length>0){var a=[],i=[];for(var c of o){c.filterName=c.clinical_category_name.toUpperCase();const e={label:c.clinical_category_name.toUpperCase(),categorical_type:c.categorical_type,icon:""===c.icon?null:c.icon};a.push(e)}for(var r of(a=a.filter(((e,t,n)=>t===n.findIndex((t=>t.label===e.label)))),a)){var l=o.filter((e=>e.clinical_category_name.toUpperCase()===r.label));for(var s of l)null!==s.clinical_note_name?s.label=s.clinical_note_name.toUpperCase():s.label="";const e={label:r.label,icon:r.icon,categoricalType:r.categorical_type,categoryCode:l[0].clinical_category,children:l};i.push(e)}var h=i.filter((e=>"0"===e.categoricalType));e.commit("setGeneralDataNotes",h);var u=i.filter((e=>"1"===e.categoricalType));e.commit("setVisitEncounterNotes",u);var p=i.filter((e=>"2"===e.categoricalType));e.commit("setAdmissionEncounterNotes",p),e.commit("setClinicalCategoryNotes",i)}else e.commit("setClinicalCategoryNotes",[])}async function Ue(e,t){let n="";t?t.clinicalNoteCode?n=`http://localhost:3000/health-records/clinical-notes?clinicalNoteCode=${t.clinicalNoteCode}`:t.sectionType&&(n=`http://localhost:3000/health-records/clinical-notes?sectionType=${t.sectionType}`):n="http://localhost:3000/health-records/clinical-notes";const o=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));if(o.length>0){for(let t of o){const n=await e.dispatch("helpers/formatDate",{withDayName:!0,date:t.datetime_created},{root:!0});t.datetime_created=n;const o=await e.dispatch("helpers/formatDate",{withDayName:!0,date:t.datetime_updated},{root:!0});t.datetime_updated=o,t.filterName=t.name.toUpperCase(),null!==t.template_format&&(t.template_format=JSON.parse(t.template_format))}return e.commit("setClinicalNotes",o),o}e.commit("setClinicalNotes",[])}async function We(e,t){const n=await fetch(`http://localhost:3000/health-records/clinical-note-details?clinicalNoteCode=${t}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));if(n.length>0){var o=[];for(var a of n){console.log(a);const e={type:a.input_type.toLowerCase(),label:a.clinical_field,required:a.clinical_field_required,requiredMessage:a.clinical_field_required_message,options:a.options,code:a.clinical_field_code};o.push(e)}e.commit("setClinicalNoteTemplateDetails",o),e.commit("setClinicalNoteDetails",n)}else e.commit("setClinicalNoteDetails",[])}async function Ye(e,t){const n=await fetch(`http://localhost:3000/health-records/clinical-note-detail-values?clinicalFieldCode=${t}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));n.length>0?e.commit("setClinicalNoteDetailValues",n):e.commit("setClinicalNoteDetailValues",[])}async function Le(e,t){const n=await fetch(`http://localhost:3000/health-records/clinical-input-types?clinicalFieldCode=${t}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));if(n.length>0){for(var o of n)o.type=name.toLowerCase();e.commit("setClinicalInputTypes",n)}else e.commit("setClinicalInputTypes",[])}async function Ze(e,t){try{const e=await fetch("http://localhost:3000/health-records/save-clinical-notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json()));return e[0].ERR?{message:e[0].MSG,error:e[0].ERR}:{success:e[0].MSG}}catch(n){return console.log(n),{error:n}}}async function He(e,t){try{const e=await fetch("http://localhost:3000/health-records/update-clinical-notes",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json()));return console.log(e),e[0].ERR?{message:e[0].MSG,error:e[0].ERR}:{success:e[0].MSG}}catch(n){return console.log(n),{error:n}}}async function Ke(e,t){try{const e=await fetch("http://localhost:3000/health-records/clinical-note-categories",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json()));return e.length>0?{success:1,response:e}:e}catch(n){return console.log(n),{error:n}}}async function Qe(e,t){try{console.log(`http://localhost:3000/health-records/clinical-note-categories/${t.id}`);const e=await fetch(`http://localhost:3000/health-records/clinical-note-categories/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json()));return e}catch(n){return console.log(n),{error:n}}}async function ze(e,t){try{const e=await fetch("http://localhost:3000/health-records/save-clinical-note-template",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json()));return e.length>0?e:{error:e}}catch(n){return console.log(n),{error:n}}}async function Xe(e,t){try{const e=await fetch("http://localhost:3000/health-records/save-clinical-note-fields",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json()));return console.log(e),e.length>0?e:{error:e}}catch(n){return console.log(n),{error:n}}}async function et(e,t){try{const e=await fetch("http://localhost:3000/health-records/clinical-note-templates",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json()));return console.log(e),e.length>0?e:{error:e}}catch(n){return console.log(n),{error:n}}}async function tt(e,t){let n="";n=t?`http://localhost:3000/ehr/clinical-note-templates?clinicalNoteCode=${t}`:"http://localhost:3000/ehr/clinical-note-templates?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6",console.log(n,"url");const o=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));return o.length>0?(console.log(o,"respoisne"),e.commit("setClinicalTemplate",o)):e.commit("setClinicalTemplate",[]),o}async function nt(e,t){const n="http://localhost:3000/ehr/template?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6";console.log(n);const o=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})}).then((e=>e.json()));return console.log(o),o}async function ot(e,t){try{console.log(t);const e=await fetch("http://localhost:3000/health-records/clinical-note-templates",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json()));return console.log(e),e}catch(n){return console.log(n),{error:n}}}const at={namespaced:!0,getters:c,mutations:r,actions:l,state:ue};function it(){return{px:[],pxSearch:[],pxType:null,showDrPatients:!1,drCode:"476",activePatientsByDr:[]}}function ct(e){return e.px}function rt(e){return e.pxType}function lt(e){const t={},n=e.showDrPatients?e.px.filter((t=>t.drCode==e.drCode)):e.px;let o=[];o=n.map((e=>e.caseDept)),o=[...new Set(o)];for(let a of o)t[a]=[];for(let a of n)t[a.caseDept].push({...a,patientName:`${a.lastname}, ${a.firstname} ${a.middlename}`,birthDate:new Date(a.birthDate).toISOString().split("T")[0]});return t}function st(e){let t=[],n=[];const o=e.showDrPatients?e.px.filter((t=>t.drCode==e.drCode)):e.px;n=o.map((e=>e.caseDept)),n=[...new Set(n)];for(let a of n)t.push({description:a,qty:o.filter((e=>e.caseDept==a)).length});return t}function ht(e){return e.pxSearch}function ut(e){return e.activePatientsByDr}function pt(e,t){e.px=t}function dt(e,t){e.pxSearch=t}async function mt(e,t){const n="http://localhost:3000/ehr/search-name?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6",o=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({search:t})}).then((e=>e.json()));e.commit("populatePatientSearch",o)}async function ft(e,t){const n="http://localhost:3000/ehr/basic-info?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6",o=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({patientno:t})}).then((e=>e.json()));return o}async function yt(e,t){const n="http://localhost:3000/ehr/consultation-history?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6",o=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({patientno:t})}).then((e=>e.json()));return o}async function gt(e,t){const n="http://localhost:3000/ehr/imaging-results?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6",o=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({patientno:t.patientno,fetchAll:t.fetchAll})}).then((e=>e.json()));return o}async function Ct(e,t){const n="http://localhost:3000/ehr/lab-results?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6",o=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({patientno:t.patientno,fetchAll:t.fetchAll})}).then((e=>e.json()));return o}async function Nt(e,t){const n="http://localhost:3000/ehr/active-patients-dr?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6",o=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:t})}).then((e=>e.json()));return o}async function Tt(e,t){const n="http://localhost:3000/ehr/active-cases-stat?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6",o=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));return o}async function vt(e){const t="http://localhost:3000/ehr/active-patients-opd?auth=qG7JotCSrFJO2eSW4RdaIPYx33ECiBs6",n=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));return n}const bt={namespaced:!0,getters:s,mutations:h,actions:u,state:it};function wt(){return{role:"nurses",credentials:{code:"100",accountType:"DR",userID:"1"}}}function St(e){return e.role}function Et(e){return e.credentials.accountType}function Pt(e){return e.credentials}function Dt(e,t){e.credentials.accountType=t.code,e.role=t.role}var jt=n(9441);const Ot={namespaced:!0,state:wt,getters:p,mutations:d,actions:jt};function _t(){return{isPatientSearching:!1}}function Ft(e){return e.isPatientSearching}function $t(e,t){e.isPatientSearching=t}var It=n(7261);const Jt={namespaced:!0,state:_t,getters:m,mutations:f,actions:It};function Rt(){return{encounterCases:[],clinicalEncounters:[],clinicalEncounterDetails:[],clinicalEncountersPage:1,clinicalEncountersRows:5,patientGeneralNotes:[]}}function Gt(e){return e.encounterCases}function xt(e){return e.clinicalEncounters}function At(e){return e.clinicalEncounterDetails}function kt(e){return e.clinicalEncountersPage}function Vt(e){return e.clinicalEncountersRows}function qt(e){return e.patientGeneralNotes}function Bt(e,t){e.encounterCases=t}function Mt(e,t){e.clinicalEncounterDetails=t}function Ut(e,t){e.clinicalEncounters=t}function Wt(e,t){e.patientGeneralNotes=t}async function Yt(e,t){var n="";"active"===t.type?n=`http://localhost:3000/health-records/encounter-cases?active=1&dateFrom=${t.dateFrom}&dateTo=${t.dateTo}`:"forDischarge"===t.type?n=`http://localhost:3000/health-records/encounter-cases?forDischarge=1&dateFrom=${t.dateFrom}&dateTo=${t.dateTo}`:"discharged"===t.type?n=`http://localhost:3000/health-records/encounter-cases?discharged=1&dateFrom=${t.dateFrom}&dateTo=${t.dateTo}`:"checking"===t.type&&(n=`http://localhost:3000/health-records/encounter-cases?caseNo=${t.caseNo}`);const o=await fetch(`${n}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));if(o.length>0){var a="";for(var i of(a="checking"===t.type?o:o.filter((e=>e.patient_type===t.patientType)),a)){const n=await e.dispatch("helpers/encrypt",i.case_no,{root:!0});i.encryptedCaseNo=n.encrypted;const o=await e.dispatch("helpers/encrypt",i.patient_no,{root:!0});i.encryptedPatientNo=o.encrypted,i.name=`${i.last_name}, ${i.first_name} ${i.middle_name}`,"E"===t.patientType?i.colorIndicator="red":"O"===t.patientType?i.colorIndicator="light-green":"I"===t.patientType&&(i.colorIndicator="light-blue"),i.caseNumber=i.case_no,i.patientID=i.patient_no;const a=i.datetime_admitted.replace(/T/," ").replace(/Z/," ").substr("0","16"),s=new Date(`${a}`),h=new Intl.DateTimeFormat("en",{year:"numeric"}).format(s),u=new Intl.DateTimeFormat("en",{month:"long"}).format(s),p=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(s);var c=s.getMinutes(),r=s.getHours();c<10&&(c="0"+c);var l="AM";r>12&&(r-=12,l="PM");const d=`${r}:${c} ${l}`;i.admission=`${u} ${p}, ${h} ${d}`;const m=i.date_of_birth.replace(/T/," ").replace(/Z/," ").substr("0","16"),f=new Date(`${m}`),y=new Intl.DateTimeFormat("en",{year:"numeric"}).format(f),g=new Intl.DateTimeFormat("en",{month:"long"}).format(f),C=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(f);i.birthDate=`${g} ${C}, ${y}`}e.commit("setEncounterCases",a)}else e.commit("setEncounterCases",[])}async function Lt(e,t){let n="";n=t.paginated?`http://localhost:3000/health-records/clinical-encounters/?caseNo=${t.caseNo}&patientNo=${t.patientNo}&paginated=${t.paginated}&pageNo=${t.pageNo}&rowsPage=${t.rowsPage}`:t.checking?t.byCategoryCode?`http://localhost:3000/health-records/clinical-encounters/?checking=true&byCategorCode=true&patientNo=${t.patientNo}&clinicalCategoryCode=${t.clinicalCategoryCode}`:t.byCategoricalType?`http://localhost:3000/health-records/clinical-encounters/?checking=true&byCategoricalType=true&caseNo=${t.caseNo}&categoricalType=${t.categoricalType}`:`http://localhost:3000/health-records/clinical-encounters/?checking=true&patientNo=${t.patientNo}&clinicalNoteCode=${t.clinicalNoteCode}`:`http://localhost:3000/health-records/clinical-encounters/?caseNo=${t.caseNo}&clinicalNoteCode=${t.clinicalNoteCode}`,console.log(n);const o=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));if(o.length>0){for(var a of o){const t=await e.dispatch("helpers/formatDate",{withDayName:!0,date:a.update_datetime},{root:!0});a.update_datetime=t;const n=await e.dispatch("helpers/formatDate",{withDayName:!0,date:a.save_datetime},{root:!0});a.save_datetime=n,a.result_format=JSON.parse(a.result_format),a.title=a.result_format.title,a.user_name=a.user_name.toUpperCase()}e.commit("setClinicalEncounters",o)}else e.commit("setClinicalEncounters",[]),await e.dispatch("helpers/setInfiniteScroll",!1,{root:!0})}async function Zt(e,t){let n=`http://localhost:3000/health-records/clinical-encounter-details/?clinicalEncounterID=${t.clinicalEncounterID}`;const o=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));o.length>0&&e.commit("setClinicalEncounterDetails",o),console.log(o,"dsfsfs")}async function Ht(e,t){let n="http://localhost:3000/health-records/save-clinical-encounter";const o=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json()));return o}async function Kt(e,t){let n="http://localhost:3000/health-records/save-clinical-encounter-details";const o=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json()));return o}async function Qt(e,t){let n="http://localhost:3000/health-records/clinical-encounters";const o=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return o.json()}async function zt(e,t){let n="http://localhost:3000/health-records/update-clinical-encounter";const o=await fetch(n,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json()));return o}async function Xt(e,t){let n="http://localhost:3000/health-records/update-clinical-encounter-details";const o=await fetch(n,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json()));return o}async function en(e,t){let n=`http://localhost:3000/health-records/clinical-encounters/${t.clinicalEncounterID}`;const o=await fetch(n,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t.finalUpdateData)});return o.json()}async function tn(e,t){let n="http://localhost:3000/health-records/patient-general-notes";const o=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json()));return void 0!==o.success&&await e.dispatch("helpers/setInitValuesFields",!0,{root:!0}),o}async function nn(e,t){let n=`http://localhost:3000/health-records/patient-general-notes/${t.patientNo}`;const o=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));o.length>0&&e.commit("setPatientGeneralNotes",o)}const on={namespaced:!0,getters:y,mutations:g,actions:C,state:Rt},an=(0,N.h)((function(){const e=(0,T.MT)({modules:{helpers:he,clinicalNotes:at,patients:bt,user:Ot,bools:Jt,encounters:on},strict:!1});return e}))},9441:()=>{}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.m=e,(()=>{var e=[];n.O=(t,o,a,i)=>{if(!o){var c=1/0;for(h=0;h<e.length;h++){for(var[o,a,i]=e[h],r=!0,l=0;l<o.length;l++)(!1&i||c>=i)&&Object.keys(n.O).every((e=>n.O[e](o[l])))?o.splice(l--,1):(r=!1,i<c&&(c=i));if(r){e.splice(h--,1);var s=a();void 0!==s&&(t=s)}}return t}i=i||0;for(var h=e.length;h>0&&e[h-1][2]>i;h--)e[h]=e[h-1];e[h]=[o,a,i]}})(),(()=>{n.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return n.d(t,{a:t}),t}})(),(()=>{n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}})(),(()=>{n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,o)=>(n.f[o](e,t),t)),[]))})(),(()=>{n.u=e=>"js/"+(64===e?"chunk-common":e)+"."+{59:"70c66b25",64:"6ca54a2f",153:"f09e5983",307:"20a3236c",337:"14f9165e",341:"5083f6fb",386:"f54d41fd",429:"c7028c9d",430:"5883b8e5",441:"67daf98a",513:"0d3ffa9f",526:"fd482c0f",548:"2d6ba235",583:"320e56d0",598:"b88eb6b5",614:"d2cb4aee",689:"ae48f5e2"}[e]+".js"})(),(()=>{n.miniCssF=e=>"css/"+({143:"app",736:"vendor"}[e]||e)+"."+{143:"25c9bb49",153:"419b6112",307:"93ca5280",337:"b3823c91",430:"e2d37627",441:"659a2831",526:"e2d37627",736:"759c7fc2"}[e]+".css"})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="uerm-ehr:";n.l=(o,a,i,c)=>{if(e[o])e[o].push(a);else{var r,l;if(void 0!==i)for(var s=document.getElementsByTagName("script"),h=0;h<s.length;h++){var u=s[h];if(u.getAttribute("src")==o||u.getAttribute("data-webpack")==t+i){r=u;break}}r||(l=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,n.nc&&r.setAttribute("nonce",n.nc),r.setAttribute("data-webpack",t+i),r.src=o),e[o]=[a];var p=(t,n)=>{r.onerror=r.onload=null,clearTimeout(d);var a=e[o];if(delete e[o],r.parentNode&&r.parentNode.removeChild(r),a&&a.forEach((e=>e(n))),t)return t(n)},d=setTimeout(p.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=p.bind(null,r.onerror),r.onload=p.bind(null,r.onload),l&&document.head.appendChild(r)}}})(),(()=>{n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{n.p="/vue/ehr/"})(),(()=>{var e=(e,t,n,o)=>{var a=document.createElement("link");a.rel="stylesheet",a.type="text/css";var i=i=>{if(a.onerror=a.onload=null,"load"===i.type)n();else{var c=i&&("load"===i.type?"missing":i.type),r=i&&i.target&&i.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=c,l.request=r,a.parentNode.removeChild(a),o(l)}};return a.onerror=a.onload=i,a.href=t,document.head.appendChild(a),a},t=(e,t)=>{for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var a=n[o],i=a.getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(i===e||i===t))return a}var c=document.getElementsByTagName("style");for(o=0;o<c.length;o++){a=c[o],i=a.getAttribute("data-href");if(i===e||i===t)return a}},o=o=>new Promise(((a,i)=>{var c=n.miniCssF(o),r=n.p+c;if(t(c,r))return a();e(o,r,a,i)})),a={143:0};n.f.miniCss=(e,t)=>{var n={153:1,307:1,337:1,430:1,441:1,526:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=o(e).then((()=>{a[e]=0}),(t=>{throw delete a[e],t})))}})(),(()=>{var e={143:0};n.f.j=(t,o)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)o.push(a[2]);else{var i=new Promise(((n,o)=>a=e[t]=[n,o]));o.push(a[2]=i);var c=n.p+n.u(t),r=new Error,l=o=>{if(n.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var i=o&&("load"===o.type?"missing":o.type),c=o&&o.target&&o.target.src;r.message="Loading chunk "+t+" failed.\n("+i+": "+c+")",r.name="ChunkLoadError",r.type=i,r.request=c,a[1](r)}};n.l(c,l,"chunk-"+t,t)}},n.O.j=t=>0===e[t];var t=(t,o)=>{var a,i,[c,r,l]=o,s=0;if(c.some((t=>0!==e[t]))){for(a in r)n.o(r,a)&&(n.m[a]=r[a]);if(l)var h=l(n)}for(t&&t(o);s<c.length;s++)i=c[s],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(h)},o=self["webpackChunkuerm_ehr"]=self["webpackChunkuerm_ehr"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=n.O(void 0,[736],(()=>n(4001)));o=n.O(o)})();