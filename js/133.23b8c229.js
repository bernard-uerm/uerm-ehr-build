"use strict";(self["webpackChunkuerm_ehr"]=self["webpackChunkuerm_ehr"]||[]).push([[133],{8133:(e,t,l)=>{l.r(t),l.d(t,{default:()=>H});var a=l(3673),s=l(8880);const i={key:2},r={class:"fixed-bottom row justify-center q-pb-md"};function o(e,t,l,o,n,u){const p=(0,a.up)("q-dialog"),d=(0,a.up)("NewTemplate"),c=(0,a.up)("EditTemplate"),m=(0,a.up)("Templates"),g=(0,a.up)("q-fab-action"),w=(0,a.up)("q-fab"),q=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(q,{class:"q-px-lg",style:{"padding-bottom":"100px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{persistent:"","full-height":"","full-width":"",modelValue:e.bools.isDialogOpen,"onUpdate:modelValue":t[0]||(t[0]=t=>e.bools.isDialogOpen=t)},null,8,["modelValue"]),e.isNewTemplate?((0,a.wg)(),(0,a.j4)(d,{key:0,ref:"newTemplate"},null,512)):e.isEditTemplate?((0,a.wg)(),(0,a.j4)(c,{key:1,ref:"newTemplate"},null,512)):((0,a.wg)(),(0,a.iD)("div",i,[(0,a.Wm)(m,{ref:"templates"},null,512)])),(0,a._)("div",r,[(0,a.Wm)(w,{icon:"fas fa-plus",direction:"up",color:"primary",unelevated:""},{default:(0,a.w5)((()=>[e.isNewTemplate?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[(0,a.Wm)(g,{label:"Save Template",icon:"fas fa-save",unelevated:"",color:"positive",square:"",onClick:(0,s.iM)(e.saveTemplate,["prevent"])},null,8,["onClick"]),(0,a.Wm)(g,{color:"teal",label:"Add Field",icon:"fas fa-plus",unelevated:"",onClick:(0,s.iM)(e.showFields,["prevent"]),square:""},null,8,["onClick"])],64)):((0,a.wg)(),(0,a.j4)(g,{key:0,unelevated:"",label:"New Template",icon:"fas fa-plus-circle",color:"blue-3",class:"text-grey-9 bg-white",outline:"",to:"/admin/template/new"}))])),_:1})])])),_:1})}l(1154);var n=l(3756),u=l(4635),p=l(2323);const d={key:0,class:"row justify-center"},c={key:1,class:"row"},m=(0,a.Uk)("Edit Template");function g(e,t,l,i,r,o){const n=(0,a.up)("q-circular-progress"),u=(0,a.up)("q-card-section"),g=(0,a.up)("Date"),w=(0,a.up)("Text"),q=(0,a.up)("Number"),b=(0,a.up)("Textarea"),f=(0,a.up)("Select"),h=(0,a.up)("ICD10"),y=(0,a.up)("NumberRange"),T=(0,a.up)("DateRange"),k=(0,a.up)("q-tooltip"),v=(0,a.up)("q-btn"),Z=(0,a.up)("q-card-actions"),D=(0,a.up)("q-card");return(0,a.wg)(),(0,a.iD)("div",null,[e.bools.isLoading?((0,a.wg)(),(0,a.iD)("div",d,[(0,a.Wm)(n,{indeterminate:"",size:"lg",color:"primary"})])):((0,a.wg)(),(0,a.iD)("div",c,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.templates,(t=>((0,a.wg)(),(0,a.j4)(D,{key:t.id,class:"col-6 q-pa-md",flat:""},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{class:"bg-blue-grey-3"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,p.zw)(`${t.clinicalNote}: ${t.name}`),1)])),_:2},1024),(0,a.Wm)(u,{style:{overflow:"auto",height:"300px"},class:"bg-blue-grey-2"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.getFields(t.format),(e=>((0,a.wg)(),(0,a.iD)("div",{key:e,class:"q-py-sm"},["date"==e.type?((0,a.wg)(),(0,a.j4)(g,{key:0,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required},class:"col"},null,8,["opts"])):"text"==e.type?((0,a.wg)(),(0,a.j4)(w,{key:1,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required},class:"col"},null,8,["opts"])):"number"==e.type?((0,a.wg)(),(0,a.j4)(q,{key:2,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required},class:"col"},null,8,["opts"])):"textarea"==e.type?((0,a.wg)(),(0,a.j4)(b,{key:3,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required},class:"col"},null,8,["opts"])):"select"==e.type?((0,a.wg)(),(0,a.j4)(f,{key:4,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required,options:e.options},class:"col"},null,8,["opts"])):"icd10"==e.type?((0,a.wg)(),(0,a.j4)(h,{key:5,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required},class:"col"},null,8,["opts"])):"numberRange"==e.type?((0,a.wg)(),(0,a.j4)(y,{key:6,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required},class:"col"},null,8,["opts"])):"dateRange"==e.type?((0,a.wg)(),(0,a.j4)(T,{key:7,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required},class:"col"},null,8,["opts"])):(0,a.kq)("",!0)])))),128))])),_:2},1024),(0,a.Wm)(Z,{align:"right",class:"bg-blue-grey-3"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{to:`/admin/template/edit/${t.id}`,onClick:(0,s.iM)((l=>e.editTemplate(t.id)),["prevent"]),round:"",icon:"fas fa-edit",flat:"",color:"red"},{default:(0,a.w5)((()=>[(0,a.Wm)(k,null,{default:(0,a.w5)((()=>[m])),_:1})])),_:2},1032,["to","onClick"])])),_:2},1024)])),_:2},1024)))),128))]))])}var w=l(9172),q=l(6397),b=l(5617),f=l(74),h=l(1314),y=l(1550),T=l(5191),k=l(877);const v=(0,a.aZ)({name:"Templates",data(){return{bools:{isLoading:!1},templates:[]}},components:{Date:w.Z,Text:q.Z,Number:b.Z,Textarea:f.Z,Select:h.Z,ICD10:y.Z,NumberRange:T.Z,DateRange:k.Z},methods:{async getTamplates(){this.bools.isLoading=!0,this.templates=await this.$store.dispatch("clinicalNotes/fetchTemplates"),this.bools.isLoading=!1},async editTemplate(e){const t=await this.$store.dispatch("helpers/encrypt",e);this.$router.push(`/admin/template/edit/${t.encrypted}`)},getFields(e){return JSON.parse(e).fields}},async mounted(){await this.getTamplates()}});var Z=l(4260),D=l(6122),M=l(151),j=l(5589),C=l(9367),N=l(2165),x=l(8870),F=l(7518),W=l.n(F);const $=(0,Z.Z)(v,[["render",g]]),_=$;W()(v,"components",{QCircularProgress:D.Z,QCard:M.Z,QCardSection:j.Z,QCardActions:C.Z,QBtn:N.Z,QTooltip:x.Z});var Q=l(3617);const O=(0,a.aZ)({name:"Template",components:{NewTemplate:n["default"],Templates:_,EditTemplate:u["default"]},computed:{isNewTemplate(){const e=this.$route.path.split("/");return"new"==e[e.length-1]},isEditTemplate(){const e=this.$route.path.split("/");return"edit"==e[e.length-2]},...(0,Q.Se)("helpers",["templateFields"])},data(){return{bools:{isDialogOpen:!1}}},methods:{saveTemplate(){const e=this.$refs.newTemplate.form;e.fields=this.templateFields,console.log(e)},showFields(){this.bools.isDialogOpen=!0},setFields(e){this.$store.commit("helpers/setTemplateFields",e),this.bools.isDialogOpen=!1}}});var R=l(4379),S=l(6778),E=l(9200),L=l(9975);const A=(0,Z.Z)(O,[["render",o]]),H=A;W()(O,"components",{QPage:R.Z,QDialog:S.Z,QFab:E.Z,QFabAction:L.Z})}}]);