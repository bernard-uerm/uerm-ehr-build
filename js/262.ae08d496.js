"use strict";(self["webpackChunkehr"]=self["webpackChunkehr"]||[]).push([[262],{5262:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Q});var o=a(3673);const l=(0,o.Uk)(" UERM Health Records "),r=(0,o.Uk)(" v0.0.1 ");function u(e,t,a,u,s,n){const i=(0,o.up)("q-btn"),c=(0,o.up)("q-toolbar-title"),d=(0,o.up)("q-space"),h=(0,o.up)("q-toolbar"),m=(0,o.up)("q-header"),g=(0,o.up)("q-item-label"),p=(0,o.up)("q-list"),w=(0,o.up)("q-drawer"),f=(0,o.up)("router-view"),b=(0,o.up)("q-page-container"),Z=(0,o.up)("q-layout");return(0,o.wg)(),(0,o.j4)(Z,{view:"lHh Lpr lFf"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{class:"bg-blue-10"},{default:(0,o.w5)((()=>[(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o.Wm)(i,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:t[0]||(t[0]=t=>e.toggleDrawer("left"))}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(i,{round:"",icon:"home",to:"/",color:"grey-2",flat:""}),l])),_:1}),(0,o.Wm)(d),(0,o.Wm)(d),(0,o.Wm)(i,{round:"",icon:"logout",onClick:e.logout,color:"grey-2",flat:""},null,8,["onClick"])])),_:1})])),_:1}),(0,o.Wm)(w,{modelValue:e.drawers.isLeftDrawerOpen,"onUpdate:modelValue":t[1]||(t[1]=t=>e.drawers.isLeftDrawerOpen=t),bordered:""},{default:(0,o.w5)((()=>[(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g,{header:""},{default:(0,o.w5)((()=>[r])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(b,{class:"bg-blue-grey-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(f)])),_:1})])),_:1})}var s=a(3617),n=a(2471);const i=(0,o.aZ)({name:"Main",computed:{...(0,s.Se)("main",["drawers"])},setup(){const e=(0,o.f3)("Vue3GoogleOauth");return{Vue3GoogleOauth:e}},mounted(){this.checkAuth()},methods:{toggleDrawer(e){this.$store.dispatch("main/toggleDrawer",e)},async checkAuth(){const e=n.Z.has("isLoggedIn"),t=n.Z.get("employeeID");if(e){const e={employeeCode:t,password:null,emailAddress:null,mobileNumber:null,authMethod:"uermPassword",authType:"checking"};await this.$store.dispatch("user/validateUser",e)}else this.$router.push("/login")},async logout(){const e=n.Z.get("authMethod");"uermEmail"===e&&await this.googleSignOut(),await this.$store.dispatch("user/logout"),this.checkAuth(0)},async googleSignOut(){try{await this.$gAuth.signOut()}catch(e){console.error(e)}}}});var c=a(4260),d=a(9214),h=a(3812),m=a(9570),g=a(8240),p=a(3747),w=a(2025),f=a(2901),b=a(7011),Z=a(2350),k=a(2652),W=a(7518),y=a.n(W);const q=(0,c.Z)(i,[["render",u]]),Q=q;y()(i,"components",{QLayout:d.Z,QHeader:h.Z,QToolbar:m.Z,QBtn:g.Z,QToolbarTitle:p.Z,QSpace:w.Z,QDrawer:f.Z,QList:b.Z,QItemLabel:Z.Z,QPageContainer:k.Z})}}]);