"use strict";(self["webpackChunkehr"]=self["webpackChunkehr"]||[]).push([[308],{4308:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Z});var l=s(3673),o=s(2323),a=s(8880);const i=(0,l.Uk)(", "),r={class:"text-h6 text-weight-light"},n={key:0,class:"row justify-center"},c={key:1},u=(0,l.Uk)(" No history avalilable. "),d={key:2,class:"row"};function g(e,t,s,g,p,w){const h=(0,l.up)("q-card-section"),m=(0,l.up)("q-scroll-area"),f=(0,l.up)("q-btn"),b=(0,l.up)("q-card-actions"),v=(0,l.up)("q-card"),k=(0,l.up)("q-dialog"),y=(0,l.up)("q-circular-progress"),_=(0,l.up)("q-banner");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(k,{modelValue:e.bools.isDialogOpen,"onUpdate:modelValue":t[1]||(t[1]=t=>e.bools.isDialogOpen=t)},{default:(0,l.w5)((()=>[(0,l.Wm)(v,{class:"column",style:{width:"80vw",height:"75vh"}},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{class:"col-auto text-h5 text-weight-light bg-dark text-grey-2"},{default:(0,l.w5)((()=>[(0,l._)("div",null,[(0,l._)("b",null,(0,o.zw)(e.info.lastName),1),i,(0,l._)("span",null,(0,o.zw)(e.info.firstName)+" "+(0,o.zw)(e.info.middleName),1)]),(0,l._)("div",r,(0,o.zw)(new Date(e.content.date).toUTCString().substr(0,16)),1)])),_:1}),(0,l.Wm)(h,{class:"col",style:{"white-space":"pre-wrap"}},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{style:{height:"100%"}},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.parseProgressNote(e.content.progressNote)),1)])),_:1})])),_:1}),(0,l.Wm)(b,{align:"right"},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{label:"Close",icon:"close",color:"negative",outline:"",onClick:t[0]||(t[0]=(0,a.iM)((t=>e.bools.isDialogOpen=!1),["prevent"]))})])),_:1})])),_:1})])),_:1},8,["modelValue"]),e.bools.isLoading?((0,l.wg)(),(0,l.iD)("div",n,[(0,l.Wm)(y,{indeterminate:"",size:"lg"})])):0==e.progressNotes.length?((0,l.wg)(),(0,l.iD)("div",c,[(0,l.Wm)(_,{class:"bg-red-2"},{default:(0,l.w5)((()=>[u])),_:1})])):((0,l.wg)(),(0,l.iD)("div",d,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.progressNotes,(t=>((0,l.wg)(),(0,l.iD)("div",{class:"col-6 col-md-4 q-pa-sm",key:t},[(0,l.Wm)(v,null,{default:(0,l.w5)((()=>[(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(new Date(t.date).toUTCString().substr(0,16))+" - "+(0,o.zw)(t.caseno),1)])),_:2},1024),(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,{style:{height:"200px","white-space":"pre-wrap"}},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.parseProgressNote(t.progressNote)),1)])),_:2},1024)])),_:2},1024),(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[(0,l.Wm)(f,{class:"full-width",color:"primary",label:"View Full Screen",icon:"fas fa-eye",onClick:(0,a.iM)((s=>e.viewFullScreen(t)),["prevent"])},null,8,["onClick"])])),_:2},1024)])),_:2},1024)])))),128))]))])}s(5363);var p=s(3617);const w=(0,l.aZ)({name:"History",computed:{...(0,p.Se)("patients",["progressNotes","info"])},data(){return{bools:{isLoading:!1,isDialogOpen:!1},content:{}}},methods:{async getProgressNotes(){await this.$store.dispatch("patients/progressNotes",this.$route.params.patientno)},parseProgressNote(e){return e=e.split("=")[1],decodeURIComponent((e+"").replace(/\+/g,"%20"))},viewFullScreen(e){this.bools.isDialogOpen=!0,this.content=e}},async mounted(){this.bools.isLoading=!0,await this.getProgressNotes(),this.bools.isLoading=!1}});var h=s(4260),m=s(6778),f=s(151),b=s(5589),v=s(7704),k=s(9367),y=s(8240),_=s(6122),N=s(5607),W=s(7518),D=s.n(W);const C=(0,h.Z)(w,[["render",g]]),Z=C;D()(w,"components",{QDialog:m.Z,QCard:f.Z,QCardSection:b.Z,QScrollArea:v.Z,QCardActions:k.Z,QBtn:y.Z,QCircularProgress:_.Z,QBanner:N.Z})}}]);