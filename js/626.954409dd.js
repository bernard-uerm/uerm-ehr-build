"use strict";(self["webpackChunkuerm_ehr"]=self["webpackChunkuerm_ehr"]||[]).push([[626],{6626:(e,t,l)=>{l.r(t),l.d(t,{default:()=>rl});var i=l(3673),a=l(2323);const o={key:0,class:"flex flex-center"},s={key:1},n={key:0},c={key:1,class:"row justify-center"},r=(0,i._)("div",{class:"col-12 text-center text-weight-light text-h5"}," MULTIPLE CASE NUMBER DETECTED, PLEASE SELECT THE APPROPRIATE CASE ",-1),d={class:"col-6"};function u(e,t,l,u,p,h){const g=(0,i.up)("PatientEncounterInfo"),f=(0,i.up)("MainEMR"),m=(0,i.up)("q-btn"),N=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(N,{class:(0,a.C_)({"flex flex-center":e.bools.isMultipleCaseNo})},{default:(0,i.w5)((()=>[this.bools.isLoading?((0,i.wg)(),(0,i.iD)("div",o)):((0,i.wg)(),(0,i.iD)("div",s,[e.bools.isMultipleCaseNo?((0,i.wg)(),(0,i.iD)("div",c,[r,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(this.testArr,((t,l)=>((0,i.wg)(),(0,i.iD)("div",{class:"q-pa-md",key:l},[(0,i._)("div",d,[(0,i.Wm)(m,{color:"blue-10",onClick:l=>e.caseRoute(t.case_no),label:t.case_no},null,8,["onClick","label"])])])))),128))])):((0,i.wg)(),(0,i.iD)("div",n,[(0,i.Wm)(g,{encounterCases:this.encounterCases},null,8,["encounterCases"]),(0,i.Wm)(f,{clinicalNoteCategories:e.clinicalNoteCategories},null,8,["clinicalNoteCategories"])]))]))])),_:1},8,["class"])}l(246);var p=l(8880);const h={class:"row q-col-gutter-md justify-center items-center"},g=(0,i.Uk)(" OTHER INFORMATION "),f={class:"q-px-lg relative-position"},m={class:"absolute-top-right q-pt-lg q-pr-md"},N=(0,i.Uk)("View Patient Dashboard"),w={class:"text-weight-light text-h5 row q-gutter-md q-py-md"},b={class:"col-auto column"},C=(0,i._)("div",{class:"text-xs text-weight-medium"},"PATIENT NAME",-1),y={class:"col-auto column"},_=(0,i._)("div",{class:"text-xs text-weight-medium"},"CASE NO",-1),q={class:"text-weight-light text-h5 row q-gutter-md q-py-sm"},v={class:"col-auto text-uppercase text-xs text-weight-medium"},D={class:"col text-md"},x={class:"row justify-between"},I={class:"row full-height q-col-gutter-sm"},k={class:"col-lg-6 col-sm-12 col-md-6 col-xs-12"},E={class:"row justify-between items-center q-ma-xs"},Z={class:"row justify-between items-center"},V={key:2},W={key:0,class:"row text-h5 justify-between items-center text-uppercase q-col-gutter-md"},M={class:"col-auto"},F={class:"col-auto text-uppercase text-h6 text-weight-light"},L={class:"text-right"},T={class:"text-uppercase text-h6 text-weight-light text-caption"},R={key:1,class:"text-h5"},S={key:3},j={key:0},Q={class:"row q-col-gutter-md"},$={class:"col-auto"},A={class:"text-uppercase text-h6 text-weight-light"},z={class:"text-right"},P={class:"text-uppercase text-h6 text-weight-light text-caption"},G=(0,i.Uk)(" FETCHING DATA ... "),O={class:"col-lg-6 col-sm-12 col-md-6 col-xs-12"},U=(0,i._)("div",{class:"row justify-between items-center"},[(0,i._)("div",null,"CLINICAL NOTES")],-1),H=(0,i._)("div",{class:"row justify-between items-center"},[(0,i._)("div",null,"LOADING CLINICAL NOTE ENTRY ...")],-1),B={class:"row justify-center items-center q-col-gutter-md"},Y={class:"col-auto"},K={class:"text-uppercase text-h6 text-weight-light"},J={key:3},X={key:4},ee={key:5},te={class:"row q-mt-md"},le={class:"col-md-9 q-px-sm"},ie={class:"col-md-3 q-px-sm"};function ae(e,t,l,o,s,n){const c=(0,i.up)("q-tab"),r=(0,i.up)("q-tabs"),d=(0,i.up)("q-btn"),u=(0,i.up)("q-tab-panel"),ae=(0,i.up)("q-tab-panels"),oe=(0,i.up)("q-separator"),se=(0,i.up)("q-tooltip"),ne=(0,i.up)("q-card-section"),ce=(0,i.up)("q-icon"),re=(0,i.up)("q-card"),de=(0,i.up)("q-scroll-area"),ue=(0,i.up)("q-spinner-ball"),pe=(0,i.up)("q-inner-loading"),he=(0,i.up)("GeneralNoteEntry"),ge=(0,i.up)("q-spinner-bars"),fe=(0,i.up)("q-spinner-cube"),me=(0,i.up)("q-dialog"),Ne=(0,i.up)("ClinicalNotesDashboard"),we=(0,i.up)("PatientChart"),be=(0,i.up)("TestResult"),Ce=(0,i.up)("PatientInfo"),ye=(0,i.up)("q-card-actions"),_e=(0,i.Q2)("ripple");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(r,{modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=t=>e.tab=t),class:"text-primary bg-blue-grey-2","outside-arrows":"","mobile-arrows":"","indicator-color":"warning"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{name:"generalInfo",label:"GENERAL MEDICAL NOTES"}),(0,i.Wm)(c,{name:"otherInfo",label:"OTHER INFO"})])),_:1},8,["modelValue"]),(0,i.Wm)(ae,{modelValue:e.tab,"onUpdate:modelValue":t[1]||(t[1]=t=>e.tab=t),animated:"",class:"q-pb-sm"},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{name:"generalInfo"},{default:(0,i.w5)((()=>[(0,i._)("div",h,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.generalNotes,(t=>((0,i.wg)(),(0,i.iD)("div",{key:t.label},[(0,i.Wm)(d,{color:"blue-10",push:"",label:t.label,onClick:l=>e.openGeneralDataDialog(t)},null,8,["label","onClick"])])))),128))])])),_:1}),(0,i.Wm)(u,{name:"otherInfo"},{default:(0,i.w5)((()=>[g])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(oe,{color:"blue-7",size:"2px"}),(0,i._)("div",f,[(0,i._)("div",m,[(0,i.Wm)(d,{onClick:t[2]||(t[2]=(0,p.iM)((t=>e.bools.isDialogOpen=!0),["prevent"])),rounded:"",icon:"fas fa-procedures",flat:"",color:"primary",label:"Patient Dashboard"},{default:(0,i.w5)((()=>[(0,i.Wm)(se,null,{default:(0,i.w5)((()=>[N])),_:1})])),_:1})]),(0,i._)("div",w,[(0,i._)("div",b,[C,(0,i._)("div",null,(0,a.zw)(`${e.caseInfo.lastname}, ${e.caseInfo.firstname} ${e.caseInfo.middlename}`),1)]),(0,i._)("div",y,[_,(0,i._)("div",null,(0,a.zw)(e.caseInfo.caseno),1)])]),(0,i.Wm)(oe),(0,i._)("div",q,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.encounterInfo,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"col-auto column",key:t.label},[(0,i._)("div",v,(0,a.zw)(t.label),1),(0,i._)("div",D,(0,a.zw)(e.caseInfo[t.field]),1)])))),128))])]),(0,i.Wm)(me,{modelValue:e.bools.isGeneralInfoOpen,"onUpdate:modelValue":t[7]||(t[7]=t=>e.bools.isGeneralInfoOpen=t),maximized:"",persistent:""},{default:(0,i.w5)((()=>[(0,i.Wm)(re,{class:"full-height",square:""},{default:(0,i.w5)((()=>[(0,i.Wm)(ne,{class:"bg-blue-10 text-uppercase text-weight-light text-white text-h4"},{default:(0,i.w5)((()=>[(0,i._)("div",x,[(0,i._)("div",null,(0,a.zw)(`${e.caseInfo.lastname}, ${e.caseInfo.firstname} ${e.caseInfo.middlename}`)+" - "+(0,a.zw)(this.clinicalNoteInfo.clinicalCategoryName),1),(0,i.Wm)(d,{color:"negative",label:"Close",onClick:t[3]||(t[3]=(0,p.iM)((t=>e.bools.isGeneralInfoOpen=!1),["prevent"])),icon:"fas fa-times"})])])),_:1}),(0,i.Wm)(ne,{style:{height:"90%"}},{default:(0,i.w5)((()=>[(0,i._)("div",I,[(0,i._)("div",k,[(0,i.Wm)(re,{square:""},{default:(0,i.w5)((()=>[e.bools.enableEntry?((0,i.wg)(),(0,i.j4)(ne,{key:0,class:"text-white bg-blue-10 text-h5 text-weight-light text-uppercase"},{default:(0,i.w5)((()=>[(0,i._)("div",E,[(0,i._)("div",null,(0,a.zw)(this.clinicalNoteInfo.name),1)])])),_:1})):(0,i.kq)("",!0),e.bools.enableEntry?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(ne,{key:1,class:"text-white bg-blue-10 text-h5 text-weight-light text-uppercase"},{default:(0,i.w5)((()=>[(0,i._)("div",Z,[(0,i._)("div",null," GENERAL MEDICAL DATA - "+(0,a.zw)(this.clinicalNoteInfo.clinicalCategoryName),1)])])),_:1})),e.bools.generalNoteLoading?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",V,[e.bools.enableEntry?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(ne,{key:0,class:(0,a.C_)([0===this.clinicalEncounters.length?"flex flex-center":""]),style:{height:"765px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(de,{class:"fit q-pa-md","bar-style":{background:"grey"}},{default:(0,i.w5)((()=>[this.clinicalEncounterLists.length>0?((0,i.wg)(),(0,i.iD)("div",W,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(this.clinicalEncounterLists,((t,l)=>((0,i.wg)(),(0,i.iD)("div",{key:l,class:"col-12"},[(0,i.wy)(((0,i.wg)(),(0,i.j4)(re,{square:"",class:(0,a.C_)(["text-white cursor-pointer",[e.clinicalEncounterListsColors[l%this.clinicalEncounterListsColors.length]]]),onClick:l=>e.setPatientNotes(t,e.overall=!0)},{default:(0,i.w5)((()=>[(0,i.Wm)(ne,{align:"center",class:"row justify-between items-center"},{default:(0,i.w5)((()=>[(0,i._)("div",M,[(0,i.Wm)(ce,{name:"fa fa-file-medical-alt",size:"xl"})]),(0,i._)("div",F,[(0,i._)("div",L,(0,a.zw)(t.description),1),(0,i._)("div",T,(0,a.zw)(t.user_name)+" - "+(0,a.zw)(t.formattedUpdateDatetime),1)])])),_:2},1024)])),_:2},1032,["class","onClick"])),[[_e]])])))),128))])):((0,i.wg)(),(0,i.iD)("div",R," PAST HISTORY - "+(0,a.zw)(this.clinicalNoteInfo.clinicalCategoryName),1))])),_:1})])),_:1},8,["class"]))])),e.bools.enableEntry?((0,i.wg)(),(0,i.iD)("div",S,[e.bools.generalNoteLoading?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",j,[(0,i.Wm)(ne,null,{default:(0,i.w5)((()=>[(0,i.Wm)(de,{class:"q-pa-md",style:{height:"765px"}},{default:(0,i.w5)((()=>[(0,i._)("div",Q,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(this.clinicalEncounterLists,((t,l)=>((0,i.wg)(),(0,i.iD)("div",{key:l,class:"col-12"},[(0,i.wy)(((0,i.wg)(),(0,i.j4)(re,{square:"",class:(0,a.C_)(["text-white cursor-pointer",[e.clinicalEncounterListsColors[l%this.clinicalEncounterListsColors.length]]]),onClick:l=>e.setPatientNotes(t,e.overall=!1)},{default:(0,i.w5)((()=>[(0,i.Wm)(ne,{align:"center",class:"row justify-between items-center"},{default:(0,i.w5)((()=>[(0,i._)("div",$,[(0,i.Wm)(ce,{name:"fa fa-laptop-medical",size:"xl"})]),(0,i._)("div",A,[(0,i._)("div",z,(0,a.zw)(t.description),1),(0,i._)("div",P,(0,a.zw)(t.user_name)+" - "+(0,a.zw)(t.formattedUpdateDatetime),1)])])),_:2},1024)])),_:2},1032,["onClick","class"])),[[_e]])])))),128))])])),_:1})])),_:1})]))])):(0,i.kq)("",!0),e.bools.generalNoteLoading?((0,i.wg)(),(0,i.j4)(ne,{key:4,style:{height:"765px"},class:"text-h5 flex flex-center q-mt-md"},{default:(0,i.w5)((()=>[G])),_:1})):(0,i.kq)("",!0),(0,i.Wm)(pe,{showing:e.bools.generalNoteLoading},{default:(0,i.w5)((()=>[(0,i.Wm)(ue,{size:"50px",color:"primary"})])),_:1},8,["showing"])])),_:1})]),(0,i._)("div",O,[(0,i.Wm)(re,{square:""},{default:(0,i.w5)((()=>[e.bools.enableEntry?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(ne,{key:0,class:"text-white bg-blue-10 text-h5 text-weight-light text-uppercase"},{default:(0,i.w5)((()=>[U])),_:1})),e.bools.generalEntryLoading?((0,i.wg)(),(0,i.j4)(ne,{key:1,class:"text-white bg-blue-10 text-h5 text-weight-light text-uppercase"},{default:(0,i.w5)((()=>[H])),_:1})):(0,i.kq)("",!0),e.bools.enableEntry?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(ne,{key:2,style:{height:"765px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(de,{class:"fit q-pa-md","bar-style":{background:"grey"}},{default:(0,i.w5)((()=>[(0,i._)("div",B,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(this.clinicalNotesLists,((t,l)=>((0,i.wg)(),(0,i.iD)("div",{class:"col-12",key:l},[(0,i.wy)(((0,i.wg)(),(0,i.j4)(re,{square:"",class:(0,a.C_)(["text-white cursor-pointer",[e.clinicalEncounterListsColors[l%this.clinicalEncounterListsColors.length]]]),onClick:l=>e.setClinicalNotes(t)},{default:(0,i.w5)((()=>[(0,i.Wm)(ne,{align:"center",class:"row justify-between items-center"},{default:(0,i.w5)((()=>[(0,i._)("div",Y,[(0,i.Wm)(ce,{name:"fa fa-file-medical",size:"xl"})]),(0,i._)("div",K,(0,a.zw)(t.clinical_note_name),1)])),_:2},1024)])),_:2},1032,["onClick","class"])),[[_e]])])))),128))])])),_:1})])),_:1})),e.bools.enableEntry?((0,i.wg)(),(0,i.iD)("div",J,[e.bools.generalEntryLoading?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(he,{key:0,clinicalNoteInfo:this.clinicalNoteInfo,editNoteInfo:this.editNoteInfo,onCheckGeneralNotes:t[4]||(t[4]=t=>e.fetchGeneralNotes()),onSetClinicalNoteFormat:t[5]||(t[5]=t=>e.setClinicalNotes(this.clinicalNoteInfo)),onGoBackToSelection:t[6]||(t[6]=t=>e.setInit())},null,8,["clinicalNoteInfo","editNoteInfo"]))])):(0,i.kq)("",!0),e.bools.enableEntry?((0,i.wg)(),(0,i.iD)("div",X,[e.bools.generalEntryLoading?((0,i.wg)(),(0,i.j4)(ne,{key:0,style:{height:"765px"}})):(0,i.kq)("",!0),(0,i.Wm)(pe,{showing:e.bools.generalEntryLoading},{default:(0,i.w5)((()=>[(0,i.Wm)(ge,{size:"50px",color:"primary"})])),_:1},8,["showing"])])):((0,i.wg)(),(0,i.iD)("div",ee,[e.bools.generalNoteLoading?((0,i.wg)(),(0,i.j4)(ne,{key:0})):(0,i.kq)("",!0),(0,i.Wm)(pe,{showing:e.bools.generalNoteLoading},{default:(0,i.w5)((()=>[(0,i.Wm)(fe,{size:"50px",color:"primary"})])),_:1},8,["showing"])]))])),_:1})])])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(me,{"full-height":"","full-width":"",persistent:"",modelValue:e.bools.isDialogOpen,"onUpdate:modelValue":t[9]||(t[9]=t=>e.bools.isDialogOpen=t)},{default:(0,i.w5)((()=>[(0,i.Wm)(re,{class:"column"},{default:(0,i.w5)((()=>[(0,i.Wm)(ne,{class:"col-auto text-h6 text-weight-light bg-dark text-white"},{default:(0,i.w5)((()=>[(0,i.Uk)(" Patient Dashboard: "+(0,a.zw)(`${e.caseInfo.lastname}, ${e.caseInfo.firstname} ${e.caseInfo.middlename}`),1)])),_:1}),(0,i.Wm)(ne,{class:"col",style:{overflow:"auto"}},{default:(0,i.w5)((()=>[(0,i._)("div",te,[(0,i._)("div",le,[(0,i.Wm)(Ne,{currentClinicalNotes:this.clinicalEncounterLists},null,8,["currentClinicalNotes"]),(0,i.Wm)(we,{patientno:e.caseInfo.patientno},null,8,["patientno"]),(0,i.Wm)(be,{patientno:e.caseInfo.patientno},null,8,["patientno"])]),(0,i._)("div",ie,[(0,i.Wm)(Ce,{patientno:e.caseInfo.patientno},null,8,["patientno"])])])])),_:1}),(0,i.Wm)(ye,{align:"right",class:"col-auto"},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{color:"negative",label:"Close",flat:"",onClick:t[8]||(t[8]=(0,p.iM)((t=>e.bools.isDialogOpen=!1),["prevent"])),icon:"fas fa-times"})])),_:1})])),_:1})])),_:1},8,["modelValue"])])}var oe=l(303),se=l(7198),ne=l(250);const ce={class:"row"},re={key:0,class:"bg-red-2 q-pa-md"},de={class:"row justify-between items-center"},ue={class:"column"},pe=(0,i._)("div",{class:"text-xs"},"RESULT DATE",-1),he={class:"absolute-top-right"},ge={class:"row justify-between"},fe={class:"text-uppercase"};function me(e,t,l,o,s,n){const c=(0,i.up)("Heading"),r=(0,i.up)("q-btn"),d=(0,i.up)("q-scroll-area"),u=(0,i.up)("q-card-section"),p=(0,i.up)("q-card"),h=(0,i.up)("q-dialog");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(c,{text:"Clinical Notes"}),(0,i.Wm)(d,{style:{height:"110px"},visible:""},{default:(0,i.w5)((()=>[(0,i._)("div",ce,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(this.currentClinicalNotes,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"col-auto",key:t},[(0,i.Wm)(r,{label:t.clinical_note+" - "+t.user_name.toUpperCase()+" - "+new Date(t.update_datetime).toDateString().substring(4,15),flat:"",rounded:"",icon:"fas fa-eye",color:"primary",onClick:l=>e.openClinicalNoteDialog(t)},null,8,["label","onClick"])])))),128))]),0!=e.currentClinicalNotes.length||e.bools.isLoading?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",re," No result Available "))])),_:1}),this.clinicalNoteResult.length>0?((0,i.wg)(),(0,i.j4)(h,{key:0,modelValue:this.bools.clinicalNoteDialog,"onUpdate:modelValue":t[1]||(t[1]=e=>this.bools.clinicalNoteDialog=e),persistent:""},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{square:"",style:{width:"700px","max-width":"80vw"}},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{class:"text-h5 text-weight-light bg-dark text-white"},{default:(0,i.w5)((()=>[(0,i._)("div",de,[(0,i._)("div",null,(0,a.zw)(this.clinicalNoteCardDetails.title),1),(0,i._)("div",ue,[pe,(0,i._)("div",null,(0,a.zw)(new Date(this.clinicalNoteCardDetails.datetime).toDateString().substring(4,15)),1)])]),(0,i._)("div",he,[(0,i.Wm)(r,{flat:"",round:"",icon:"fa fa-times",onClick:t[0]||(t[0]=t=>e.bools.clinicalNoteDialog=!1),color:"negative"})])])),_:1}),(0,i.Wm)(u,{style:{height:"540px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{class:"fit",visible:""},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(this.clinicalNoteResult,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"q-pb-md",key:e.label},[(0,i.Wm)(c,{text:e.opts.label},null,8,["text"]),(0,i.Wm)(p,{class:"shadow-0 q-pa-md"},{default:(0,i.w5)((()=>[(0,i._)("div",null,(0,a.zw)(e.value),1)])),_:2},1024)])))),128))])),_:1})])),_:1}),(0,i.Wm)(u,{class:"text-h5 text-weight-light bg-dark text-white"},{default:(0,i.w5)((()=>[(0,i._)("div",ge,[(0,i._)("div",fe,(0,a.zw)(this.clinicalNoteCardDetails.user),1)])])),_:1})])),_:1})])),_:1},8,["modelValue"])):(0,i.kq)("",!0)])}var Ne=l(4019);const we=(0,i.aZ)({name:"ClinicalNoteDashboard",props:["currentClinicalNotes"],components:{Heading:Ne.Z},data(){return{bools:{isLoading:!1,clinicalNoteDialog:!1},clinicalNoteResult:[],clinicalNoteCardDetails:{title:"",user:"",datetime:""}}},methods:{openClinicalNoteDialog(e){this.clinicalNoteCardDetails.title=e.clinical_note,this.clinicalNoteCardDetails.user=e.user_name,this.clinicalNoteCardDetails.datetime=e.formattedUpdateDatetime,this.clinicalNoteResult=e.result_format.fields,this.bools.clinicalNoteDialog=!0}}});var be=l(4260),Ce=l(7704),ye=l(2165),_e=l(6778),qe=l(151),ve=l(5589),De=l(7518),xe=l.n(De);const Ie=(0,be.Z)(we,[["render",me]]),ke=Ie;xe()(we,"components",{QScrollArea:Ce.Z,QBtn:ye.Z,QDialog:_e.Z,QCard:qe.Z,QCardSection:ve.Z});var Ee=l(3617);const Ze={class:"row justify-between items-center"},Ve=(0,i._)("div",null,"CLINICAL NOTE ENTRY",-1),We={class:"q-px-md"},Me={key:0},Fe={key:1,style:{height:"929px"}},Le={class:"row justify-between"},Te=(0,i._)("div",null,null,-1);function Re(e,t,l,a,o,s){const n=(0,i.up)("q-btn"),c=(0,i.up)("q-btn-group"),r=(0,i.up)("q-card-section"),d=(0,i.up)("Date"),u=(0,i.up)("Text"),p=(0,i.up)("Number"),h=(0,i.up)("Textarea"),g=(0,i.up)("Select"),f=(0,i.up)("ICD10"),m=(0,i.up)("NumberRange"),N=(0,i.up)("DateRange"),w=(0,i.up)("q-card"),b=(0,i.up)("q-scroll-area"),C=(0,i.up)("q-spinner-gears"),y=(0,i.up)("q-inner-loading");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(r,{class:"text-white bg-blue-10 text-h5 text-weight-light text-uppercase"},{default:(0,i.w5)((()=>[(0,i._)("div",Ze,[Ve,(0,i._)("div",null,[(0,i.Wm)(c,null,{default:(0,i.w5)((()=>[(0,i.Wm)(n,{round:"",icon:"fa fa-arrow-left",color:"negative",onClick:e.goBackToSelection},null,8,["onClick"]),e.bools.updateMode?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(n,{key:0,round:"",icon:"fa fa-plus",color:"yellow-10",onClick:e.addNewNote},null,8,["onClick"]))])),_:1})])])])),_:1}),(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i._)("div",We,[e.bools.generalNoteLoading?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(b,{key:0,style:{height:"720px"},ref:"scrollArea",visible:!0},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(this.clinicalInputFields,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{key:t,class:"q-py-sm"},[(0,i.Wm)(w,{bordered:""},{default:(0,i.w5)((()=>[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e,((e,l)=>((0,i.wg)(),(0,i.iD)("div",{key:l,class:"q-ma-md"},[e.active?((0,i.wg)(),(0,i.iD)("div",Me,["date"==e.type?((0,i.wg)(),(0,i.j4)(d,{key:0,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required,type:e.type,clinicalFieldCode:e.code,currentValue:e.value,withValue:!0,index:t,id:e.id},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):"text"==e.type?((0,i.wg)(),(0,i.j4)(u,{key:1,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required,type:e.type,clinicalFieldCode:e.code,currentValue:e.value,withValue:!0,index:t,id:e.id},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):"number"==e.type?((0,i.wg)(),(0,i.j4)(p,{key:2,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required,type:e.type,clinicalFieldCode:e.code,currentValue:e.value,withValue:!0,index:t,id:e.id},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):"textarea"==e.type?((0,i.wg)(),(0,i.j4)(h,{key:3,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required,type:e.type,clinicalFieldCode:e.code,currentValue:e.value,withValue:!0,index:t,id:e.id},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):"select"==e.type?((0,i.wg)(),(0,i.j4)(g,{key:4,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required,options:e.options,type:e.type,clinicalFieldCode:e.code,currentValue:e.value,withValue:!0,index:t,id:e.id},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):"icd10"==e.type?((0,i.wg)(),(0,i.j4)(f,{key:5,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required,type:e.type,clinicalFieldCode:e.code,currentValue:e.value,withValue:!0,index:t,id:e.id},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):"numberRange"==e.type?((0,i.wg)(),(0,i.j4)(m,{key:6,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required,type:e.type,clinicalFieldCode:e.code,currentValue:e.value,withValue:!0,index:t,id:e.id},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):"dateRange"==e.type?((0,i.wg)(),(0,i.j4)(N,{key:7,opts:{label:e.name,requiredMessage:e.requiredMessage,required:e.required,type:e.type,clinicalFieldCode:e.code,currentValue:e.value,withValue:!0,index:t,id:e.id},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):(0,i.kq)("",!0)])):(0,i.kq)("",!0)])))),128))])),_:2},1024)])),_:2},1024)])))),128))])),_:1},512)),e.bools.generalNoteLoading?((0,i.wg)(),(0,i.iD)("div",Fe)):(0,i.kq)("",!0),(0,i.Wm)(y,{showing:e.bools.generalNoteLoading},{default:(0,i.w5)((()=>[(0,i.Wm)(C,{size:"50px",color:"primary"})])),_:1},8,["showing"]),(0,i.Wm)(w,{class:"shadow-0",borderless:""},{default:(0,i.w5)((()=>[(0,i._)("div",Le,[Te,(0,i._)("div",null,[(0,i.Wm)(c,null,{default:(0,i.w5)((()=>[e.bools.updateMode?((0,i.wg)(),(0,i.j4)(n,{key:0,color:"green",push:"",label:`NEW ${this.clinicalNoteInfo.name}`,icon:"fa fa-notes-medical",onClick:e.newEntry,disable:e.bools.disableInput},null,8,["label","onClick","disable"])):(0,i.kq)("",!0),this.bools.updateMode?((0,i.wg)(),(0,i.j4)(n,{key:2,color:"blue-10",push:"",label:`Update ${this.clinicalNoteInfo.name}`,icon:"fa fa-edit",onClick:e.updateGeneralData,disable:e.bools.disableInput},null,8,["label","onClick","disable"])):((0,i.wg)(),(0,i.j4)(n,{key:1,color:"blue-10",push:"",label:`Save ${this.clinicalNoteInfo.name}`,icon:"fa fa-save",onClick:e.saveGeneralData,disable:e.bools.disableInput},null,8,["label","onClick","disable"]))])),_:1})])])])),_:1})])])),_:1})])}l(71),l(2100);var Se=l(9172),je=l(6397),Qe=l(5617),$e=l(74),Ae=l(1314),ze=l(1550),Pe=l(5191),Ge=l(877);const Oe=(0,i.aZ)({name:"GeneralDataDialog",props:["clinicalNoteInfo","editNoteInfo"],computed:{...(0,Ee.Se)({colorEMR:"helpers/colorEMR",clinicalNoteDetails:"clinicalNotes/clinicalNoteDetails",clinicalNoteDetailValues:"clinicalNotes/clinicalNoteDetailValues",clinicalNoteTemplateFormat:"clinicalNotes/clinicalNoteTemplateFormat",encounterCases:"encounters/encounterCases",templateDetails:"clinicalNotes/templateDetails"})},components:{Date:Se.Z,Text:je.Z,Number:Qe.Z,Textarea:$e.Z,Select:Ae.Z,ICD10:ze.Z,NumberRange:Pe.Z,DateRange:Ge.Z},data(){return{clinicalInputFields:[],value:[],drowdownOptions:[],options:[],dropdownLoading:!1,bools:{generalNoteLoading:!1,updateMode:!1,disableInput:!1}}},created(){this.setClinicalInputFields(),void 0!==this.editNoteInfo.clinical_note_code&&this.setUpdateInputFields(this.editNoteInfo),this.setInitValuesFields()},methods:{setInitValuesFields(e){},setClinicalInputFields(){this.disableInput=!0,this.clinicalInputFields=[],this.clinicalInputFields.push(this.clinicalNoteInfo.format.fields),this.disableInput=!1},setUpdateInputFields(e){this.bools.updateMode=!0,this.disableInput=!0,this.clinicalInputFields=[],this.clinicalInputFields.push(e.result_format.fields),this.disableInput=!1},newEntry(){this.disableInput=!0,this.bools.updateMode=!1,this.bools.generalNoteLoading=!0,setTimeout((()=>{this.bools.generalNoteLoading=!1,this.clinicalInputFields=[],this.$emit("setClinicalNoteFormat",!0),this.clinicalInputFields.push(this.clinicalNoteInfo.format.fields),this.disableInput=!1}),500)},addNewNote(){this.disableInput=!0,this.clinicalInputFields.push(this.clinicalNoteInfo.format.fields),this.disableInput=!1},addClinicalNoteDetails(){this.clinicalInputFields.push(this.clinicalNoteDetails)},goBackToSelection(){this.$emit("goBackToSelection",!0)},filterDropdown(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.options=this.drowdownOptions.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.options=this.drowdownOptions})},async updateGeneralData(){let e="",t="",l="",i="1";for(const[s,n]of this.clinicalInputFields.entries()){let a=[];for(const[l,i]of this.$refs.clinicalNoteValue.entries())if(i.opts.index===s){let l=void 0===this.clinicalNoteInfo.title?null:this.clinicalNoteInfo.title;null!==l?this.clinicalNoteInfo.title.toUpperCase()===i.opts.label.toUpperCase()?e=`${void 0===i.value?"":i.value} - ${this.clinicalNoteInfo.name}`:t=this.clinicalNoteInfo.title:e=this.clinicalNoteInfo.title;const o={index:s,label:i.opts.label,name:i.opts.label,required:i.opts.required,requiredMessage:i.opts.requiredMessage,options:void 0===i.opts.options?"":i.opts.options,type:i.opts.type,code:i.opts.clinicalFieldCode,clinical_field_code:i.opts.clinicalFieldCode,remarks:null,value:void 0===i.value?"":i.value,active:1,id:i.opts.id};a.push(o)}const o=a.filter((e=>e.index===s));let n={caseNo:this.encounterCases[0].case_no,clinicalNoteCode:this.clinicalNoteInfo.clinicalNoteCode,clinicalNoteStatus:1,fields:o,title:this.clinicalNoteInfo.title};const c={case_no:this.encounterCases[0].case_no,clinical_note_code:this.clinicalNoteInfo.clinicalNoteCode,status:1,chief_complain_icd:"",chief_complaint_remarks:"",clinical_impression_icd:"",clinical_impression_remarks:"",updated_by:i,result_format:JSON.stringify(n),remarks:"",details:o,description:""===e?t:e};l=c}const a={clinicalEncounterID:this.editNoteInfo.clinical_encounter_id,finalUpdateData:l},o=await this.$store.dispatch("encounters/updatePatientEncounterDetails",a);console.log(o,"sldfkljsdkf"),void 0!==o.success&&this.showNotif("success","Success saving Patient General Data"),this.bools.generalNoteLoading=!1,this.$emit("checkGeneralNotes",!0),this.setClinicalInputFields()},async saveGeneralData(){this.bools.generalNoteLoading=!0;let e="1",t="",l="",i=[];for(const[o,s]of this.clinicalInputFields.entries()){let a=[];for(const[e,i]of this.$refs.clinicalNoteValue.entries())if(i.opts.index===o){let e=void 0===this.clinicalNoteInfo.title?null:this.clinicalNoteInfo.title;null!==e?this.clinicalNoteInfo.title.toUpperCase()===i.opts.label.toUpperCase()?t=`${void 0===i.value?"":i.value} - ${this.clinicalNoteInfo.name}`:l=this.clinicalNoteInfo.title:t=this.clinicalNoteInfo.title;const s={index:o,label:i.opts.label,name:i.opts.label,required:i.opts.required,requiredMessage:i.opts.requiredMessage,options:i.opts.options,type:i.opts.type,code:i.opts.clinicalFieldCode,clinical_field_code:i.opts.clinicalFieldCode,remarks:null,value:void 0===i.value?"":i.value,active:1};a.push(s)}const s=a.filter((e=>e.index===o));let n={caseNo:this.encounterCases[0].case_no,clinicalNoteCode:this.clinicalNoteInfo.clinicalNoteCode,clinicalNoteStatus:1,fields:s,description:""===t?l:t};const c={case_no:this.encounterCases[0].case_no,status:1,chief_complain_icd:"",chief_complaint_remarks:"",clinical_impression_icd:"",clinical_impression_remarks:"",created_by:e,clinical_note_code:this.clinicalNoteInfo.clinicalNoteCode,result_format:n,remarks:"",details:s,description:""===t?l:t};i.push(c)}console.log(i,"finalGeneralData");const a=await this.$store.dispatch("encounters/savePatientEncounterDetails",i);console.log(a,"sldfkljsdkf"),void 0!==a.success&&this.showNotif("success","Success saving Patient General Data"),this.bools.generalNoteLoading=!1,this.$emit("checkGeneralNotes",!0),this.setClinicalInputFields()},showNotif(e,t){let l="";l="success"===e?"blue-10":"negative",this.$q.notify({progress:!0,message:t,color:l})}}});var Ue=l(6375),He=l(6941),Be=l(6394);const Ye=(0,be.Z)(Oe,[["render",Re]]),Ke=Ye;xe()(Oe,"components",{QCardSection:ve.Z,QBtnGroup:Ue.Z,QBtn:ye.Z,QScrollArea:Ce.Z,QCard:qe.Z,QInnerLoading:He.Z,QSpinnerGears:Be.Z});const Je=(0,i.aZ)({name:"PatientEncounterInfo",props:["selectedTab"],components:{PatientChart:oe.Z,TestResult:se.Z,PatientInfo:ne.Z,ClinicalNotesDashboard:ke,GeneralNoteEntry:Ke},data(){return{tab:"generalInfo",bools:{isDialogOpen:!1,isGeneralInfoOpen:!1,generalNoteLoading:!1,generalEntryLoading:!1,enableEntry:!1},boolean:!0,clinicalNotesLists:[],clinicalEncounterLists:[],clinicalEncounterListsColors:["bg-blue-6","bg-blue-7","bg-blue-8","bg-blue-9","bg-blue-10"],details:{caseNo:null,name:null,birthdate:null,sex:null,patientCategory:null,chiefComplaint:null},clinicalNoteInfo:{currentTitle:null,title:null,name:null,format:null,clinicalNoteCode:null,clinicalCategoryCode:null,clinicalCategoryName:null},editNoteInfo:[],encounterInfo:[{label:"Category",field:"category"},{label:"Room",field:"room"},{label:"Unit",field:"unit"},{label:"Ward",field:"ward"},{label:"Admission Date",field:"admitted"},{label:"Discharge Date",field:"discharged"},{label:"Chief Complaint",field:"chiefComplaint"}],generalDataNotes:[]}},computed:{...(0,Ee.Se)({encounterCases:"encounters/encounterCases",clinicalEncounters:"encounters/clinicalEncounters",generalNotes:"clinicalNotes/generalNotes",clinicalNotes:"clinicalNotes/clinicalNotes",patientGeneralNotes:"encounters/patientGeneralNotes"}),caseInfo(){return 0==this.encounterCases.length?{}:this.encounterCases.map((e=>({caseno:e.case_no,patientno:e.patient_no,lastname:e.last_name,firstname:e.first_name,middlename:e.middle_name,gender:e.sex,birthdate:e.birthDate,category:e.patient_category,room:e.room,unit:e.room_unit,ward:e.ward,admitted:new Date(e.datetime_admitted).toDateString(),discharged:e.datetime_discharged?new Date(e.datetime_discharged).toDateString():"",chiefComplaint:e.chief_complaint})))[0]}},created(){this.initialize()},methods:{async initialize(){this.generalDataNotes=this.generalNotes,this.clinicalEncounterLists=this.clinicalEncounters,this.clinicalTabLoading=!1},async openGeneralDataDialog(e){this.bools.isGeneralInfoOpen=!0,this.bools.generalNoteLoading=!0,this.clinicalNoteInfo.clinicalCategoryCode=e.categoryCode,this.clinicalNoteInfo.clinicalCategoryName=e.label,setTimeout((async()=>{this.clinicalNotesLists=e.children,this.fetchGeneralNotes()}),500)},async setClinicalNotes(e){void 0!==e.clinicalNoteCode&&(this.editNoteInfo=[]),this.bools.enableEntry=!0,this.bools.generalNoteLoading=!0;const t=void 0===e.clinical_note_code?e.clinicalNoteCode:e.clinical_note_code;var l=this.clinicalNotes.filter((e=>e.code===t));this.setClinicalNoteInfo(l[0],!0),this.fetchGeneralNotes(),setTimeout((async()=>{this.bools.generalNoteLoading=!1}),500)},async setClinicalNoteInfo(e,t){if(this.clinicalNoteInfo.name=e.name,this.clinicalNoteInfo.clinicalNoteCode=e.code,this.clinicalNoteInfo.format=e.template_format,t){console.log("pasokhere");let t=void 0===e.template_format.title?null:e.template_format.title;this.clinicalNoteInfo.title=null===t?e.name:t}else{console.log("pasokhere2");var l=this.clinicalNotes.filter((t=>t.code===e.code));console.log(l);let t=void 0===l[0].template_format.title?null:l[0].template_format.title;this.clinicalNoteInfo.title=null===t?l[0].name:t}},async fetchGeneralNotes(){let e="";e=this.bools.enableEntry?{patientNo:this.encounterCases[0].patientID,clinicalNoteCode:this.clinicalNoteInfo.clinicalNoteCode,checking:!0}:{patientNo:this.encounterCases[0].patientID,clinicalCategoryCode:this.clinicalNoteInfo.clinicalCategoryCode,checking:!0,byCategoryCode:!0},await this.$store.dispatch("encounters/getClinicalEncounters",e),this.clinicalEncounterLists=this.clinicalEncounters,this.bools.generalNoteLoading=!1},setInit(){console.log("hererere"),this.bools.enableEntry=!1,this.bools.generalNoteLoading=!0,this.editNoteInfo=[],this.fetchGeneralNotes()},setPatientNotes(e,t){this.bools.generalEntryLoading=!0,t?(this.bools.enableEntry=!0,this.bools.generalNoteLoading=!0,setTimeout((()=>{const t={name:e.clinical_note,code:e.clinical_note_code,template_format:e.result_format,title:e.clinical_note};this.setClinicalNoteInfo(t,!1),this.fetchGeneralNotes(),this.editNoteInfo=e,this.bools.generalEntryLoading=!1}),500)):(this.bools.generalNoteLoading=!0,setTimeout((()=>{this.editNoteInfo=e,this.bools.generalEntryLoading=!1,this.bools.generalNoteLoading=!1}),500))},setInitEditFields(){this.editNoteInfo=[],this.clinicalEncounterLists=[],this.bools.enableEntry=!1,this.bools.isGeneralInfoOpen=!1}},watch:{bools:{async handler(e){e.isGeneralInfoOpen||this.setInitEditFields()},deep:!0}}});var Xe=l(7547),et=l(8408),tt=l(5906),lt=l(6602),it=l(5869),at=l(8870),ot=l(4554),st=l(1070),nt=l(4752),ct=l(7013),rt=l(9367),dt=l(6489);const ut=(0,be.Z)(Je,[["render",ae]]),pt=ut;xe()(Je,"components",{QTabs:Xe.Z,QTab:et.Z,QTabPanels:tt.Z,QTabPanel:lt.Z,QBtn:ye.Z,QSeparator:it.Z,QTooltip:at.Z,QDialog:_e.Z,QCard:qe.Z,QCardSection:ve.Z,QScrollArea:Ce.Z,QIcon:ot.Z,QInnerLoading:He.Z,QSpinnerBall:st.Z,QSpinnerBars:nt.Z,QSpinnerCube:ct.Z,QCardActions:rt.Z}),xe()(Je,"directives",{Ripple:dt.Z});const ht={class:"bg-transparent"},gt={class:"q-pa-md"},ft={key:0};function mt(e,t,l,a,o,s){const n=(0,i.up)("q-icon"),c=(0,i.up)("q-input"),r=(0,i.up)("q-tree"),d=(0,i.up)("q-tab"),u=(0,i.up)("q-tabs"),p=(0,i.up)("q-separator"),h=(0,i.up)("other-clinical-notes"),g=(0,i.up)("q-tab-panel"),f=(0,i.up)("clinical-note-fields"),m=(0,i.up)("q-tab-panels"),N=(0,i.up)("q-splitter"),w=(0,i.up)("q-card-section"),b=(0,i.up)("q-card");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",ht,[(0,i.Wm)(b,{square:""},{default:(0,i.w5)((()=>[(0,i.Wm)(w,null,{default:(0,i.w5)((()=>[(0,i._)("div",null,[(0,i.Wm)(N,{modelValue:e.splitterModel,"onUpdate:modelValue":t[7]||(t[7]=t=>e.splitterModel=t)},{before:(0,i.w5)((()=>[(0,i._)("div",gt,[(0,i.Wm)(c,{ref:"filterRef",filled:"",modelValue:e.filter,"onUpdate:modelValue":t[0]||(t[0]=t=>e.filter=t),label:"Filter Clinical Notes"},{append:(0,i.w5)((()=>[""!==e.filter?((0,i.wg)(),(0,i.j4)(n,{key:0,name:"clear",class:"cursor-pointer",onClick:e.resetFilter},null,8,["onClick"])):(0,i.kq)("",!0)])),_:1},8,["modelValue"]),(0,i.Wm)(r,{nodes:this.clinicalNoteCat,"node-key":"label","selected-color":"primary",selected:e.selected,"onUpdate:selected":t[1]||(t[1]=t=>e.selected=t),filter:e.filter,"default-expand-all":""},null,8,["nodes","selected","filter"])])])),after:(0,i.w5)((()=>[e.bools.showInputFields?((0,i.wg)(),(0,i.iD)("div",ft,[(0,i.Wm)(u,{modelValue:e.tab,"onUpdate:modelValue":t[2]||(t[2]=t=>e.tab=t),dense:"",class:"text-grey bg-blue-10","active-color":"white","indicator-color":"yellow-10",align:"justify","narrow-indicator":""},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{name:"clinicalNotes",label:"Clinical Notes"}),(0,i.Wm)(d,{name:"clinicalNotesEntry",label:"Clinical Notes Entry"})])),_:1},8,["modelValue"]),(0,i.Wm)(p),(0,i.Wm)(m,{modelValue:e.tab,"onUpdate:modelValue":t[6]||(t[6]=t=>e.tab=t),animated:""},{default:(0,i.w5)((()=>[(0,i.Wm)(g,{name:"clinicalNotes"},{default:(0,i.w5)((()=>[(0,i.Wm)(h,{clinicalNoteDetails:this.clinicalNoteDetails[0],clinicalEncounters:this.clinicalEncounters,onGetClinicalNotes:t[3]||(t[3]=e=>this.checkCase())},null,8,["clinicalNoteDetails","clinicalEncounters"])])),_:1}),(0,i.Wm)(g,{name:"clinicalNotesEntry"},{default:(0,i.w5)((()=>[this.clinicalNoteDetails.length>0?((0,i.wg)(),(0,i.j4)(f,{key:0,onGetClinicalNotes:t[4]||(t[4]=t=>e.tab="clinicalNotes"),onCloseAddDialog:t[5]||(t[5]=t=>e.addModal=!1)})):(0,i.kq)("",!0)])),_:1})])),_:1},8,["modelValue"])])):(0,i.kq)("",!0)])),_:1},8,["modelValue"])])])),_:1})])),_:1})])])}const Nt={class:"q-px-md"},wt={class:"row justify-between"},bt=(0,i._)("div",null,null,-1);function Ct(e,t,l,a,o,s){const n=(0,i.up)("q-btn"),c=(0,i.up)("q-card"),r=(0,i.up)("q-separator"),d=(0,i.up)("Date"),u=(0,i.up)("Text"),p=(0,i.up)("Number"),h=(0,i.up)("Textarea"),g=(0,i.up)("Select"),f=(0,i.up)("ICD10"),m=(0,i.up)("NumberRange"),N=(0,i.up)("DateRange"),w=(0,i.up)("q-scroll-area");return(0,i.wg)(),(0,i.iD)("div",Nt,[(0,i.Wm)(c,{class:"shadow-0",borderless:""},{default:(0,i.w5)((()=>[(0,i._)("div",wt,[bt,(0,i._)("div",null,[(0,i.Wm)(n,{color:"blue-10",push:"",rounded:"",label:"Save Clinical Note",icon:"fa fa-save",onClick:e.saveClinicalNoteEncounter},null,8,["onClick"])])])])),_:1}),(0,i.Wm)(r,{class:"q-my-sm"}),(0,i.Wm)(w,{style:{height:"450px"},ref:"scrollArea",visible:!0},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(this.templateDetails,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{key:t,class:"q-ma-md"},["date"==e.type?((0,i.wg)(),(0,i.j4)(d,{key:0,opts:{label:e.label,requiredMessage:e.requiredMessage,required:e.required,type:e.type,clinicalNoteCode:e.clinicalNoteCode,clinicalFieldCode:e.code},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):"text"==e.type?((0,i.wg)(),(0,i.j4)(u,{key:1,opts:{label:e.label,requiredMessage:e.requiredMessage,required:e.required,type:e.type,clinicalNoteCode:e.clinicalNoteCode,clinicalFieldCode:e.code},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):"number"==e.type?((0,i.wg)(),(0,i.j4)(p,{key:2,opts:{label:e.label,requiredMessage:e.requiredMessage,required:e.required,type:e.type,clinicalNoteCode:e.clinicalNoteCode,clinicalFieldCode:e.code},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):"textarea"==e.type?((0,i.wg)(),(0,i.j4)(h,{key:3,opts:{label:e.label,requiredMessage:e.requiredMessage,required:e.required,type:e.type,clinicalNoteCode:e.clinicalNoteCode,clinicalFieldCode:e.code},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):"select"==e.type?((0,i.wg)(),(0,i.j4)(g,{key:4,opts:{label:e.label,requiredMessage:e.requiredMessage,required:e.required,options:e.options,type:e.type,clinicalNoteCode:e.clinicalNoteCode,clinicalFieldCode:e.code},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):"icd10"==e.type?((0,i.wg)(),(0,i.j4)(f,{key:5,opts:{label:e.label,requiredMessage:e.requiredMessage,required:e.required,type:e.type,clinicalNoteCode:e.clinicalNoteCode,clinicalFieldCode:e.code},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):"numberRange"==e.type?((0,i.wg)(),(0,i.j4)(m,{key:6,opts:{label:e.label,requiredMessage:e.requiredMessage,required:e.required,type:e.type,clinicalNoteCode:e.clinicalNoteCode,clinicalFieldCode:e.code},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):"dateRange"==e.type?((0,i.wg)(),(0,i.j4)(N,{key:7,opts:{label:e.label,requiredMessage:e.requiredMessage,required:e.required,type:e.type,clinicalNoteCode:e.clinicalNoteCode,clinicalFieldCode:e.code},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):(0,i.kq)("",!0)])))),128))])),_:1},512)])}const yt=(0,i.aZ)({name:"ClinicalNoteFields",props:["panel"],computed:{...(0,Ee.Se)({colorEMR:"helpers/colorEMR",clinicalNoteDetails:"clinicalNotes/clinicalNoteDetails",clinicalNoteDetailValues:"clinicalNotes/clinicalNoteDetailValues",clinicalNoteTemplateFormat:"clinicalNotes/clinicalNoteTemplateFormat",encounterCases:"encounters/encounterCases",templateDetails:"clinicalNotes/templateDetails"})},components:{Date:Se.Z,Text:je.Z,Number:Qe.Z,Textarea:$e.Z,Select:Ae.Z,ICD10:ze.Z,NumberRange:Pe.Z,DateRange:Ge.Z},data(){return{clinicalInputFields:[],value:[],drowdownOptions:[],options:[],dropdownLoading:!1}},created(){this.addClinicalNoteDetails()},methods:{setClinicalInputFields(){this.clinicalInputFields=this.clinicalNoteDetails},addClinicalNoteDetails(){console.log(this.clinicalNoteDetails),this.clinicalInputFields.push(this.clinicalNoteDetails)},filterDropdown(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.options=this.drowdownOptions.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.options=this.drowdownOptions})},async getClinicalNoteDetailValues(e){this.dropdownLoading=!0,await this.$store.dispatch("clinicalNotes/fetchClinicalNoteDetailValues",e);var t=[];for(var l of this.clinicalNoteDetailValues)t.push(l.Value);this.drowdownOptions=t,this.dropdownLoading=!1},async saveClinicalNoteEncounter(){const e={caseNo:this.encounterCases[0].caseNumber,clinicalNoteCode:this.clinicalNoteDetails[0].clinical_note_code,clinicalNoteStatus:1,userID:1,resultFormat:{caseNo:this.encounterCases[0].caseNumber,clinicalNoteCode:this.clinicalNoteDetails[0].clinical_note_code,clinicalNoteStatus:1,fields:this.$refs.clinicalNoteValue}},t=await this.$store.dispatch("encounters/saveClinicalEncounter",e);if(!t[0].ERR){for(var l of this.$refs.clinicalNoteValue){const e={clinicalFieldCode:l.opts.clinicalFieldCode,clinicalNoteValue:l.value,clinicalEncounterID:t[0].ENCOUNTERID},i=await this.$store.dispatch("encounters/saveClinicalEncounterDetails",e);if(i[0].ERR)return this.showNotif("error",`Error saving ${i}`),!1}this.showNotif("success","Clinical Note Saved"),this.$emit("getClinicalNotes",!0)}},showNotif(e,t){let l="";l="success"===e?"blue-10":"negative",this.$q.notify({progress:!0,message:t,color:l})}}});var _t=l(4842),qt=l(3944),vt=l(6915),Dt=l(3017),xt=l(3414),It=l(2035),kt=l(677);const Et=(0,be.Z)(yt,[["render",Ct]]),Zt=Et;xe()(yt,"components",{QCard:qe.Z,QInput:_t.Z,QIcon:ot.Z,QPopupProxy:qt.Z,QDate:vt.Z,QBtn:ye.Z,QSelect:Dt.Z,QItem:xt.Z,QItemSection:It.Z,QSeparator:it.Z,QScrollArea:Ce.Z}),xe()(yt,"directives",{ClosePopup:kt.Z});const Vt={class:"text-h6"},Wt={class:"row q-col-gutter-md justify-between"},Mt={class:"col-auto"},Ft=(0,i._)("div",{class:"col-auto text-uppercase text-xs"},"Created By",-1),Lt={class:"col text-md text-uppercase"},Tt={class:"col-auto"},Rt=(0,i._)("div",{class:"col-auto text-uppercase text-xs"},"SAVE DATE",-1),St={class:"col text-md text-uppercase"},jt={key:1,style:{height:"450px"},class:"flex flex-center text-h5"};function Qt(e,t,l,o,s,n){const c=(0,i.up)("q-card"),r=(0,i.up)("q-separator"),d=(0,i.up)("q-scroll-area"),u=(0,i.up)("clinical-note-details"),p=(0,i.up)("q-dialog"),h=(0,i.Q2)("ripple");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(c,{class:"shadow-0",borderless:""},{default:(0,i.w5)((()=>[(0,i._)("div",null,[(0,i._)("div",Vt,(0,a.zw)(this.clinicalNoteDetails.clinical_note),1),(0,i.Uk)(" "+(0,a.zw)(this.clinicalNoteDetails.clinical_note_description),1)])])),_:1}),(0,i.Wm)(r,{class:"q-my-sm"}),this.clinicalEncounters.length>0?((0,i.wg)(),(0,i.j4)(c,{key:0,class:"shadow-0",borderless:""},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{style:{height:"450px"},ref:"scrollArea",visible:!0},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(this.clinicalEncounters,((t,l)=>((0,i.wg)(),(0,i.iD)("div",{key:l,class:"q-ma-md row q-col-gutter-md"},[(0,i.wy)(((0,i.wg)(),(0,i.j4)(c,{square:"",borderless:"",class:"shadow-1 full-width cursor-pointer q-pa-md bg-blue-10 text-white",style:{"border-left":"8px solid #f57f17 !important"},onClick:l=>e.showClinicalNoteDetails(t)},{default:(0,i.w5)((()=>[(0,i._)("div",Wt,[(0,i._)("div",Mt,[Ft,(0,i._)("div",Lt,(0,a.zw)(t.user_name)+" - "+(0,a.zw)(t.role),1)]),(0,i._)("div",Tt,[Rt,(0,i._)("div",St,(0,a.zw)(t.formattedUpdateDatetime),1)])])])),_:2},1032,["onClick"])),[[h]])])))),128))])),_:1},512)])),_:1})):((0,i.wg)(),(0,i.iD)("div",jt," NO DATA AVAILABLE ")),(0,i.Wm)(p,{modelValue:e.clinicalNoteDialogDetails,"onUpdate:modelValue":t[1]||(t[1]=t=>e.clinicalNoteDialogDetails=t),"full-height":"","full-width":"",persistent:"",maximized:"",class:"q-pa-none q-ma-none",onCloseAddDialog:t[2]||(t[2]=t=>e.clinicalNoteDialogDetails=!1)},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{class:"q-pa-none q-ma-none",onCloseDialog:t[0]||(t[0]=t=>e.clinicalNoteDialogDetails=!1),selectedClinicalNote:this.selectedClinicalNote},null,8,["selectedClinicalNote"])])),_:1},8,["modelValue"])])}const $t={class:"row q-col-gutter-md justify-between"},At={class:"col-auto"},zt=(0,i._)("div",{class:"col-auto text-uppercase text-xs"},"Created By",-1),Pt={class:"col text-md text-uppercase"},Gt={class:"col-auto"},Ot=(0,i._)("div",{class:"col-auto text-uppercase text-xs"},"SAVE DATE",-1),Ut={class:"col text-md text-uppercase"};function Ht(e,t,l,o,s,n){const c=(0,i.up)("q-card-section"),r=(0,i.up)("Date"),d=(0,i.up)("Text"),u=(0,i.up)("Number"),p=(0,i.up)("Textarea"),h=(0,i.up)("Select"),g=(0,i.up)("ICD10"),f=(0,i.up)("NumberRange"),m=(0,i.up)("DateRange"),N=(0,i.up)("q-scroll-area"),w=(0,i.up)("q-btn"),b=(0,i.up)("q-btn-group"),C=(0,i.up)("q-card-actions"),y=(0,i.up)("q-card");return(0,i.wg)(),(0,i.j4)(y,{square:"",class:"q-pa-0 q-ma-0"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{class:"bg-blue-10 text-white fixed-top"},{default:(0,i.w5)((()=>[(0,i._)("div",$t,[(0,i._)("div",At,[zt,(0,i._)("div",Pt,(0,a.zw)(e.selectedClinicalNote.user_name)+" - "+(0,a.zw)(e.selectedClinicalNote.role),1)]),(0,i._)("div",Gt,[Ot,(0,i._)("div",Ut,(0,a.zw)(e.selectedClinicalNote.formattedUpdateDatetime),1)])])])),_:1}),(0,i.Wm)(N,{class:"fit"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{class:"q-mt-xl q-mb-xl"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(this.resultFormat,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{key:t,class:"q-ma-md"},["date"==e.opts.type?((0,i.wg)(),(0,i.j4)(r,{key:0,opts:{label:e.opts.label,requiredMessage:e.opts.requiredMessage,required:e.opts.required,type:e.opts.type,type:e.opts.type,clinicalNoteCode:e.opts.clinicalNoteCode,clinicalFieldCode:e.opts.clinicalFieldCode,currentValue:e.value,withValue:!0,disable:this.disableInput},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):"text"==e.opts.type?((0,i.wg)(),(0,i.j4)(d,{key:1,opts:{label:e.opts.label,requiredMessage:e.opts.requiredMessage,required:e.opts.required,type:e.opts.type,clinicalNoteCode:e.opts.clinicalNoteCode,clinicalFieldCode:e.opts.clinicalFieldCode,currentValue:e.value,withValue:!0,disable:this.disableInput},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):"number"==e.opts.type?((0,i.wg)(),(0,i.j4)(u,{key:2,opts:{label:e.opts.label,requiredMessage:e.opts.requiredMessage,required:e.opts.required,type:e.opts.type,clinicalNoteCode:e.opts.clinicalNoteCode,clinicalFieldCode:e.opts.clinicalFieldCode,currentValue:e.value,withValue:!0,disable:this.disableInput},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):"textarea"==e.opts.type?((0,i.wg)(),(0,i.j4)(p,{key:3,opts:{label:e.opts.label,requiredMessage:e.opts.requiredMessage,required:e.opts.required,type:e.opts.type,clinicalNoteCode:e.opts.clinicalNoteCode,clinicalFieldCode:e.opts.clinicalFieldCode,currentValue:e.value,withValue:!0,disable:this.disableInput},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):"select"==e.opts.type?((0,i.wg)(),(0,i.j4)(h,{key:4,opts:{label:e.opts.label,requiredMessage:e.opts.requiredMessage,required:e.opts.required,type:e.opts.type,options:e.opts.options,clinicalNoteCode:e.opts.clinicalNoteCode,clinicalFieldCode:e.opts.clinicalFieldCode,currentValue:e.value,withValue:!0,disable:this.disableInput},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):"icd10"==e.opts.type?((0,i.wg)(),(0,i.j4)(g,{key:5,opts:{label:e.opts.label,requiredMessage:e.opts.requiredMessage,required:e.opts.required,type:e.opts.type,clinicalNoteCode:e.opts.clinicalNoteCode,clinicalFieldCode:e.opts.clinicalFieldCode,value:e.value,withValue:!0,disable:this.disableInput},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):"numberRange"==e.opts.type?((0,i.wg)(),(0,i.j4)(f,{key:6,opts:{label:e.opts.label,requiredMessage:e.opts.requiredMessage,required:e.opts.required,type:e.opts.type,clinicalNoteCode:e.opts.clinicalNoteCode,clinicalFieldCode:e.opts.clinicalFieldCode,currentValue:e.value,withValue:!0,disable:this.disableInput},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):"dateRange"==e.opts.type?((0,i.wg)(),(0,i.j4)(m,{key:7,opts:{label:e.opts.label,requiredMessage:e.opts.requiredMessage,required:e.opts.required,type:e.opts.type,clinicalNoteCode:e.opts.clinicalNoteCode,clinicalFieldCode:e.opts.clinicalFieldCode,currentValue:e.value,withValue:!0,disable:this.disableInput},ref_for:!0,ref:"clinicalNoteValue"},null,8,["opts"])):(0,i.kq)("",!0)])))),128))])),_:1})])),_:1}),(0,i.Wm)(C,{align:"right",class:"q-pa-md bg-blue-10 text-white fixed-bottom"},{default:(0,i.w5)((()=>[(0,i.Wm)(b,null,{default:(0,i.w5)((()=>[this.disableInput?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(w,{key:0,onClick:t[0]||(t[0]=t=>e.updateClinicalNote()),label:"Update",icon:"fa fa-save",color:"green"})),(0,i.Wm)(w,{onClick:t[1]||(t[1]=t=>e.closeDialog()),label:"Close",icon:"fa fa-times",color:"red"})])),_:1})])),_:1})])),_:1})}const Bt=(0,i.aZ)({name:"ClinicalNoteDetails",props:["selectedClinicalNote"],data(){return{resultFormat:[],disableInput:!1}},components:{Date:Se.Z,Text:je.Z,Number:Qe.Z,Textarea:$e.Z,Select:Ae.Z,ICD10:ze.Z,NumberRange:Pe.Z,DateRange:Ge.Z},computed:{...(0,Ee.Se)({clinicalEncounters:"encounters/clinicalEncounters",userCredentials:"user/credentials",encounterCases:"encounters/encounterCases",clinicalEncounterDetails:"encounters/clinicalEncounterDetails"})},created(){this.formatResult()},methods:{formatResult(){this.resultFormat=this.selectedClinicalNote.result_format.fields,this.selectedClinicalNote.user_id!==this.userCredentials.userID&&(this.disableInput=!0)},async updateClinicalNote(){const e={clinicalEncounterID:this.selectedClinicalNote.clinical_encounter_id,userID:1,resultFormat:{caseNo:this.encounterCases[0].caseNumber,clinicalNoteCode:this.selectedClinicalNote.clinical_note_code,clinicalNoteStatus:1,fields:this.$refs.clinicalNoteValue}},t=await this.$store.dispatch("encounters/updateClinicalEncounter",e);if(!t[0].ERR){for(var l of this.$refs.clinicalNoteValue){var i=this.clinicalEncounterDetails.filter((e=>e.clinical_field_code===l.opts.clinicalFieldCode));const e={clinicalEncounterDetailID:i[0].id,clinicalFieldValue:l.value},t=await this.$store.dispatch("encounters/updateClinicalEncounterDetails",e);if(t[0].ERR)return this.showNotif("error",`Error saving ${t}`),!1}this.showNotif("success","Clinical Note Details Updated"),this.closeDialog()}},closeDialog(){this.$emit("closeDialog",!0)},showNotif(e,t){let l="";l="success"===e?"blue-10":"negative",this.$q.notify({progress:!0,message:t,color:l})}}}),Yt=(0,be.Z)(Bt,[["render",Ht]]),Kt=Yt;xe()(Bt,"components",{QCard:qe.Z,QCardSection:ve.Z,QScrollArea:Ce.Z,QCardActions:rt.Z,QBtnGroup:Ue.Z,QBtn:ye.Z});const Jt=(0,i.aZ)({name:"OtherClinicalNotes",props:["clinicalNoteDetails","clinicalEncounters"],data(){return{selectedClinicalNote:[],clinicalNoteDialogDetails:!1}},watch:{clinicalNoteDialogDetails(e){e||(this.selectedClinicalNote=[],this.$emit("getClinicalNotes",!0))}},methods:{async showClinicalNoteDetails(e){this.selectedClinicalNote=e,this.clinicalNoteDialogDetails=!0;const t={clinicalEncounterID:e.clinical_encounter_id};console.log(e),await this.$store.dispatch("encounters/getClinicalEncounterDetails",t)}},components:{ClinicalNoteDetails:Kt}}),Xt=(0,be.Z)(Jt,[["render",Qt]]),el=Xt;xe()(Jt,"components",{QCard:qe.Z,QSeparator:it.Z,QScrollArea:Ce.Z,QDialog:_e.Z}),xe()(Jt,"directives",{Ripple:dt.Z});const tl=(0,i.aZ)({name:"MainEMR",props:["clinicalNoteCategories"],components:{ClinicalNoteFields:Zt,OtherClinicalNotes:el},data(){return{tab:"clinicalNotes",bools:{showInputFields:!1},splitterModel:18,splitterMobileModel:25,mobileTabShow:!1,clinicalTabs:"",search:"",selectionMenu:!1,clinicalNoteCat:[],clinicalNoteHistory:[],clinicalTabLoading:!1,selected:"",filter:"",filterRef:null}},computed:{...(0,Ee.Se)({colorEMR:"helpers/colorEMR",clinicalNotes:"clinicalNotes/clinicalNotes",infiniteScroll:"helpers/infiniteScroll",clinicalEncounters:"encounters/clinicalEncounters",userRole:"helpers/userRole",clinicalEncountersPage:"encounters/clinicalEncountersPage",clinicalEncountersRows:"encounters/clinicalEncountersRows",encounterCases:"encounters/encounterCases",clinicalCategoryNotes:"clinicalNotes/clinicalCategoryNotes",clinicalNoteDetails:"clinicalNotes/clinicalNoteDetails",visitEncounterNotes:"clinicalNotes/visitEncounterNotes",admissionEncounterNotes:"clinicalNotes/admissionEncounterNotes"})},watch:{selected(e){this.showClinicalDetails(e),this.checkCase()},clinicalCategoryNotes(e){this.clinicalNoteCat=e},async clinicalTabs(e){await this.getClinicalNotes(e)},clinicalNoteCat(e){e.length>0&&(this.clinicalTabs=e[0].categoryCode)},tab(e){this.showClinicalDetails(e),this.checkCase()}},async created(){"I"===this.encounterCases[0].patient_type?this.clinicalNoteCat=this.admissionEncounterNotes:this.clinicalNoteCat=this.visitEncounterNotes,this.getClinicalNotes()},methods:{async showClinicalDetails(e){var t="";for(var l of this.clinicalCategoryNotes){const i=l.children.filter((t=>t.label===e));if(void 0!==i[0]){const e={name:i[0].label,code:i[0].clinical_note_code,categoryCode:i[0].clinical_category,details:i[0]};t=e}else{const t=this.clinicalNoteCategories.filter((t=>t.label===e));t}}console.log(t),""!==t&&(await this.getClinicalNoteDetails(t.code),this.clinicalNoteDetails.length>0&&(this.bools.showInputFields=!0))},async scrollToTop(){this.$refs.scrollArea.setScrollPosition("vertical",1),await this.$store.dispatch("helpers/setInfiniteScroll",!0),await this.checkCase()},async selectSubgroup(){const e=!this.selectionMenu;this.selectionMenu=e},filterCN(e){const t=e.toUpperCase();var l=this.clinicalNoteCategories.filter((e=>e.filterName.includes(t)));this.clinicalNoteCat=l,0===l.length&&(this.clinicalTabs=[])},async fetchClinicalNotesCategories(){await this.$store.dispatch("clinicalNotes/fetchClinicalCategories"),this.clinicalNoteCat=this.clinicalNoteCategories},async getClinicalNotes(e){this.loadingTabs=!0;const t={sectionType:"ehr"};await this.$store.dispatch("clinicalNotes/fetchClinicalNotes",t),this.loadingTabs=!1},async checkCase(){this.clinicalTabLoading=!0;const e=await this.$store.dispatch("helpers/decrypt",this.$route.params.caseNo),t={type:"checking",dateFrom:null,dateTo:null,userType:this.userRole,patientType:null,caseNo:e.decrypted};await this.$store.dispatch("encounters/getCases",t);const l={caseNo:e.decrypted,rowsPage:this.clinicalEncountersRows,pageNo:this.clinicalEncountersPage,patientNo:this.encounterCases[0].patient_no,clinicalNotecode:this.clinicalNoteDetails[0].clinical_note_code};await this.$store.dispatch("encounters/getClinicalEncounters",l);var i=this.clinicalEncounters.filter((e=>e.clinical_note_category_id===this.clinicalTabs));this.clinicalNoteHistory=i,this.clinicalTabLoading=!1},async getClinicalNoteDetails(e){console.log(e,"clinicalNoteCode"),await this.$store.dispatch("clinicalNotes/fetchClinicalNoteDetails",e)},resetFilter(){this.filter=""}}});var ll=l(218),il=l(5551);const al=(0,be.Z)(tl,[["render",mt]]),ol=al;xe()(tl,"components",{QCard:qe.Z,QCardSection:ve.Z,QSplitter:ll.Z,QInput:_t.Z,QIcon:ot.Z,QTree:il.Z,QTabs:Xe.Z,QTab:et.Z,QSeparator:it.Z,QTabPanels:tt.Z,QTabPanel:lt.Z});const sl=(0,i.aZ)({name:"EMR",components:{PatientEncounterInfo:pt,MainEMR:ol},data(){return{bools:{isMultipleCaseNo:!0,isLoading:!1}}},computed:{...(0,Ee.Se)({rightDrawer:"helpers/drawerRight",colorEMR:"helpers/colorEMR",clinicalNoteCategories:"clinicalNotes/clinicalNoteCategories",showClinicalNoteDetails:"helpers/showClinicalNoteDetails",userRole:"helpers/userRole",encounterCases:"encounters/encounterCases",clinicalNotes:"clinicalNotes/clinicalNotes",infiniteScroll:"helpers/infiniteScroll",clinicalEncountersPage:"encounters/clinicalEncountersPage",clinicalEncountersRows:"encounters/clinicalEncountersRows"})},created(){this.fetchNotesCategories(),this.checkCase()},methods:{async fetchNotesCategories(){const e={sectionID:"ehr"};await this.$store.dispatch("clinicalNotes/fetchClinicalCategoryNotes",e)},async checkCase(){this.bools.isLoading=!0;const e=await this.$store.dispatch("helpers/decrypt",this.$route.params.caseNo),t={type:"checking",dateFrom:null,dateTo:null,userType:this.userRole,patientType:null,caseNo:e.decrypted,rowsPage:this.clinicalEncountersRows,pageNo:this.clinicalEncountersPage,paginated:1};await this.$store.dispatch("encounters/getCases",t),"emr-checked"===this.$route.name&&(this.bools.isMultipleCaseNo=!1),1===this.encounterCases.length&&(this.bools.isMultipleCaseNo=!1),this.bools.isLoading=!1},async caseRoute(e){const t=await this.$store.dispatch("helpers/encrypt",e);this.$router.push(`/emr/case/${t.encrypted}/checked`)}}});var nl=l(4379);const cl=(0,be.Z)(sl,[["render",u]]),rl=cl;xe()(sl,"components",{QPage:nl.Z,QSpinnerBars:nt.Z,QBtn:ye.Z})}}]);