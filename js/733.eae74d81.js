"use strict";(self["webpackChunkuerm_ehr"]=self["webpackChunkuerm_ehr"]||[]).push([[733],{2733:(t,e,a)=>{a.r(e),a.d(e,{default:()=>wt});var s=a(3673);const n={class:"row justify-end absolute-top-right z-top"};function i(t,e,a,i,o,r){const c=(0,s.up)("ChangeAccount"),l=(0,s.up)("DoctorDashboard"),d=(0,s.up)("ResidentDashboard"),u=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(u,null,{default:(0,s.w5)((()=>[(0,s._)("div",n,[(0,s.Wm)(c)]),"DR"==t.accountType?((0,s.wg)(),(0,s.j4)(l,{key:0})):"RE"==t.accountType?((0,s.wg)(),(0,s.j4)(d,{key:1})):(0,s.kq)("",!0)])),_:1})}var o=a(3617),r=(a(246),a(2323));function c(t,e,a,n,i,o){const c=(0,s.up)("q-item-section"),l=(0,s.up)("q-item"),d=(0,s.up)("q-list"),u=(0,s.up)("q-btn-dropdown");return(0,s.wg)(),(0,s.j4)(u,{icon:"settings",flat:"",class:"bg-dark text-white q-ma-sm"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{class:"bg-dark"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.accounts,(e=>((0,s.wg)(),(0,s.j4)(l,{class:"bg-dark",dark:"",clickable:"",onClick:a=>t.changeAccountType(e),key:e},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{avatar:"",class:"text-lg text-blue-4"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.code),1)])),_:2},1024),(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.description),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})}const l=(0,s.aZ)({name:"Change Account",computed:{...(0,o.Se)("user",["role"])},data(){return{accounts:[{code:"DR",description:"Doctor",role:"doctors"},{code:"RE",description:"Resident",role:"nurses"},{code:"NR",description:"Nurse",role:"residents"}]}},methods:{changeAccountType(t){this.$store.commit("user/changeAccount",{code:t.code,description:t.description,role:t.role})}}});var d=a(4260),u=a(2226),p=a(7011),m=a(3414),h=a(2035),g=a(7518),w=a.n(g);const f=(0,d.Z)(l,[["render",c]]),b=f;w()(l,"components",{QBtnDropdown:u.Z,QList:p.Z,QItem:m.Z,QItemSection:h.Z});const y={key:0,class:"row justify-center"},D={key:1,class:"column q-gutter-lg"};function k(t,e,a,n,i,o){const r=(0,s.up)("q-circular-progress"),c=(0,s.up)("ActivePatients"),l=(0,s.up)("PatientStatistics"),d=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(d,null,{default:(0,s.w5)((()=>[t.bools.isLoading?((0,s.wg)(),(0,s.iD)("div",y,[(0,s.Wm)(r,{indeterminate:"",size:"lg"})])):((0,s.wg)(),(0,s.iD)("div",D,[(0,s.Wm)(c,{class:"col-auto"}),(0,s.Wm)(l,{class:"col-auto q-px-lg"})]))])),_:1})}const v={key:0,class:"row justify-center"},_={key:1},q={class:"col text-weight-bold text-lg"},Z={class:"col row text-sm text-weight-light q-gutter-md"},W={class:"col-auto"},P={class:"col-auto"},C={class:"col-auto"},x={class:"col-auto"};function Q(t,e,a,n,i,o){const c=(0,s.up)("q-circular-progress"),l=(0,s.up)("q-tab"),d=(0,s.up)("q-tabs"),u=(0,s.up)("q-card-section"),p=(0,s.up)("q-item-section"),m=(0,s.up)("q-btn"),h=(0,s.up)("q-btn-group"),g=(0,s.up)("q-item"),w=(0,s.up)("q-list"),f=(0,s.up)("q-card");return(0,s.wg)(),(0,s.iD)("div",null,[t.bools.isLoading?((0,s.wg)(),(0,s.iD)("div",v,[(0,s.Wm)(c,{indeterminate:"",size:"lg"})])):((0,s.wg)(),(0,s.iD)("div",_,[(0,s.Wm)(d,{class:"bg-primary text-white",modelValue:t.tab,"onUpdate:modelValue":[e[0]||(e[0]=e=>t.tab=e),t.fetchPatients]},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{label:"Active",name:"Active",icon:"fas fa-check-circle"}),(0,s.Wm)(l,{label:"For Discharge",name:"For Discharge",icon:"fas fa-list-alt"}),(0,s.Wm)(l,{label:"Discharged",name:"Discharged",icon:"fas fa-calendar-alt"})])),_:1},8,["modelValue","onUpdate:modelValue"]),(0,s.Wm)(f,{flat:""},{default:(0,s.w5)((()=>[t.bools.isFetchingPx?((0,s.wg)(),(0,s.j4)(u,{key:0,class:"row justify-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{indeterminate:"",size:"lg",color:"primary"})])),_:1})):((0,s.wg)(),(0,s.j4)(u,{key:1},{default:(0,s.w5)((()=>[(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.patients,(e=>((0,s.wg)(),(0,s.j4)(g,{key:e},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{avatar:"",class:(0,r.C_)(["text-lg text-weight-medium","MALE"==e.gender?"text-blue-4":"text-pink-4"])},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.lastname.charAt(0))+(0,r.zw)(e.firstname.charAt(0)),1)])),_:2},1032,["class"]),(0,s.Wm)(p,{class:"col justify-start"},{default:(0,s.w5)((()=>[(0,s._)("div",q,(0,r.zw)(e.lastname)+" "+(0,r.zw)(e.firstname)+" "+(0,r.zw)(e.middle),1),(0,s._)("div",Z,[(0,s._)("div",W,(0,r.zw)(e.caseno),1),(0,s._)("div",P,(0,r.zw)(e.category),1),(0,s._)("div",C,(0,r.zw)(e.type),1),(0,s._)("div",x,(0,r.zw)(e.admissionAge),1)])])),_:2},1024),(0,s.Wm)(p,{side:""},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{flat:"",rounded:""},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{flat:"",color:"primary",label:t.$q.screen.lt.md?"":"Case Info",onClick:a=>t.showCaseInfo(e),icon:"fas fa-heartbeat"},null,8,["label","onClick"]),(0,s.Wm)(m,{flat:"",color:"warning",label:t.$q.screen.lt.md?"":"Patient Dashoard",onClick:a=>t.showPatientDashboard(e),icon:"fas fa-procedures"},null,8,["label","onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1}))])),_:1}),t.patients.length>15?((0,s.wg)(),(0,s.j4)(d,{key:0,class:"bg-primary text-white",modelValue:t.tab,"onUpdate:modelValue":[e[1]||(e[1]=e=>t.tab=e),t.fetchPatients]},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{label:"Active",name:"Active"}),(0,s.Wm)(l,{label:"For Discharge",name:"For Discharge"}),(0,s.Wm)(l,{label:"Discharged",name:"Discharged"})])),_:1},8,["modelValue","onUpdate:modelValue"])):(0,s.kq)("",!0)]))])}const z=(0,s.aZ)({name:"Active Patients",data(){return{patients:[],tab:"Active",bools:{isLoading:!1,isFetchingPx:!1}}},computed:{...(0,o.Se)("patients",["active"]),...(0,o.Se)("user",["credentials"])},methods:{async fetchPatients(){switch(this.bools.isFetchingPx=!0,this.tab){case"Active":this.patients=await this.$store.dispatch("patients/getPatientsByDr",this.credentials.code);break;case"For Discharge":this.patients=await this.$store.dispatch("patients/getPatientsByDr",this.credentials.code);break;case"Discharged":this.patients=await this.$store.dispatch("patients/getPatientsByDr",this.credentials.code);break}this.bools.isFetchingPx=!1},async showCaseInfo(t){const e=await this.$store.dispatch("helpers/encrypt",t.caseno);this.$router.push(`/emr/case/${e.encrypted}`)},async showPatientDashboard(t){const e=await this.$store.dispatch("helpers/encrypt",t.patientno);this.$router.push(`/patient-dashboard/${e.encrypted}`)}},async mounted(){this.bools.isLoading=!0,await this.fetchPatients(),this.bools.isLoading=!1}});var A=a(6122),$=a(7547),j=a(8408),L=a(151),I=a(5589),S=a(6375),U=a(2165);const F=(0,d.Z)(z,[["render",Q]]),T=F;w()(z,"components",{QCircularProgress:A.Z,QTabs:$.Z,QTab:j.Z,QCard:L.Z,QCardSection:I.Z,QList:p.Z,QItem:m.Z,QItemSection:h.Z,QBtnGroup:S.Z,QBtn:U.Z});const B={class:"row justify-center"},R={class:"text-weight-light text-ueppercase description"};function V(t,e,a,n,i,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",B,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.stats,((e,a)=>((0,s.wg)(),(0,s.iD)("span",{class:"col-xs-6 col-sm column items-center",key:e},[(0,s._)("span",{class:(0,r.C_)(["text-weight-bold numbers",t.getColor(a)])},(0,r.zw)(e.qty),3),(0,s._)("span",R,(0,r.zw)(e.department),1)])))),128))])])}const Y=(0,s.aZ)({data(){return{stats:[]}},methods:{getColor(t){let e="text-";switch(t){case 0:e+="red";break;case 1:e+="warning";break;case 2:e+="positive";break;case 3:e+="purple";break;case 4:e+="teal";break;default:e+="primary"}return e}},async mounted(){this.stats=await this.$store.dispatch("patients/getActiveStat")}}),H=(0,d.Z)(Y,[["render",V],["__scopeId","data-v-42425702"]]),K=H,M=(0,s.aZ)({components:{ActivePatients:T,PatientStatistics:K},data(){return{bools:{isLoading:!1}}}});var E=a(4379);const O=(0,d.Z)(M,[["render",k]]),G=O;w()(M,"components",{QPage:E.Z,QCircularProgress:A.Z});const N={key:0,class:"row justify-center"},J={key:1,class:"column q-gutter-lg"};function X(t,e,a,n,i,o){const r=(0,s.up)("q-circular-progress"),c=(0,s.up)("OPDPatients"),l=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(l,null,{default:(0,s.w5)((()=>[t.bools.isLoading?((0,s.wg)(),(0,s.iD)("div",N,[(0,s.Wm)(r,{indeterminate:"",size:"lg"})])):((0,s.wg)(),(0,s.iD)("div",J,[(0,s.Wm)(c,{class:"col-auto"})]))])),_:1})}var tt=a(8880);const et={key:0,class:"row justify-center q-mt-lg"},at={key:1},st={class:"row justify-center q-gutter-md q-my-lg"};function nt(t,e,a,n,i,o){const c=(0,s.up)("q-circular-progress"),l=(0,s.up)("q-badge"),d=(0,s.up)("q-btn"),u=(0,s.up)("q-separator"),p=(0,s.up)("q-item-label"),m=(0,s.up)("q-item-section"),h=(0,s.up)("q-btn-group"),g=(0,s.up)("q-item"),w=(0,s.up)("q-list");return(0,s.wg)(),(0,s.iD)("div",null,[t.bools.isLoading?((0,s.wg)(),(0,s.iD)("div",et,[(0,s.Wm)(c,{indeterminate:"",size:"lg",color:"primary"})])):((0,s.wg)(),(0,s.iD)("div",at,[(0,s._)("div",st,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.departments,(e=>((0,s.wg)(),(0,s.j4)(d,{onClick:(0,tt.iM)((a=>t.dept=e.department),["prevent"]),key:e,label:e.department,color:t.activeDept==e.department?"primary":"",flat:t.activeDept!=e.department,rounded:""},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{floating:"",transparent:"",color:"red"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.qty),1)])),_:2},1024)])),_:2},1032,["onClick","label","color","flat"])))),128))]),(0,s.Wm)(u,{color:"primary",spaced:""}),(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.patientList,(e=>((0,s.wg)(),(0,s.j4)(g,{key:e},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{side:"",style:{width:"50px"},class:"items-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{class:(0,r.C_)(["text-h5","MALE"==e.gender?"text-blue":"text-pink"])},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.gender.charAt(0)),1)])),_:2},1032,["class"])])),_:2},1024),(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,{class:"text-weight-medium text-h6"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.name),1)])),_:2},1024),(0,s.Wm)(p,{caption:"",class:"text-weight-bold row q-gutter-md"},{default:(0,s.w5)((()=>[(0,s._)("div",null,(0,r.zw)(e.department),1),(0,s._)("div",null,(0,r.zw)(t.getAge(e.birthDate)),1)])),_:2},1024)])),_:2},1024),(0,s.Wm)(m,{side:""},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{flat:"",rounded:""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{flat:"",color:"primary",label:t.$q.screen.lt.md?"":"Case Info",onClick:a=>t.showCaseInfo(e),icon:"fas fa-heartbeat"},null,8,["label","onClick"]),(0,s.Wm)(d,{flat:"",color:"warning",label:t.$q.screen.lt.md?"":"Patient Dashoard",onClick:a=>t.showPatientDashboard(e),icon:"fas fa-procedures"},null,8,["label","onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})]))])}a(71);const it=(0,s.aZ)({name:"OPD Patients",data(){return{bools:{isLoading:!1},patients:[],dept:""}},methods:{async showCaseInfo(t){const e=await this.$store.dispatch("helpers/encrypt",t.caseno);console.log(t.caseno,e),this.$router.push(`/emr/case/${e.encrypted}`)},async showPatientDashboard(t){const e=await this.$store.dispatch("helpers/encrypt",t.patientno);this.$router.push(`/patient-dashboard/${e.encrypted}`)},getAge(t){const e=new Date(t),a=new Date;let s=a-e.getTime(),n=new Date(s);return Math.abs(n.getUTCFullYear()-1970)}},computed:{activeDept(){return this.dept||this.firstDept.department},departments(){const t=[];if(0==this.patients.length)return[];let e=this.patients.map((t=>t.department));e=[...new Set(e)].sort();for(let a of e)t.push({department:a,qty:this.patients.filter((t=>t.department==a)).length});return t},firstDept(){return this.departments[0]},patientList(){return this.patients.filter((t=>t.department==this.activeDept))}},async mounted(){this.bools.isLoading=!0,this.patients=await this.$store.dispatch("patients/getOPDPatients"),this.bools.isLoading=!1}});var ot=a(9721),rt=a(5869),ct=a(2350);const lt=(0,d.Z)(it,[["render",nt]]),dt=lt;w()(it,"components",{QTabs:$.Z,QCircularProgress:A.Z,QBtn:U.Z,QBadge:ot.Z,QSeparator:rt.Z,QList:p.Z,QItem:m.Z,QItemSection:h.Z,QItemLabel:ct.Z,QBtnGroup:S.Z});const ut=(0,s.aZ)({components:{OPDPatients:dt},data(){return{bools:{isLoading:!1}}}}),pt=(0,d.Z)(ut,[["render",X]]),mt=pt;w()(ut,"components",{QPage:E.Z,QCircularProgress:A.Z});const ht=(0,s.aZ)({name:"Dashboard",components:{ChangeAccount:b,DoctorDashboard:G,ResidentDashboard:mt},data(){return{search:"",splitterModel:70,modelSplitter:50,role:"nurses"}},computed:{...(0,o.Se)("user",["accountType"])},methods:{navRoute(t){this.$router.push(t)}}}),gt=(0,d.Z)(ht,[["render",i]]),wt=gt;w()(ht,"components",{QPage:E.Z})}}]);